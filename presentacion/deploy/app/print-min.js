/*! Storymaps-Cascade - v1.10.0 - 2019-03-23, 04:23:25 AM - Copyright Â© 2016-2018 Esri 
This application is released under the Apache License V2.0 by Esri http://www.esri.com/ - https://github.com/Esri/story-map-cascade */function debugLine(e,t,n){!0===e&&(e="true"),!1===e&&(e="false");var r=e;if("object"==typeof e){r="";for(name in e){var i=e[name];r+=" "+name+": "+i}}if(1!=t||n||(r+=" "+Math.random()),1==n){var o=jQuery("#debug_line");o.width(200),o.height()>=500&&o.html("");r=o.html()+"<br> -------------- <br>"+r}jQuery("#debug_line").show().html(r)}function debugSide(e){var t="";for(name in e){var n=e[name];t+=name+" : "+n+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t[e]=n}var t=null,n=this,i={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==n.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,t):document.msExitFullscreen?e("MSFullscreenChange",document,t):document.mozCancelFullScreen?e("mozfullscreenchange",document,t):e("fullscreenchange",document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],n=document.createElement("div");for(var r in e){var i=e[r];if(i+"Transform"in n.style)return i=i.toLowerCase(),t=i,i}return t="",""},this.getImageInsideParentDataByImage=function(e,t,r){var i=e.parent(),o=n.getImageOriginalSize(e);return n.getImageInsideParentData(i,o.width,o.height,t,r)},this.getImageInsideParentData=function(e,t,n,r,i,o,a){if(!i)var i={};var s={};if(void 0===o)var o=e.width();if(void 0===a)var a=e.height();i.padding_left&&(o-=i.padding_left),i.padding_right&&(o-=i.padding_right),i.padding_top&&(a-=i.padding_top),i.padding_bottom&&(a-=i.padding_bottom);var l=null,u="100%",c=null,d=null,p="display:block;margin:0px auto;";if(t>0&&n>0){if("down"==r&&t<o&&n<a)u=n,l=t,d=(o-l)/2,c=(a-u)/2;else if("fill"==r){var h=t/n;u=a,l=u*h,l<o?(l=o,u=l/h,d=0,c=Math.round((u-a)/2*-1)):(c=0,d=Math.round((l-o)/2*-1))}else{var h=t/n;u=a,l=u*h,c=0,d=(o-l)/2,"fitvert"!=r&&l>o&&(l=o,u=l/h,d=0,c=(a-u)/2)}l=Math.floor(l),u=Math.floor(u),c=Math.floor(c),d=Math.floor(d),p="position:absolute;"}return i.padding_top&&(c+=i.padding_top),i.padding_left&&(d+=i.padding_left),s.imageWidth=l,s.imageHeight=u,s.imageTop=c,s.imageLeft=d,s.imageRight=d+l,s.imageBottom=0==c||"100%"==u?null:c+u,s.style=p,s},this.getElementCenterPosition=function(e,t){var r=e.parent(),i=n.getElementSize(e),o=n.getElementSize(r),a=o.width,s=o.height;t&&void 0!==t.padding_top&&(s-=t.padding_top),t&&void 0!==t.padding_bottom&&(s-=t.padding_bottom),t&&void 0!==t.padding_left&&(a-=t.padding_left),t&&void 0!==t.padding_right&&(a-=t.padding_right);var l={};return l.left=Math.round((a-i.width)/2),l.top=Math.round((s-i.height)/2),t&&void 0!==t.padding_top&&(l.top+=t.padding_top),t&&void 0!==t.padding_left&&(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var r=n.getElementSize(e),i={};return i.x=r.width/2,i.y=r.height/2,1==t&&(i.x+=r.left,i.y+=r.top),i.x=Math.round(i.x),i.y=Math.round(i.y),i},this.getMousePosition=function(e,t){var n={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(n.pageX=e.originalEvent.touches[0].pageX,n.pageY=e.originalEvent.touches[0].pageY,n.clientX=e.originalEvent.touches[0].clientX,n.clientY=e.originalEvent.touches[0].clientY),t){var r=t.offset();n.mouseX=n.pageX-r.left,n.mouseY=n.pageY-r.top}return n},this.getMouseElementPoint=function(e,t){var r={x:e.pageX,y:e.pageY};return n.getElementLocalPoint(r,t)},this.getElementLocalPoint=function(e,t){var n={},r=t.offset();return n.x=Math.round(e.x-r.left),n.y=Math.round(e.y-r.top),n},this.getImageOriginalSize=function(e,t,n){if(void 0!==t&&void 0!==n)return{width:t,height:n};var r=e[0];if(void 0===r)throw new Error("getImageOriginalSize error - Image not found");var i={};if(void 0===r.naturalWidth||0===r.naturalWidth&&0===r.naturalHeight){if("number"==typeof e.data("naturalWidth")){var i={};return i.width=e.data("naturalWidth"),i.height=e.data("naturalHeight"),i}var o=new Image;return o.src=r.src,o.complete?(i.width=o.width,i.height=o.height,e.data("naturalWidth",i.width),e.data("naturalHeight",i.height),i):{width:e.data("backupWidth"),height:e.data("backupHeight")}}return i.width=r.naturalWidth,i.height=r.naturalHeight,i},this.getimageRatio=function(e){var t=n.getImageOriginalSize(e);return n.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),r=n.getElementSize(e),i=n.getElementSize(t);return r.width<=i.width&&r.height<=i.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),r=n.getElementSize(e),i=n.getElementSize(t);return r.width>i.width||r.height>i.height},this.isPointInsideElement=function(e,t){return 0!=(e.x>=0&&e.x<t.width)&&0!=(e.y>=0&&e.y<t.height)},this.getElementRelativePos=function(e,t,r,i){if(!i)var i=e.parent();if("number"==typeof e)var o={width:e,height:e};else var o=n.getElementSize(e);var a=n.getElementSize(i);switch(t){case"top":case"left":t=0,r&&(t+=r);break;case"center":t=Math.round((a.width-o.width)/2),r&&(t+=r);break;case"right":t=a.width-o.width,r&&(t-=r);break;case"middle":t=Math.round((a.height-o.height)/2),r&&(t+=r);break;case"bottom":t=a.height-o.height,r&&(t-=r)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,r,i,o,a,s){if(!r)var r=1.2;if(!o)var o="fit";var l,u,c,d,p=r,h=e.parent(),f=n.getElementSize(e),m=n.getImageOriginalSize(e),g=!1,v=0,y=0,b=0,_=0;if(i){var w=n.getMouseElementPoint(i,e);g=n.isPointInsideElement(w,f),b=w.x,_=w.y}else g=!1;if(0==g){var C=n.getElementCenterPoint(e);b=C.x,_=C.y}if(1==t)l=f.height*p,u=f.width*p,0!=b&&(v=-(b*p-b)),0!=_&&(y=-(_*p-_));else{l=f.height/p,u=f.width/p;if(u<n.getImageInsideParentData(h,m.width,m.height,o,s).imageWidth)return n.scaleImageFitParent(e,m.width,m.height,o,s),!0;1==g&&(0!=b&&(v=-(b/p-b)),0!=_&&(y=-(_/p-_)))}if(a){var E=1;if(0!=m.width&&(E=u/m.width),E>a)return!1}if(n.setElementSize(e,u,l),0==t&&0==g){var x=n.getElementCenterPosition(e);c=x.left,d=x.top}else c=f.left+v,d=f.top+y;return n.placeElement(e,c,d),!0},this.placeElement=function(e,t,r,i,o,a){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(r)){if(!a)var a=e.parent();var s=n.getElementSize(e),l=n.getElementSize(a)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,i&&(t+=i);break;case"center":t=Math.round((l.width-s.width)/2),i&&(t+=i);break;case"right":t=l.width-s.width,i&&(t-=i)}if(0==jQuery.isNumeric(r))switch(r){case"top":r=0,o&&(r+=o);break;case"middle":case"center":r=Math.round((l.height-s.height)/2),o&&(r+=o);break;case"bottom":r=l.height-s.height,o&&(r-=o)}var u={position:"absolute",margin:"0px"};null!==t&&(u.left=t),null!==r&&(u.top=r),e.css(u)},this.placeElementInParentCenter=function(e){n.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,n,r,i){var o={width:r+"px",height:i+"px",left:t+"px",top:n+"px",position:"absolute",margin:"0px"};e.css(o)},this.setElementSize=function(e,t,n){var r={width:t+"px"};null!==n&&void 0!==n&&(r.height=n+"px"),e.css(r)},this.cloneElementSizeAndPos=function(e,t,r,i,o){var a=e.position();if(void 0==a)throw new Error("Can't get size, empty element");!0===r?(a.height=e.outerHeight(),a.width=e.outerWidth()):(a.height=e.height(),a.width=e.width()),a.left=Math.round(a.left),a.top=Math.round(a.top),i&&(a.left+=i),o&&(a.top+=o),n.setElementSizeAndPosition(t,a.left,a.top,a.width,a.height)},this.placeImageInsideParent=function(e,t,r,i,o,a){var s=n.getImageInsideParentData(t,r,i,o,a),l="<img";return null!==s.imageWidth&&(l+=" width = '"+s.imageWidth+"'",s.style+="width:"+s.imageWidth+";"),null!=s.imageHeight&&("100%"==s.imageHeight?(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+";"):(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+"px;")),null!==s.imageTop&&(s.style+="top:"+s.imageTop+"px;"),null!==s.imageLeft&&(s.style+="left:"+s.imageLeft+"px;"),e=n.escapeDoubleSlash(e),l+=" style='"+s.style+"'",l+=' src="'+e+'"',l+=">",t.html(l),t.children("img")},this.scaleImageCoverParent=function(e,t,r){if("number"==typeof t)var i=t,o=r;else var i=t.outerWidth(),o=t.outerHeight();var a=n.getImageOriginalSize(e),s=a.width,l=a.height,u=s/l,c=o,d=c*u,p=0,h=0;d<i?(d=i,c=d/u,h=0,p=Math.round((c-o)/2*-1)):(p=0,h=Math.round((d-i)/2*-1)),d=Math.round(d),c=Math.round(c),e.css({width:d+"px",height:c+"px",left:h+"px",top:p+"px"})},this.scaleImageFitParent=function(e,t,r,i,o){var a=e.parent(),s=n.getImageInsideParentData(a,t,r,i,o),l=!1,u={};return null!==s.imageWidth&&(l=!0,e.removeAttr("width"),u.width=s.imageWidth+"px"),null!=s.imageHeight&&(l=!0,e.removeAttr("height"),u.height=s.imageHeight+"px"),null!==s.imageTop&&(l=!0,u.top=s.imageTop+"px"),null!==s.imageLeft&&(l=!0,u.left=s.imageLeft+"px"),1==l&&(u.position="absolute",u.margin="0px 0px",e.css(u)),s},this.scaleImageByHeight=function(e,t,r,i){var o=n.getImageOriginalSize(e,r,i),a=o.width/o.height,s=Math.round(t*a);t=Math.round(t),n.setElementSize(e,s,t)},this.scaleImageByWidth=function(e,t,r,i){var o=n.getImageOriginalSize(e,r,i),a=o.width/o.height,s=Math.round(t/a);t=Math.round(t),n.setElementSize(e,t,s)},this.scaleImageExactSizeInParent=function(e,t,r,i,o,a){var s=e.parent(),l=n.getElementSize(s);l.width<i&&(i=l.width),l.height<o&&(o=l.height);var u=n.getImageInsideParentData(null,t,r,a,null,i,o),c=i,d=o,p=u.imageLeft,h=u.imageLeft,f=u.imageTop,m=u.imageTop,g=Math.round((l.width-i)/2),v=Math.round((l.height-o)/2),y=u.imageWidth+p+h,b=i-y;0!=b&&(h+=b);var _=u.imageHeight+f+m,b=o-_;0!=b&&(m+=b),e.removeAttr("width"),e.removeAttr("height");var w={position:"absolute",margin:"0px 0px"};w.width=c+"px",w.height=d+"px",w.left=g+"px",w.top=v+"px",w["padding-left"]=p+"px",w["padding-top"]=f+"px",w["padding-right"]=h+"px",w["padding-bottom"]=m+"px",e.css(w);var C={};return C.imageWidth=c,C.imageHeight=d,C},this.showElement=function(e,t,n){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),n&&n.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";0==n.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,n){if(!t)return e;var r={};return jQuery.each(e,function(e,i){if(0===e.indexOf(t+"_"+n+"_")){var o=e.replace(t+"_"+n+"_",n+"_");r[o]=i}else r[e]=i}),r},this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";1==n.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,n,r,i,o){if(!o)var o=!1;return i=e+(i-n)/(r-n)*(t-e),1==o&&(i<e&&(i=e),i>t&&(i=t)),i},this.getNormalizedValue=function(e,t,n,r,i){return i=e+(i-e)/(t-e)*(r-n)},this.getDistance=function(e,t,n,r){return Math.round(Math.sqrt(Math.abs((n-e)*(n-e)+(r-t)*(r-t))))},this.getMiddlePoint=function(e,t,n,r){var i={};return i.x=e+Math.round((n-e)/2),i.y=t+Math.round((r-t)/2),i},this.getNumItemsInSpace=function(e,t,n){return Math.floor((e+n)/(t+n))},this.getNumItemsInSpaceRound=function(e,t,n){return Math.round((e+n)/(t+n))},this.getSpaceByNumItems=function(e,t,n){return e*t+(e-1)*n},this.getItemSizeInSpace=function(e,t,n){return Math.floor((e-(t-1)*n)/t)},this.getColX=function(e,t,n){return e*(t+n)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var n=Math.floor(e/t);return{col:Math.floor(e%t),row:n}},this.getIndexByRowCol=function(e,t,n){return e<0?-1:t<0?-1:e*n+t},this.getPrevRowSameColIndex=function(e,t){var r=n.getColRowByIndex(e,t);return n.getIndexByRowCol(r.row-1,r.col,t)},this.getNextRowSameColIndex=function(e,t){var r=n.getColRowByIndex(e,t);return n.getIndexByRowCol(r.row+1,r.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==n.isTouchDevice())return null;var t=n.getStoredEventData(e);if(null===t.scrollDir&&(Math.abs(t.diffMouseX)>15?t.scrollDir="hor":Math.abs(t.diffMouseY)>15&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),i.dataCache[e].scrollStartY=t.lastMouseClientY,i.dataCache[e].scrollOrigin=t.scrollOrigin),i.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var r=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return r>=0&&jQuery(document).scrollTop(r),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===n.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,r){var o=n.getMousePosition(e),a=jQuery.now(),s={startTime:a,lastTime:a,startMouseX:o.pageX,startMouseY:o.pageY,lastMouseX:o.pageX,lastMouseY:o.pageY,startMouseClientY:o.clientY,lastMouseClientY:o.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};r&&(s=jQuery.extend(s,r)),i.dataCache[t]=s},this.updateStoredEventData=function(e,t,r){if(!i.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var o=i.dataCache[t],a=n.getMousePosition(e);o.lastTime=jQuery.now(),void 0!==a.pageX&&(o.lastMouseX=a.pageX,o.lastMouseY=a.pageY,o.lastMouseClientY=a.clientY),r&&(o=jQuery.extend(o,r)),i.dataCache[t]=o},this.getStoredEventData=function(e,t){if(!i.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var n=i.dataCache[e];return n.diffMouseX=n.lastMouseX-n.startMouseX,n.diffMouseY=n.lastMouseY-n.startMouseY,n.diffMouseClientY=n.lastMouseClientY-n.startMouseClientY,n.diffTime=n.lastTime-n.startTime,!0===t?(n.startMousePos=n.lastMouseY,n.lastMousePos=n.lastMouseY,n.diffMousePos=n.diffMouseY):(n.startMousePos=n.lastMouseX,n.lastMousePos=n.lastMouseX,n.diffMousePos=n.diffMouseX),n},this.isApproveStoredEventClick=function(e,t){if(!i.dataCache[e])return!0;var r=n.getStoredEventData(e,t),o=Math.abs(r.diffMousePos);return!(r.diffTime>400)&&!(o>30)},this.clearStoredEventData=function(e){i.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==i.isTouchDevice)return i.isTouchDevice;try{document.createEvent("TouchEvent"),i.isTouchDevice=!0}catch(e){i.isTouchDevice=!1}return i.isTouchDevice},this.isRgbaSupported=function(){if(-1!==i.isRgbaSupported)return i.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var n=e.style.color!=t;return e.style.color=t,i.isRgbaSupported=n,n},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),n=e.split("."),r=0,i=t.length;r<i;r++){var o=parseInt(t[r]),a=parseInt(n[r]);if(void 0===n[r])return!0;if(a>o)return!1;if(o>a)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var n=e.replace("#","");return n===e?e:(r=parseInt(n.substring(0,2),16),g=parseInt(n.substring(2,4),16),b=parseInt(n.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),n=t.getDate()+"/"+t.getMonth();return n+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],n=0;n<e.length;n++){var r={pageX:e[n].pageX,pageY:e[n].pageY};t.push(r)}return t},this.startTimeDebug=function(){i.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-i.starTime},!0)},this.initProgressIndicator=function(e,t,r){switch("bar"!=e&&0==n.isCanvasExists()&&(e="bar"),e){case"bar":var i=new UGProgressBar;i.putHidden(r,t);break;default:case"pie":var i=new UGProgressPie;i.putHidden(r,t);break;case"pie2":t.type_fill=!0;var i=new UGProgressPie;i.putHidden(r,t)}return i},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){i.arrThemes.push(e)},this.getArrThemes=function(){return i.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,i.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==i.arrThemes.length?"":i.arrThemes[0]},this.isTimePassed=function(e,t){if(!t)var t=100;var n=jQuery.now();0==i.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=i.timeCache[e];var r=n-lastTime;return i.timeCache[e]=n,!(r<=t)},this.whenContiniousEventOver=function(e,t,n){if(!n)var n=300;1==i.timeCache.hasOwnProperty(e)&&null!=i.timeCache[e]&&(clearTimeout(i.timeCache[e]),i.timeCache[e]=null),i.timeCache[e]=setTimeout(t,n)},this.validateClickTouchstartEvent=function(e){var t=!0,n=jQuery.now()-i.lastEventTime;return"click"==e&&"touchstart"==i.lastEventType&&n<1e3&&(t=!1),i.lastEventTime=jQuery.now(),i.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown")},this.setButtonOnClick=function(e,t){n.setButtonMobileReady(e),e.on("click touchstart",function(e){if(objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==n.validateClickTouchstartEvent(e.type))return!0;t(objThis,e)})},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var n=document.createElement("script");n.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(n)},this.addEvent=function(e,t,n){void 0!==e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},this.checkImagesLoaded=function(e,t,n){function r(e,r){i++,"function"==typeof n&&setTimeout(function(){n(e,r)}),i==o&&"function"==typeof t&&setTimeout(function(){t()})}var i=0,o=e.length;if(0==o&&t)return t(),!1;setTimeout(function(){for(var t=0;t<o;t++){var n=e[t];if(void 0!==n.naturalWidth&&0!==n.naturalWidth)r(e[t],!1);else{var i=jQuery("<img/>");i.data("index",t),i.on("load",function(){var t=jQuery(this).data("index");r(e[t],!1)}),i.on("error",function(){var t=jQuery(this).data("index");r(e[t],!0)}),i.attr("src",n.src)}}})},this.waitForWidth=function(e,t){var n=e.width();if(0!=n)return t(),!1;i.handle=setInterval(function(){0!=(n=e.width())&&(clearInterval(i.handle),t())},300)},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},this.getObjectLength=function(e){var t=0;for(var n in e)t++;return t},this.normalizePercent=function(e){return e<0&&(e=0),e>1&&(e=1),e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t,n,r){var i={width:e+"px",height:t+"px"},o={width:e-k.thumbInnerReduce+"px",height:t-k.thumbInnerReduce+"px"},a=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";n?(!0!==r&&n.css(i),n.children(a).css(o)):(C.children(".ug-thumb-wrapper").css(i),C.find(a).css(o))}function t(e,t,n,r){if(!r)var r=!1;T.isFakeFullscreen()&&(r=!0);var i=e.children(".ug-thumb-border-overlay"),o={};o["border-width"]=t+"px",0!=t&&(o["border-color"]=n),r&&!0===r?(i.css(o),0==t?i.hide():i.show()):(0==t?i.stop().fadeOut(I.thumb_transition_duration):i.show().stop().fadeIn(I.thumb_transition_duration),s(i,o))}function n(e,t,n){var r=e.children(".ug-thumb-overlay"),i=I.thumb_transition_duration;n&&!0===n&&(i=0),t?r.stop(!0).fadeTo(i,k.colorOverlayOpacity):r.stop(!0).fadeTo(i,0)}function r(e,t,n){var r=e.children("img.ug-thumb-image"),i=e.children("img.ug-thumb-image-overlay"),o=I.thumb_transition_duration;n&&!0===n&&(o=0),t?i.stop(!0).fadeTo(o,1):(r.fadeTo(0,1),i.stop(!0).fadeTo(o,0))}function i(e,i){if(k.isEffectBorder&&t(e,I.thumb_selected_border_width,I.thumb_selected_border_color,i),k.isEffectOverlay){n(e,1==I.thumb_overlay_reverse,i)}k.isEffectImage&&r(e,!1,i),x.trigger(E.events.SETSELECTEDSTYLE,e)}function o(e){var t=E.getItemByThumb(e);if(t.isLoaded=!0,t.isThumbImageLoaded=!1,1==k.customThumbs)return x.trigger(E.events.IMAGELOADERROR,e),!0;e.children(".ug-thumb-loader").hide(),e.children(".ug-thumb-error").show()}function a(){if(I.thumb_round_corners_radius<=0)return!1;var e={"border-radius":I.thumb_round_corners_radius+"px"};C.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(e)}function s(e,t){e.stop(!0).animate(t,{duration:I.thumb_transition_duration,easing:I.thumb_transition_easing,queue:!1})}function l(e){1==p(e)?i(e,!0,"redraw"):E.setThumbNormalStyle(e,!0,"redraw")}function u(t,n,r){if(1==I.thumb_fixed_size)S.scaleImageCoverParent(n,t);else{"height"==I.thumb_resize_by?S.scaleImageByHeight(n,I.thumb_height):S.scaleImageByWidth(n,I.thumb_width);var i=S.getElementSize(n);S.placeElement(n,0,0),e(i.width,i.height,t)}t.children(".ug-thumb-loader").hide(),n.show(),0==I.thumb_image_overlay_effect?n.fadeTo(0,1):(1==I.thumb_image_overlay_effect&&c(n),n.fadeTo(0,0),l(t)),x.trigger(E.events.AFTERPLACEIMAGE,t)}function c(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var n=S.getElementSize(e),r={width:n.width+"px",height:n.height+"px",left:n.left+"px",top:n.top+"px"};t.css(r),0==k.customThumbs&&t.fadeTo(0,1)}function d(){var e="",t=I.thumb_image_overlay_type.split(",");for(var n in t){switch(t[n]){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}}return e}function p(e){return!!e.hasClass("ug-thumb-selected")}function h(t,n){n=jQuery(n);var r=(E.getItemByThumb(n),S.getElementSize(n));e(r.width,r.height,n,!0),l(n)}function f(e){if(1==k.touchEnabled)return objThumbs.off("mouseenter").off("mouseleave"),!0;0==p(e)&&E.setThumbOverStyle(e)}function m(e){if(1==k.touchEnabled)return!0;0==p(e)&&E.setThumbNormalStyle(e,!1)}function g(e,t){if(!t)var t=!1;var n=jQuery(e),r=n.parents(".ug-thumb-wrapper");return 0!=r.parent().length&&(objItem=E.getItemByThumb(r),(1!=objItem.isLoaded||!1!==t)&&(E.triggerImageLoadedEvent(r,n),void(1==k.customThumbs?x.trigger(E.events.PLACEIMAGE,[r,n]):u(r,n,objItem))))}function v(e,t,n){objItem=E.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var r=S.getImageOriginalSize(n);objItem.thumbWidth=r.width,objItem.thumbHeight=r.height,objItem.thumbRatioByWidth=r.width/r.height,objItem.thumbRatioByHeight=r.height/r.width}var y,b,_,w,C,E=this,x=jQuery(E),T=new UniteGalleryMain,S=new UGFunctions;this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var I={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},k={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0},P={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){b=e.getObjects(),T=e,y=jQuery(e),_=b.g_objWrapper,w=b.g_arrItems,I=jQuery.extend(I,t),k.isEffectBorder=I.thumb_border_effect,k.isEffectOverlay=I.thumb_color_overlay_effect,k.isEffectImage=I.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e){C=e;var t=T.getNumItems();if(1==k.isEffectImage)var n=d();for(var r=0;r<t;r++){var i=w[r],o="";0==k.customThumbs&&(o=" ug-thumb-generated");var a=i.index+1,s="style='z-index:"+a+";'",l="<div class='ug-thumb-wrapper"+o+"' "+s+"></div>";if(1==I.thumb_wrapper_as_link){var u=i.link;""==i.link&&(u="javascript:void(0)");var c="";1==I.thumb_link_newpage&&i.link&&(c=" target='_blank'");var l="<a href='"+u+"'"+c+" class='ug-thumb-wrapper"+o+"'></a>"}var p=jQuery(l),h=i.objThumbImage;if(0==k.customThumbs){if(1==I.thumb_show_loader&&h){var f="ug-thumb-loader-dark";"bright"==I.thumb_loader_type&&(f="ug-thumb-loader-bright"),p.append("<div class='ug-thumb-loader "+f+"'></div>"),p.append("<div class='ug-thumb-error' style='display:none'></div>")}if(h){if(h.addClass("ug-thumb-image"),1==I.thumb_image_overlay_effect){var m=h.clone().appendTo(p);m.addClass("ug-thumb-image-overlay "+n).removeClass("ug-thumb-image"),m.fadeTo(0,0),i.objImageOverlay=m}p.append(h)}}k.isEffectBorder&&p.append("<div class='ug-thumb-border-overlay'></div>"),k.isEffectOverlay&&p.append("<div class='ug-thumb-overlay'></div>"),C.append(p),k.customThumbs&&k.funcSetCustomThumbHtml(p,i),w[r].objThumbWrapper=p}},this.setThumbNormalStyle=function(e,i,o){if(1==k.customThumbs&&e.removeClass("ug-thumb-over"),k.isEffectBorder&&t(e,I.thumb_border_width,I.thumb_border_color,i),k.isEffectOverlay){n(e,1!=I.thumb_overlay_reverse,i)}k.isEffectImage&&r(e,!0,i),x.trigger(E.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){if(1==k.customThumbs&&e.addClass("ug-thumb-over"),k.isEffectBorder&&t(e,I.thumb_over_border_width,I.thumb_over_border_color),k.isEffectOverlay){n(e,1==I.thumb_overlay_reverse)}1==k.isEffectImage&&r(e,!1),x.trigger(E.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(){if(0==k.customThumbs){1==I.thumb_fixed_size&&e(I.thumb_width,I.thumb_height),a()}if(C.children(".ug-thumb-wrapper").each(function(){l(jQuery(this))}),k.isEffectOverlay&&I.thumb_overlay_color){var t={};if(S.isRgbaSupported()){var n=S.convertHexToRGB(I.thumb_overlay_color,I.thumb_overlay_opacity);t["background-color"]=n}else t["background-color"]=I.thumb_overlay_color,k.colorOverlayOpacity=I.thumb_overlay_opacity;C.find(".ug-thumb-wrapper .ug-thumb-overlay").css(t)}},this.setThumbSelected=function(e){if(1==k.customThumbs&&e.removeClass("ug-thumb-over"),1==p(e))return!0;e.addClass("ug-thumb-selected"),i(e)},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),E.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){I=jQuery.extend(I,e)},this.setThumbInnerReduce=function(e){k.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,n){if(k.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");k.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(k.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(k.isEffectBorder=!1),k.isEffectImage=!1,n&&!1===n.allow_onresize&&(k.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return I},this.getNumThumbs=function(){return w.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=E.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(){return C.children(".ug-thumb-wrapper")},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),w[t]},this.isThumbLoaded=function(e){return E.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:I.thumb_width,height:I.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=C.find(".ug-thumb-wrapper");e.on("touchstart",function(){k.touchEnabled=!0,e.off("mouseenter").off("mouseleave")}),1==k.allowOnResize&&_.on(P.eventSizeChange,h),e.hover(function(e){f(jQuery(this))},function(e){m(jQuery(this))}),x.on(E.events.THUMB_IMAGE_LOADED,v)},this.destroy=function(){var e=C.find(".ug-thumb-wrapper");e.off("touchstart"),_.off(P.eventSizeChange),e.off("mouseenter"),e.off("mouseleave"),x.off(E.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=C.find(".ug-thumb-image");S.checkImagesLoaded(e,null,function(e,t){if(0==t)g(e,!0);else{o(jQuery(e).parent())}})},this.triggerImageLoadedEvent=function(e,t){x.trigger(E.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){C.find(".ug-thumb-wrapper").hide()}}function UGTiles(){function e(e,n){g_objects=e.getObjects(),ie=e,K=jQuery(e),X=g_objects.g_objWrapper,Z=g_objects.g_arrItems,ue=jQuery.extend(ue,n),t(),ae.init(e,ue),se=ae.getObjThumbs()}function t(){ue.tiles_min_columns<1&&(ue.tiles_min_columns=1),0!=ue.tiles_max_columns&&ue.tiles_max_columns<ue.tiles_min_columns&&(ue.tiles_max_columns=ue.tiles_min_columns)}function n(e){if(!e)var e=X;J=e;var t=ue.tiles_type;e.addClass("ug-tiletype-"+t),ae.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function r(){if(J.addClass("ug-tiles-rest-mode"),ce.isTransInited=!0,1==ue.tiles_enable_transition){J.addClass("ug-tiles-transit");var e=ae.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&J.addClass("ug-tiles-transit-overlays"),ce.isTransActive=!0}}function i(){return oe.getElementSize(J).width}function o(){
return 0!=ce.isTransInited&&(J.addClass("ug-tiles-transition-active"),J.removeClass("ug-tiles-rest-mode"),0!=ce.isTransActive&&void ae.disableEvents())}function a(){if(0==ce.isTransInited)return!1;J.removeClass("ug-tiles-transition-active"),J.addClass("ug-tiles-rest-mode")}function s(){1==ce.isTransActive?(setTimeout(function(){ae.enableEvents(),ae.triggerSizeChangeEventAllTiles(),a()},800),ce.handle&&clearTimeout(ce.handle),ce.handle=setTimeout(function(){a(),ae.triggerSizeChangeEventAllTiles(),ce.handle=null},2e3)):(ae.triggerSizeChangeEventAllTiles(),a())}function l(){le.colWidth=(le.availWidth-le.colGap*(le.numCols-1))/le.numCols,le.colWidth=Math.floor(le.colWidth),le.totalWidth=oe.getSpaceByNumItems(le.numCols,le.colWidth,le.colGap)}function u(){if(le.colWidth=ue.tiles_col_width,le.minCols=ue.tiles_min_columns,le.maxCols=ue.tiles_max_columns,0==ie.isMobileMode()?le.colGap=ue.tiles_space_between_cols:le.colGap=ue.tiles_space_between_cols_mobile,le.galleryWidth=i(),le.availWidth=le.galleryWidth,1==ue.tiles_include_padding&&(le.availWidth=le.galleryWidth-2*le.colGap),1==ue.tiles_exact_width)le.numCols=oe.getNumItemsInSpace(le.availWidth,le.colWidth,le.colGap),le.maxCols>0&&le.numCols>le.maxCols&&(le.numCols=le.maxCols),le.numCols<le.minCols?(le.numCols=le.minCols,l()):le.totalWidth=le.numCols*(le.colWidth+le.colGap)-le.colGap;else{var e=oe.getNumItemsInSpaceRound(le.availWidth,le.colWidth,le.colGap);e<le.minCols?e=le.minCols:0!=le.maxCols&&e>le.maxCols&&(e=le.maxCols),le.numCols=e,l()}switch(ue.tiles_align){case"center":default:le.addX=Math.round((le.galleryWidth-le.totalWidth)/2);break;case"left":le.addX=0;break;case"right":le.addX=le.galleryWidth-le.totalWidth}for(le.maxColHeight=0,le.arrPosx=[],col=0;col<le.numCols;col++){var t=oe.getColX(col,le.colWidth,le.colGap);le.arrPosx[col]=t+le.addX}le.colHeights=[0]}function c(){var e=0,t=999999999;for(col=0;col<le.numCols;col++){if(void 0==le.colHeights[col]||0==le.colHeights[col])return col;le.colHeights[col]<t&&(e=col,t=le.colHeights[col])}return e}function d(e,t,n,r){if(null===r||void 0===r)var r=c();var i=0;void 0!==le.colHeights[r]&&(i=le.colHeights[r]);var o=ae.getTileHeightByWidth(le.colWidth,e,"placeTile");if(null===o){if(1==ue.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");o=oe.getElementSize(e).height}var a=le.arrPosx[r];oe.placeElement(e,a,i);var s=i+o;le.colHeights[r]=s+le.colGap,le.maxColHeight<s&&(le.maxColHeight=s),1==t&&e.show().fadeTo(0,1),1==n&&J.height(le.maxColHeight)}function p(e){e||(e=!1),u();var t=se.getThumbs();o(),ae.resizeAllTiles(le.colWidth,ae.resizemode.VISIBLE_ELEMENTS);for(var n=0;n<t.length;n++){var r=jQuery(t[n]),i=void 0;1==ue.tiles_keep_order&&(i=oe.getColByIndex(le.numCols,n)),d(r,e,!1,i)}s();var a=J.height();1==ce.isTransActive&&a>le.maxColHeight?setTimeout(function(){J.height(le.maxColHeight)},700):J.height(le.maxColHeight)}function h(e){var t=e.index();if(!0===ie.getItem(t).ordered_placed)return!1;var n=oe.getPrevRowSameColIndex(t,le.numCols);return n<0||!0===ie.getItem(n).ordered_placed}function f(e,t){if(!0!==t){if(0==h(e))return!1}var n=e.index(),r=oe.getColByIndex(le.numCols,n),i=ie.getItem(n);ae.resizeTile(e,le.colWidth),d(e,!0,!0,r),i.ordered_placed=!0;var o=ie.getNumItems(),a=oe.getNextRowSameColIndex(n,le.numCols);if(a>=o)return!1;var s=se.getThumbByIndex(a),l=ie.getItem(a);se.isThumbLoaded(s);se.isThumbLoaded(s)&&!l.ordered_placed&&f(s,!0)}function m(e,t){if(1==t)return!1;e=jQuery(e);var n=jQuery(e).parent();se.triggerImageLoadedEvent(n,e),1==ue.tiles_keep_order?f(n):(ae.resizeTile(n,le.colWidth),d(n,!0,!0))}function g(){var e=se.getThumbs();ce.isAllLoaded=!1,u();var t=Math.abs(le.galleryWidth-le.totalWidth);if(1==ue.tiles_set_initial_height&&0==oe.isScrollbarExists()&&t<25){var n=(e.length,Math.ceil(e.length/le.numCols)),i=n*ue.tiles_col_width*.75;J.height(i),u()}e.fadeTo(0,0);var o=jQuery(J).find("img.ug-thumb-image");if(1==ce.isFixedMode)re.trigger(ne.events.TILES_FIRST_PLACED),p(!0),oe.checkImagesLoaded(o,function(){r(),re.trigger(ne.events.ALL_TILES_LOADED)});else{var a=le.numCols,s=le.galleryWidth,l=!1;oe.checkImagesLoaded(o,function(){u(),a==le.numCols&&s==le.galleryWidth||p(!1),r(),re.trigger(ne.events.ALL_TILES_LOADED)},function(e,t){0==l&&re.trigger(ne.events.TILES_FIRST_PLACED),l=!0,m(e,t)})}}function v(){var e=i(),t=se.getThumbs(),n=ue.tiles_justified_row_height,r=[],o=0,a=ue.tiles_justified_space_between,s=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var i=se.getItemByThumb(t),a=i.thumbWidth;i.thumbHeight!==n&&(a=Math.floor(i.thumbRatioByWidth*n)),r[e]=a,o+=a});var l=Math.ceil(o/e);l>s&&(l=s);var u=o/l,c=[],d=0,p=[],h=[],f=0,m=0;jQuery.each(t,function(e,t){var n=r[e];f+n/2>(m+1)*u&&(p[c.length]=d,c.push(h),h=[],d=0,m++),f+=n,d+=n,h.push(t)}),p[c.length]=d,c.push(h);var g=[],v=[],y=0;return jQuery.each(c,function(t,i){var o=(i.length,p[t]),s=(i.length-1)*a,l=(e-s)/o,u=Math.round(n*l);y+=u,t>0&&(y+=a),v.push(u);var c=u/n,d=[],h=s;jQuery.each(i,function(e,t){var n=jQuery(t),i=n.index(),o=r[i],a=Math.round(o*c);d[e]=a,h+=a});var f=h-e;jQuery.each(d,function(e,t){if(0==f)return!1;f<0?(d[e]=t+1,f++):(d[e]=t-1,f--),e==d.length-1&&0!=f&&(d[e]-=f)}),g[t]=d}),{arrRows:c,arrRowWidths:g,arrRowHeights:v,gap:a,totalHeight:y}}function y(e){if(!e)var e=!1;var t=i(),n=v();J.height(n.totalHeight),i()!=t&&(n=v()),o();var r=0,a=0;jQuery.each(n.arrRows,function(t,i){var o=n.arrRowWidths[t],s=n.arrRowHeights[t],l=0;jQuery.each(i,function(t,i){var u=jQuery(i),c=s,d=o[t];ae.resizeTile(u,d,c,ae.resizemode.VISIBLE_ELEMENTS),oe.placeElement(u,l,r),l+=d,l>a&&(a=l),l+=n.gap,1==e&&jQuery(i).show()}),r+=s+n.gap}),s()}function b(){var e=jQuery(X).find("img.ug-thumb-image"),t=se.getThumbs();ce.isAllLoaded=!1,t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){setTimeout(function(){y(!0),t.fadeTo(0,1),re.trigger(ne.events.TILES_FIRST_PLACED),r(),re.trigger(ne.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var n=jQuery(e).parent();se.triggerImageLoadedEvent(n,e)})}function _(){var e=jQuery(X).find("img.ug-thumb-image"),t=se.getThumbs();ce.isAllLoaded=!1,t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){1==ie.isMobileMode()?p(!0):C(!0),re.trigger(ne.events.TILES_FIRST_PLACED),r(),re.trigger(ne.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var n=jQuery(e).parent();se.triggerImageLoadedEvent(n,e)})}function w(){var e=i();switch(de.galleryWidth=e,ee={},de.colWidth=ue.tiles_nested_col_width,de.optimalTileWidth=ue.tiles_nested_optimal_tile_width,de.currentGap=ue.tiles_space_between_cols,1==ie.isMobileMode()&&(de.currentGap=ue.tiles_space_between_cols_mobile),null==de.colWidth?de.colWidth=Math.floor(de.optimalTileWidth/de.nestedOptimalCols):de.optimalTileWidth>de.colWidth?de.nestedOptimalCols=Math.ceil(de.optimalTileWidth/de.colWidth):de.nestedOptimalCols=1,de.maxColumns=oe.getNumItemsInSpace(e,de.colWidth,de.currentGap),de.colWidth=oe.getItemSizeInSpace(e,de.maxColumns,de.currentGap),de.gridY=0,te=[],se.getThumbs().each(function(){var e=jQuery(this),t=E(e);te.push(t)}),de.optimalTileWidth>de.colWidth?de.nestedOptimalCols=Math.ceil(de.optimalTileWidth/de.colWidth):de.nestedOptimalCols=1,de.totalWidth=de.maxColumns*(de.colWidth+de.currentGap)-de.currentGap,ue.tiles_align){case"center":default:de.addX=Math.round((de.galleryWidth-de.totalWidth)/2);break;case"left":de.addX=0;break;case"right":de.addX=de.galleryWidth-de.totalWidth}de.maxGridY=0}function C(e){var t=i();w(),S();var n=de.maxGridY*(de.colWidth+de.currentGap)-de.currentGap;J.height(n),i()!=t&&(w(),S()),0==ue.tiles_nested_debug&&G(e)}function E(e){var t,n,r={},i=de.colWidth,o=de.currentGap,a=ae.getTileImageSize(e),s=e.index(),l=Math.ceil(x(s)*(1*de.nestedOptimalCols/3)+2*de.nestedOptimalCols/3),u=a.width,c=a.height,d=u/c;return u>c?(t=l,0==(n=Math.round(t/d))&&(n=1)):(n=l,0==(t=Math.round(n*d))&&(t=1)),r.dimWidth=t,r.dimHeight=n,r.width=t*i+o*(t-1),r.height=n*i+o*(n-1),r.imgWidth=u,r.imgHeight=c,r.left=0,r.top=0,r}function x(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function T(e,t){if(0==t){for(var n=de.currentItem;n<te.length;n++)I(n,!0);de.currentItem=te.length-1}else I(de.currentItem,!0);for(var n=0;n<=de.currentItem;n++)q(n,!0);de.currentItem++}function S(e){if(1==ue.tiles_nested_debug)return void 0===e&&(e=!0),T(!0,e),!1;for(var t=0;t<te.length;t++)I(t,!0)}function I(e,t){if(!t)var t=!1;de.maxColHeight=0;for(var n=oe.getObjectLength(ee),r=de.gridY;r<=n+1;r++){for(var i=0;i<de.maxColumns;i++)if(0==H(de.gridY)||0==z(de.gridY,i)){var o=F(i);return void k(e,o,i)}de.gridY++}}function k(e,t,n){var r=jQuery.extend(!0,{},te[e]),i=r.dimWidth,o=t-r.dimWidth,a=de.nestedOptimalCols;if(t<=r.dimWidth||o<=.33*a||t<=a)j(e,t);else if(o<=a)a>=4?1==U(Math.floor(t/2),n)?j(e,Math.floor(t/2)+1):j(e,Math.floor(t/2)):j(objImage,t);else if(1==U(i,n))switch(i>=a){case!0:j(e,i-1);break;case!1:j(e,i+1)}r=jQuery.extend(!0,{},te[e]);var s=R(e,r.dimWidth,n);if(de.columnsValueToEnableHeightResize<=s[0]&&de.maxColumns>=2*de.nestedOptimalCols){var l=N(n,r),u=L(e,l.newHeight,!0);te[e].dimHeight=u.dimHeight;var c=A(s,u.dimWidth),d=P(c),p=!1;d>=2&&(p=!0),l.newHeight>=r.dimHeight&&(r=L(e,l.newHeight,!0));var h=M(l.idToResize,l.newHeight,r.dimHeight);r.top=de.gridY,r.left=n,h.push({tileID:e,sizes:r});return D(h)<D(c)||1==p?void O(h):void O(c)}r.left=n,r.top=de.gridY,te[e]=r,B(e,r,n,de.gridY),de.maxGridY=r.top+r.dimHeight}function P(e){for(var t=0,n=0,r=0;r<e.length-1;r++){var i=e[r].sizes,o=-1,a=-1;H(i.top+i.dimHeight)&&de.maxColumns>i.left+i.dimWidth&&(o=ee[i.top+i.dimHeight-1][i.left+i.dimWidth],a=ee[i.top+i.dimHeight][i.left+i.dimWidth]),o!=a&&t++}for(var r=0;r<e.length-1;r++){var i=e[r].sizes,o=-1,a=-1;H(i.top+i.dimHeight)&&i.left-1>=0&&(o=ee[i.top+i.dimHeight-1][i.left-1],a=ee[i.top+i.dimHeight][i.left-1]),o!=a&&n++}return Math.max(n,t)}function M(e,t,n){var r=te[e],i=r.dimHeight,o=(r.dimWidth,r.left),a=r.top,s=(parseInt(a/(de.colWidth+de.currentGap)),parseInt(o/(de.colWidth+de.currentGap)),i-t+n),l=L(e,s,!0),u=[];return u.push({tileID:e,sizes:l}),u}function O(e){for(var t=0;t<e.length;t++){var n=e[t].sizes,r=e[t].tileID;te[r]=jQuery.extend(!0,{},n),B(r,n,n.left,n.top)}}function A(e,t){for(var n=0,r=0,i=[],o=0,a=0,s=0;s<e[1].length;s++){var l=e[1][s],u=te[e[1][s]];if(r+=u.dimHeight,0!=s)n+=u.dimHeight,i.push([l,u.dimHeight]);else{var c=j(l,t,!0);n+=c.dimHeight,i.push([e[1][s],c.dimHeight])}}o=u.left,a=u.top;for(var d=r,p=[],s=i.length-1;s>=0;s--){var h,l=i[s][0];0!=s?(h=Math.max(Math.round(1*r/3),Math.floor(i[s][1]*(r/n))),d-=h,c=L(l,h,!0),c.left=o,c.top=a,p.push({tileID:l,sizes:c}),a+=c.dimHeight):(h=d,c=L(l,h,!0),c.left=o,c.top=a,p.push({tileID:l,sizes:c}))}return p}function R(e,t,n){var r=de.gridY-1,i=0,o=0,a=1,s=[],l=[];if(s.push(e),r>=0){for(o=0;r>=0;){if(i=ee[r][n],void 0!==ee[r][n-1]&&ee[r][n-1]==ee[r][n]||void 0!==ee[r][n+t]&&ee[r][n+t-1]==ee[r][n+t]||ee[r][n]!=ee[r][n+t-1])return l.push(a),l.push(s),l;o!=i&&(a++,s.push(i)),r--,o=i}return l.push(a),l.push(s),l}return[0,[]]}function N(e,t){var n=0,r=0,i=t.dimWidth,o=t.dimHeight,a=0,s=0,l=jQuery.map(ee,function(e,t){return[e]});if(void 0===l[de.gridY]||void 0===l[de.gridY][e-1])r=0;else for(var u=0;;){if(void 0===ee[de.gridY+u]||-1==ee[de.gridY+u][e-1])break;a=ee[de.gridY+u][e-2],u++,r++}if(void 0===l[de.gridY]||void 0===l[de.gridY][e+i])n=0;else for(u=0;;){if(void 0===ee[de.gridY+u]||-1==ee[de.gridY+u][e+i])break;s=ee[de.gridY+u][e+i+1],u++,n++}var c=0,d=0;return Math.abs(o-r)<Math.abs(o-n)&&0!=r?(c=r,d=a):0!=n?(c=n,d=s):c=o,{newHeight:c,idToResize:d}}function j(e,t,n){n||(n=!1);var r=de.colWidth,i=de.currentGap,o=te[e],a=o.imgWidth,s=o.imgHeight,l=a/s;if(dimWidth=t,dimHeight=Math.round(dimWidth/l),1==n){var u=jQuery.extend(!0,{},o);return u.dimWidth=dimWidth,u.dimHeight=dimHeight,u.width=dimWidth*r+i*(dimWidth-1),u.height=dimHeight*r+i*(dimHeight-1),u}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*r+i*(dimWidth-1),o.height=dimHeight*r+i*(dimHeight-1)}function L(e,t,n){n||(n=!1);var r=te[e],i=r.dimWidth,o=de.colWidth,a=de.currentGap;if(1==n){var s=jQuery.extend(!0,{},r);return s.dimHeight=t,s.width=i*o+a*(i-1),s.height=t*o+a*(t-1),s}r.dimHeight=t,r.width=i*o+a*(i-1),r.height=t*o+a*(t-1)}function D(e){for(var t=0,n=0,r=0;r<e.length;r++){var i=te[e[r].tileID];if(0==i.dimHeight||0==i.height)return;resizeVal=i.dimWidth/i.dimHeight/(i.imgWidth/i.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,n++}return t/n}function U(e,t){var n=de.gridY-1;return!(n<=0||0==H(n))&&ee[n][t+e-1]!=ee[n][t+e]}function F(e){var t=e,n=0;if(1==H(de.gridY))for(;0==z(de.gridY,t);)n++,t++;else n=de.maxColumns;return n}function H(e){return void 0!==ee[e]}function B(e,t,n,r){for(var i=0;i<t.dimHeight;i++)for(var o=0;o<t.dimWidth;o++)0==H(r+i)&&W(r+i),V(r+i,n+o,e)}function W(e){ee[e]=new Object;for(var t=0;t<de.maxColumns;t++)ee[e][t]=-1}function z(e,t){return-1!=ee[e][t]}function V(e,t,n){ee[e][t]=n}function G(e){if(!e)var e=!1;o();for(var t=0;t<te.length;t++)q(t,e);J.height(de.maxColHeight),s()}function q(e,t){var n=se.getThumbByIndex(e),r=te[e],i=r.top*(de.colWidth+de.currentGap),o=de.addX+r.left*(de.colWidth+de.currentGap);ae.resizeTile(n,r.width,r.height,ae.resizemode.VISIBLE_ELEMENTS),oe.placeElement(n,o,i),i+r.height>de.maxColHeight&&(de.maxColHeight=i+r.height),1==t&&n.fadeTo(0,1)}function Y(){if(1==ce.isFirstTimeRun)return!0;if(0==ce.isAllLoaded)return!1;switch(ue.tiles_type){case"columns":p(!1);break;case"justified":y(!1);break;case"nested":1==ie.isMobileMode()?p(!1):C(!1)}}function $(){re.on(ne.events.ALL_TILES_LOADED,function(){if(1==ce.isAllLoaded)return!0;ce.isAllLoaded=!0,K.trigger(ie.events.LOAD)}),K.on(ie.events.SIZE_CHANGE,Y),ae.initEvents()}function Q(){switch(X.children(".ug-tile").show(),1==ce.isFirstTimeRun&&$(),ae.run(),ue.tiles_type){default:case"columns":g();break;case"justified":b();break;case"nested":_()}ce.isFirstTimeRun=!1}var K,X,J,Z,ee,te,ne=this,re=jQuery(this),ie=new UniteGalleryMain,oe=new UGFunctions,ae=new UGTileDesign,se=new UGThumbsGeneral,le={},ue={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var ce={isFixedMode:!1,isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isAllLoaded:!1},de={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){K.off(ie.events.SIZE_CHANGE),ae.destroy()},this.setFixedSizeMode=function(){ce.isFixedMode=!0,ae.setFixedMode()},this.init=function(t,n){e(t,n)},this.setHtml=function(e){n(e)},this.getObjTileDesign=function(){return ae},this.run=function(){Q()}}function UGTileDesign(){function e(e,n){H=e,N=jQuery(e);var i=H.getObjects();L=i.g_objWrapper,D=H.getArrItems(),z=jQuery.extend(z,V),z=jQuery.extend(z,n),t(),W.init(e,z);var o={allow_onresize:!1},a=["overlay"];G.funcCustomTileHtml&&(a=[]),W.setCustomThumbs(r,a,o);var s=W.getOptions();z=jQuery.extend(z,s),G.ratioByWidth=z.tile_width/z.tile_height,G.ratioByHeight=z.tile_height/z.tile_width,z.tile_size_by==U.sizeby.GLOBAL_RATIO&&G.isTextpanelOutside&&(G.hasImageContainer=!0)}function t(){if(1==z.tile_enable_overlay?(z.thumb_overlay_opacity=z.tile_overlay_opacity,z.thumb_overlay_color=z.tile_overlay_color):0==z.tile_enable_icons?z.thumb_color_overlay_effect=!1:z.thumb_overlay_opacity=0,z.tile_as_link&&(z.thumb_wrapper_as_link=!0,z.thumb_link_newpage=z.tile_link_newpage),1==z.tile_enable_outline&&0==z.tile_enable_border&&(z.tile_enable_outline=!1),G.tileInnerReduce=0,z.tile_enable_border&&(G.tileInnerReduce=2*z.tile_border_width,W.setThumbInnerReduce(G.tileInnerReduce)),G.isSaparateIcons=!B.isRgbaSupported(),1==z.tile_enable_textpanel){switch(z.tile_textpanel_position){case"top":z.tile_textpanel_align="top";case"bottom":G.isTextpanelOutside=!0,z.tile_textpanel_always_on=!0,z.tile_textpanel_offset=0;break;case"inside_top":z.tile_textpanel_align="top";break;case"middle":z.tile_textpanel_align="middle",z.tile_textpanel_appear_type="fade"}0==z.tile_textpanel_always_on&&(G.isSaparateIcons=!0)}0!=z.tile_textpanel_offset&&(z.tile_textpanel_appear_type="fade",z.tile_textpanel_margin=z.tile_textpanel_offset),"title_and_desc"==z.tile_textpanel_source&&(z.tile_textpanel_enable_description=!0,z.tile_textpanel_desc_style_as_title=!0)}function n(){var e=H.isMobileMode();switch(G.isTextPanelHidden=!1,1==e&&0==z.tile_textpanel_always_on&&(G.isTextPanelHidden=!0),G.isVideoplayIconAlwaysOn=z.tile_videoplay_icon_always_on,z.tile_videoplay_icon_always_on){case"always":G.isVideoplayIconAlwaysOn=!0;break;case"never":G.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":G.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":G.isVideoplayIconAlwaysOn=0==e}}function r(e,t){if(e.addClass("ug-tile"),G.funcCustomTileHtml)return G.funcCustomTileHtml(e,t),!1;var n="";1==G.hasImageContainer&&(n+="<div class='ug-image-container ug-trans-enabled'>");var r="ug-thumb-image";0!=z.tile_enable_image_effect&&1!=z.tile_image_effect_reverse||(r+=" ug-trans-enabled");var i=B.stripTags(t.title);i=B.htmlentitles(i),n+='<img src="'+B.escapeDoubleSlash(t.urlThumb)+"\" alt='"+i+"' class='"+r+"' data-backup-width='"+t.thumbWidth+"' data-backup-height='"+t.thumbHeight+"'>",1==G.hasImageContainer&&(n+="</div>"),e.append(n),z.tile_size_by==U.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var o={};if(1==z.tile_enable_background&&(o["background-color"]=z.tile_background_color),1==z.tile_enable_border&&(o["border-width"]=z.tile_border_width+"px",o["border-style"]="solid",o["border-color"]=z.tile_border_color,z.tile_border_radius&&(o["border-radius"]=z.tile_border_radius+"px")),1==z.tile_enable_outline&&(o.outline="1px solid "+z.tile_outline_color),1==z.tile_enable_shadow){var a=z.tile_shadow_h+"px ";a+=z.tile_shadow_v+"px ",a+=z.tile_shadow_blur+"px ",a+=z.tile_shadow_spread+"px ",a+=z.tile_shadow_color,o["box-shadow"]=a}e.css(o);var s="";if(z.tile_enable_icons){if(0==z.tile_as_link&&1==z.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),s+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==z.tile_show_link_icon||1==z.tile_as_link)if(0==z.tile_as_link){var u="";1==z.tile_link_newpage&&(u=" target='_blank'"),s+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else s+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var d=G.isSaparateIcons;if(0==d&&"image"!=t.type&&1==G.isVideoplayIconAlwaysOn&&(d=!0),d)var p=e;else var p=e.children(".ug-thumb-overlay");p.append(s);var h=p.children("."+l);0==h.length?h=null:h.hide();var f=p.children(".ug-icon-link");0==f.length?f=null:f.hide(),f||1!=z.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==z.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==z.tile_enable_image_effect){var m="";0==z.tile_image_effect_reverse&&(m=" ug-trans-enabled");var g="<div class='ug-tile-image-overlay"+m+"' >",v=" ug-"+z.tile_image_effect_type+"-effect";g+='<img src="'+B.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+v+m+"'>",g+="</div>",e.append(g),1==z.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==z.tile_enable_textpanel){var y=new UGTextPanel;y.init(H,z,"tile");var b="";1!=z.tile_textpanel_always_on&&1!=G.isTextpanelOutside||(b="ug-trans-enabled"),y.appendHTML(e,b);var _=t.title,w="";switch(z.tile_textpanel_source){case"desc":case"description":_=t.description;break;case"desc_title":""!=t.description&&(_=t.description);break;case"title_and_desc":_=t.title,w=t.description}if(y.setTextPlain(_,w),0==z.tile_textpanel_always_on&&y.getElement().fadeTo(0,0),e.data("objTextPanel",y),1==z.tile_textpanel_always_on){c(e).css("z-index",2)}if(1==G.isTextpanelOutside){e.append("<div class='ug-tile-cloneswrapper'></div>");var C=e.children(".ug-tile-cloneswrapper"),E=new UGTextPanel;E.init(H,z,"tile"),E.appendHTML(C),E.setTextPlain(_,w),e.data("objTextPanelClone",E)}}null!==t.addHtml&&e.append(t.addHtml)}function i(e){return e.children(".ug-tile-image-overlay")}function o(e){return e.children(".ug-thumb-overlay")}function a(e){return 0==G.hasImageContainer?null:e.children(".ug-image-container")}function s(e){return e.find(".ug-tile-image-overlay img")}function l(e){return e.data("objTextPanel")}function u(e){return e.data("objTextPanelClone")}function c(e){return e.children(".ug-textpanel")}function d(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}function p(e){if(1==G.isTextpanelOutside)var t=d(e);else var t=c(e);return t?B.getElementSize(t).height:0}function h(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function f(e,t){var n=G.ratioByHeight;switch(z.tile_size_by){default:n=G.ratioByHeight;break;case U.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var r=U.getItemByTile(e);if(void 0!==r.thumbRatioByHeight){if(0==r.thumbRatioByHeight)throw trace(r),new Error("the item ratio not inited yet");n=r.thumbRatioByHeight}break;case U.sizeby.CUSTOM:return null}return n}function m(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function g(e){return!!e.hasClass("ug-thumb-over")}function v(e){return e.hasClass("ug-tile-clickable")}function y(e){return 1==z.tile_enable_icons&&1==G.isVideoplayIconAlwaysOn&&"image"!=e.type}function b(e,t,n,r){var o=i(e),l=U.getTileImage(e),u=s(e);t-=G.tileInnerReduce,n-=G.tileInnerReduce;var c=null;if(1==G.isTextpanelOutside){var d=p(e);if(n-=d,"top"==z.tile_textpanel_position&&(c=d),1==G.hasImageContainer){var h=a(e);B.setElementSize(h,t,n),null!==c&&B.placeElement(h,0,c)}}if(0==z.tile_enable_image_effect)B.scaleImageCoverParent(l,t,n),0==G.hasImageContainer&&null!==c&&B.placeElement(l,0,c);else{var f="nothing";!0===r&&0==G.isTextpanelOutside&&(f=1==z.tile_image_effect_reverse?"effect":"image"),"effect"!=f&&(B.setElementSize(o,t,n),null!==c&&B.placeElement(o,0,c),B.scaleImageCoverParent(u,t,n)),"image"!=f&&(1==G.hasImageContainer?B.scaleImageCoverParent(l,t,n):"effect"==f?(B.scaleImageCoverParent(l,t,n),null!==c&&B.placeElement(l,0,c)):B.cloneElementSizeAndPos(u,l,!1,null,c))}}function _(e,t,n,r){var i=null;if(n&&(i=n-G.tileInnerReduce),r&&(r-=G.tileInnerReduce),"clone"==t){u(e).refresh(!0,!0,i);return U.getItemByTile(e).textPanelCloneSizeSet=!0,!1}var o=l(e);if(!o)return!1;var a=null;if(1==G.isTextpanelOutside&&(a=p(e)),o.refresh(!1,!0,i,a),1==z.tile_textpanel_always_on||"fade"==z.tile_textpanel_appear_type)if(1==G.isTextpanelOutside&&r&&"bottom"==z.tile_textpanel_position){var s=r-a;o.positionPanel(s)}else o.positionPanel()}function w(e){var t=(U.getItemByTile(e),m(e)),n=h(e),r=B.getElementSize(e);b(e,r.width,r.height),1==z.tile_enable_textpanel&&_(e,"regular",r.width,r.height);var i=r.width-G.tileInnerReduce,a=r.height-G.tileInnerReduce,s=0;if(1==G.isTextpanelOutside){var l=p(e);a-=l,"top"==z.tile_textpanel_position&&(s=l)}var u=o(e);if(B.setElementSizeAndPosition(u,0,s,i,a),t||n){var d=0;if(1==z.tile_enable_textpanel&&0==G.isTextPanelHidden&&0==G.isTextpanelOutside){var f=c(e),g=B.getElementSize(f);g.height>0&&(d=Math.floor(g.height/2*-1))}}if(t&&n){var v=B.getElementSize(t),y=B.getElementSize(n),w=z.tile_space_between_icons,C=v.width+w+y.width,E=Math.floor((r.width-C)/2);E<w&&(w=Math.floor((r.width-v.width-y.width)/3),C=v.width+w+y.width,E=Math.floor((r.width-C)/2)),B.placeElement(t,E,"middle",0,d),B.placeElement(n,E+v.width+w,"middle",0,d)}else t&&B.placeElement(t,"center","middle",0,d),n&&B.placeElement(n,"center","middle",0,d);t&&t.show(),n&&n.show()}function C(e,t){var n=(U.getItemByTile(e),i(e)),r=z.thumb_transition_duration;if(0==z.tile_image_effect_reverse){var o=U.getTileImage(e);t?(o.fadeTo(0,1),n.stop(!0).fadeTo(r,0)):n.stop(!0).fadeTo(r,1)}else t?n.stop(!0).fadeTo(r,1):n.stop(!0).fadeTo(r,0)}function E(e,t){var n=z.thumb_transition_duration,r=c(e);if(!r)return!0;if("slide"==z.tile_textpanel_appear_type){var i=B.getElementSize(r);if(0==i.width)return!1;var o=-i.height,a={},s={},l="bottom";"inside_top"==z.tile_textpanel_position&&(l="top"),a[l]=o+"px",s[l]="0px",1==t?(r.fadeTo(0,1),0==r.is(":animated")&&r.css(a),s.opacity=1,r.stop(!0).animate(s,n)):r.stop(!0).animate(a,n)}else 1==t?r.stop(!0).fadeTo(n,1):r.stop(!0).fadeTo(n,0)}function x(e,t,n){var r=z.thumb_transition_duration;n&&!0===n&&(r=0);var i=m(e),o=h(e),a=t?1:0;i&&i.stop(!0).fadeTo(r,a),o&&o.stop(!0).fadeTo(r,a)}function T(e,t){if(t=jQuery(t),z.tile_enable_image_effect&&C(t,!0),1==z.tile_enable_textpanel&&0==z.tile_textpanel_always_on&&0==G.isTextPanelHidden&&E(t,!0),G.isSaparateIcons&&1==z.tile_enable_icons){var n=1==z.thumb_overlay_reverse;0==y(U.getItemByTile(t))&&x(t,n,!1)}}function S(e,t){if(t=jQuery(t),z.tile_enable_image_effect&&C(t,!1),1==z.tile_enable_textpanel&&0==z.tile_textpanel_always_on&&E(t,!1),1==G.isSaparateIcons&&1==z.tile_enable_icons){var n=1!=z.thumb_overlay_reverse;0==y(U.getItemByTile(t))?x(t,n,!1):x(t,!0,!0)}}function I(e){W.getThumbs().not(e).each(function(e,t){W.setThumbNormalStyle(jQuery(t))})}function k(e,t,n){if(t=jQuery(t),1==z.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==n)return!0;w(t),W.setThumbNormalStyle(t)}function P(e,t,n){w(t),n.fadeTo(0,1),t.data("image_placed",!0)}function M(e){if(1==v(e))return F.trigger(U.events.TILE_CLICK,e),!0;0==g(e)&&(I(e),W.setThumbOverStyle(e))}function O(e){var t=jQuery(this),n=t.prop("tagName").toLowerCase(),r=!0;if(G.funcParentApproveClick&&0==G.funcParentApproveClick()&&(r=!1),"a"==n)0==r&&e.preventDefault();else if(0==g(t))1==r&&M(t);else{if(0==v(t))return!0;1==r&&F.trigger(U.events.TILE_CLICK,t)}}function A(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),n=!0;return G.funcParentApproveClick&&0==G.funcParentApproveClick()&&(n=!1),0==g(t)?(M(t),!0):1==n?(F.trigger(U.events.TILE_CLICK,t),!1):void 0}function R(e){var t=jQuery(this).parents(".ug-tile");G.funcParentApproveClick&&0==G.funcParentApproveClick()&&e.preventDefault(),0==g(t)&&0==z.tile_as_link&&(e.preventDefault(),M(t))}var N,j,L,D,U=this,F=jQuery(this),H=new UniteGalleryMain,B=new UGFunctions,W=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var z={tile_width:250,tile_height:200,tile_size_by:U.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},V={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},G={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(e){var t=U.getTileImage(e);B.checkImagesLoaded(t,null,function(t,n){P(null,e,jQuery(t))})},this.setHtml=function(e){j=e,n(),W.setHtmlThumbs(e)},this.initEvents=function(){W.initEvents(),jQuery(W).on(W.events.SETOVERSTYLE,T),jQuery(W).on(W.events.SETNORMALSTYLE,S),jQuery(W).on(W.events.PLACEIMAGE,P),L.on(G.eventSizeChange,k),j.delegate(".ug-tile .ug-button-play","click",A),j.delegate(".ug-tile","click",O),j.delegate(".ug-tile .ug-icon-link","click",R)},this.destroy=function(){if(jQuery(W).off(W.events.SETOVERSTYLE),jQuery(W).off(W.events.SETNORMALSTYLE),jQuery(W).off(W.events.PLACEIMAGE),L.off(G.eventSizeChange),1==z.tile_enable_textpanel){var e=W.getThumbs();jQuery.each(e,function(e,t){var n=l(jQuery(t));n&&n.destroy()})}W.destroy()},this.init=function(t,n,r){e(t,n)},this.setFixedMode=function(){z.tile_size_by=U.sizeby.GLOBAL_RATIO,z.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){G.funcParentApproveClick=e},this.resizeTile=function(e,t,n,r){if(1==G.isTextpanelOutside&&_(e,"clone",t),t){if(!n)var n=U.getTileHeightByWidth(t,e,"resizeTile")}else var t=z.tile_width,n=z.tile_height;switch(B.setElementSize(e,t,n),r){default:case U.resizemode.FULL:U.triggerSizeChangeEvent(e,!0);break;case U.resizemode.WRAPPER_ONLY:return!0;case U.resizemode.VISIBLE_ELEMENTS:if(G.funcCustomTileHtml)return U.triggerSizeChangeEvent(e,!0),!0;b(e,t,n,!0),1==z.tile_enable_textpanel&&1==z.tile_textpanel_always_on&&t&&_(e,"regular",t,n)}},this.resizeAllTiles=function(e,t){n();var r=null;z.tile_size_by==U.sizeby.GLOBAL_RATIO&&(r=U.getTileHeightByWidth(e,null,"resizeAllTiles")),W.getThumbs().each(function(n,i){U.resizeTile(jQuery(i),e,r,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;L.trigger(G.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){W.getThumbs().each(function(){var t=jQuery(this);U.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){W.getThumbs().css("pointer-events","none")},this.enableEvents=function(){W.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){z=jQuery.extend(z,e),W.setOptions(e)},this.setTileSizeOptions=function(e){if(z.tile_size_by!==U.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");z.tile_width=e,z.tile_height=Math.floor(e*G.ratioByHeight)},this.setCustomFunctions=function(e,t){G.funcCustomTileHtml=e,G.funcCustomPositionElements=t},this.run=function(){var e=W.getThumbs();z.tile_size_by==U.sizeby.GLOBAL_RATIO&&U.resizeAllTiles(z.tile_width,U.resizemode.WRAPPER_ONLY),1==z.tile_enable_image_effect&&0==z.tile_image_effect_reverse&&e.children(".ug-thumb-image").fadeTo(0,0),W.setHtmlProperties(),1==z.tile_visible_before_image&&(e.children(".ug-thumb-image").fadeTo(0,0),W.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return W},this.getOptions=function(){return z},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return W.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t,n){var r=f(t,n);if(null===r)return null;var i=Math.floor((e-G.tileInnerReduce)*r)+G.tileInnerReduce;return t&&1==G.isTextpanelOutside&&z.tile_size_by==U.sizeby.IMAGE_RATIO&&(i+=p(t)),i},this.getTileImageSize=function(e){var t=U.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}},this.getGlobalTileSize=function(){if(z.tile_size_by!=U.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:z.tile_width,height:z.tile_height}}}function ugCheckForMinJQueryVersion(){
if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(e,t){try{"jquery"==t?(!function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return!0;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(i){var n=i.message;if(n="Unite Gallery Error: "+n,n="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+n+"</div>","jquery"==t){var r=document.getElementById(e);r.innerHTML=n,r.style.display="block"}else jQuery(e).show().html(n);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,n,r,i){var o="object"==typeof n;if(o&&(g_temp.objCustomOptions=n),1==g_temp.isRunFirstTime){if(g_galleryID=e,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),o&&(g_options=jQuery.extend(g_options,n)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass();var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),r){if(i&&1==g_options.gallery_enable_cache&&cacheItems(i,r),"noitems"==r)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(r);var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs,g_objTabs.init(t,g_options)),o&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(void 0===t)var t="<b>Unite Gallery Error: </b>";e=t+e;var n="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+e+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(n),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();if(e.width/e.height!=e.orig_ratio){var n=e.width/e.orig_ratio;n=Math.round(n),n<g_options.gallery_min_height&&(n=g_options.gallery_min_height),g_objWrapper.height(n)}}function setHtmlObjectsProperties(){var e=g_functions.getCssSizeParam(g_options.gallery_width),t={"max-width":e,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var n=g_functions.getCssSizeParam(g_options.gallery_height);t.height=n}else t.overflow="visible";g_options.gallery_background_color&&(t["background-color"]=g_options.gallery_background_color),g_objWrapper.css(t)}function fillItemsArray(e){g_arrItems=[];for(var n=t.isMobileMode(),r=0,i=0;i<e.length;i++){var o=jQuery(e[i]),a=o.prop("tagName").toLowerCase(),s="";if("a"==a){s=o.attr("href"),o=o.children();var a=o.prop("tagName").toLowerCase()}var l=o.data("type");void 0==l&&(l="image");var u={};if(u.type=l,"img"==a){var c=o.data("lazyload-src");c&&""!=c&&(o.attr("src",c),jQuery.removeData(o,"lazyload-src"));var d=o.data("image"),p=o.data("thumb");void 0===d&&(d=null),void 0===p&&(p=null);var h=o.attr("src");d||(d=h),p||(p=h),p||(p=d),d||(d=p),u.urlThumb=p,u.urlImage=d,u.title=o.attr("alt"),u.objThumbImage=o,u.objThumbImage.attr("src",u.urlThumb)}else{if("image"==l)throw trace("Problematic gallery item found:"),trace(o),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");u.urlThumb=o.data("thumb"),u.title=o.data("title"),u.objThumbImage=null,u.urlImage=o.data("image")}if(1==n){var f=o.data("thumb-mobile");void 0!==f&&""!=f&&(u.urlThumb=f,"img"==a&&o.attr("src",u.urlThumb));var m=o.data("image-mobile");void 0!==m&&""!=m&&(u.urlImage=m)}u.link=s,u.description=o.attr("title"),u.description||(u.description=o.data("description")),u.description||(u.description=""),u.isLoaded=!1,u.isThumbImageLoaded=!1,u.objPreloadImage=null,u.isBigImageLoadStarted=!1,u.isBigImageLoaded=!1,u.isBigImageLoadError=!1,u.imageWidth=0,u.imageHeight=0,u.thumbWidth=0,u.thumbHeight=0,u.thumbRatioByWidth=0,u.thumbRatioByHeight=0;var g=o.data("width"),v=o.data("height");g&&"number"==typeof g&&v&&"number"==typeof v&&(u.thumbWidth=g,u.thumbHeight=v,u.thumbRatioByWidth=g/v,u.thumbRatioByHeight=v/g),u.addHtml=null;var y=void 0==u.urlImage||""==u.urlImage,b=void 0==u.urlThumb||""==u.urlThumb;switch(u.type){case"youtube":if(u.videoid=o.data("videoid"),y||b){var _=g_ugYoutubeAPI.getVideoImages(u.videoid);y&&(u.urlImage=_.preview),b&&(u.urlThumb=_.thumb,"img"==a&&o.attr("src",u.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":u.videoid=o.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":u.videoogv=o.data("videoogv"),u.videowebm=o.data("videowebm"),u.videomp4=o.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":u.trackid=o.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":u.videoid=o.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var w=o.children("img");w.length&&(w=jQuery(w[0]),u.urlThumb=w.attr("src"),u.title=w.attr("alt"),u.objThumbImage=w);var C=o.children().not("img:first-child");C.length&&(u.addHtml=C.clone())}u.objThumbImage&&(u.objThumbImage.removeAttr("data-description",""),u.objThumbImage.removeAttr("data-image",""),u.objThumbImage.removeAttr("data-thumb",""),u.objThumbImage.removeAttr("title","")),u.index=r,g_arrItems.push(u),r++}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this;1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var n=e.urlImage;if(""==n||void 0==n)return e.isBigImageLoadError=!0,!1;e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",n),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this),n=e.data("itemIndex"),r=g_arrItems[n];r.isBigImageLoadError=!0,r.isBigImageLoaded=!1;var i=jQuery(this).attr("src");console.log("Can't load image: "+i),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[n,r.urlImage]),r.objThumbImage.attr("src",r.urlThumb)}),checkAllItemsStartedPreloading()}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,n=t-1,r=t+1;n>0&&preloadItemImage(g_arrItems[n]),r<g_numItems&&preloadItemImage(g_arrItems[r])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){if(1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()){0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying()}}function onKeyPress(e){var n=jQuery(e.target);if(n.is("textarea")||n.is("select")||n.is("input"))return!0;var r=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,i=!0;switch(r){case 39:t.nextItem();break;case 37:t.prevItem();break;default:i=!1}1==i&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[r,e])}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;t.setSizeClass();var e=t.getSize();if(e.width!=g_temp.lastWidth||e.height!=g_temp.lastHeight){var n=!1;if(g_temp.funcCustomHeight){var r=g_temp.funcCustomHeight(e);r&&(g_objWrapper.height(r),n=!0)}0==n&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),n=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,r=g_functions.getGlobalData("fullscreenID");if(g_galleryID!==r)return!0;e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(n),onGalleryResized()}function onItemImageUpdated(e,n){checkPreloadItemImage(t.getItem(n))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover){g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t){var n=t;"noitems"!=n&&(n=jQuery(t).clone())}else var n=g_objWrapper.children().clone();g_objCache[e]=n}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,n){jQuery(e).on(t,function(e){g_objGallery.trigger(n,[this])})}function advanceNextStep(){var e=jQuery.now(),n=e-g_temp.playTimeLastStep;if(g_temp.playTimePassed+=n,g_temp.playTimeLastStep=e,g_temp.objProgress){var r=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(r)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){if(null==g_selectedItem)return!0;g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,g_selectedItemIndex=-1}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox",LOAD:"load"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var n=t.data("itemIndex"),r=g_arrItems[n];r.isBigImageLoaded=!0;var i=g_functions.getImageOriginalSize(t);r.imageWidth=i.width,r.imageHeight=i.height},this.checkFillImageSize=function(e,t){if(!t){var n=e.data("itemIndex");if(void 0===n)throw new Error("Wrong image given to gallery.checkFillImageSize");var t=g_arrItems[n]}var r=g_functions.getImageOriginalSize(e);t.imageWidth=r.width,t.imageHeight=r.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,n){if(!e)var e={};e=jQuery.extend(g_temp.objCustomOptions,e),g_objSlider=new UGSlider,g_objSlider.init(t,e,n)},this.onGalleryMouseWheel=function(e,n,r,i){e.preventDefault(),n>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(e<0)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var n=e+1;if(!0!==t&&1==g_numItems)return null;if(n>=g_numItems){if(1!=g_options.gallery_carousel&&!0!==t)return null;n=0}return g_arrItems[n]},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(t<0){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;t=g_numItems-1}return g_arrItems[t]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,n){g_objGallery.on(t.events.ITEM_CHANGE,function(){var r=t.getSelectedItem();e.html(r.title),n.html(r.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){if(0==g_temp.isPlayMode)return!0;g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now()},this.pausePlaying=function(){if(1==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),g_objGallery.trigger(t.events.PAUSE_PLAYING)},this.continuePlaying=function(){if(0==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){g_temp.objProgress.getElement().hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,n){"number"==typeof e&&(e=t.getItem(e));var r=e.index;if(r==g_selectedItemIndex)return!0;if(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=r,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,n]),1==g_temp.isPlayMode){t.resetPlaying();1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()}},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&e>=g_numItems||(e>=g_numItems&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&e<0||(e<0&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,n){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),n||!0===n||onGalleryResized()},this.setSizeClass=function(e,n){if(!e)var e=g_objWrapper;if(!n)var r=t.getSize(),n=r.width;if(0==n)var n=jQuery(window).width();var i="";if(n<=480?i="ug-under-480":n<=780?i="ug-under-780":n<960&&(i="ug-under-960"),1==e.hasClass(i))return!0;removeAllSizeClasses(e),""!=i&&e.addClass(i)},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||e<=480},this.changeItems=function(e,t){if(!e)var e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,n,r){if(1==n&&"json",!r||"function"!=typeof r)throw new Error("ajaxRequest error: success function should be passed");if(""==g_options.gallery_urlajax)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===t)var t={};var i={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:i,success:function(e){return e?-1==e||0===e?(showErrorMessage("ajax error!!!"),!1):void 0===e.success?(showErrorMessage("The 'success' param is a must!"),!1):0==e.success?(showErrorMessage(e.message),!1):void r(e):(showErrorMessage("Empty ajax response!","Ajax Error"),!1)},error:function(e,t,n){console.log("Ajax Error!!! "+t)}})},this.requestNewItems=function(e,n,r){var i=g_options.gallery_enable_cache;if(r||(r=e),1==n&&(i=!1),1==i&&g_objCache.hasOwnProperty(r)){var o=g_objCache[r];t.changeItems(o,r)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},!0,function(e){var n=e.html;t.changeItems(n,r)})},this.run=function(e,t){g_options.gallery_debug_errors;if(t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var n=e.message,r=e.lineNumber,i=e.fileName;e.stack;n+=" <br><br> in file: "+i,n+=" <b> line "+r+"</b>",trace(e)}else var n=e;n=n.replace("Error:",""),showErrorMessage(n)}else runGallery(e,t)}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},n=e.objThumbImage.data();for(var r in n){switch(r){case"image":case"description":continue}t[r]=n[r]}return t}var n,r=this,i=(jQuery(r),new UniteGalleryMain),o=[];i=e,n=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,a,s){switch(!0!==s&&o.push({event:e,func:a}),e){case"item_change":n.on(i.events.ITEM_CHANGE,function(){var e=i.getSelectedItem(),n=t(e);a(n.index,n)});break;case"resize":n.on(i.events.SIZE_CHANGE,a);break;case"enter_fullscreen":n.on(i.events.ENTER_FULLSCREEN,a);break;case"exit_fullscreen":n.on(i.events.EXIT_FULLSCREEN,a);break;case"play":n.on(i.events.START_PLAY,a);break;case"stop":n.on(i.events.STOP_PLAY,a);break;case"pause":n.on(i.events.PAUSE_PLAYING,a);break;case"continue":n.on(i.events.CONTINUE_PLAYING,a);break;case"open_lightbox":n.on(i.events.OPEN_LIGHTBOX,a);break;case"close_lightbox":n.on(i.events.CLOSE_LIGHTBOX,a);break;case"load":n.on(i.events.LOAD,a);break;default:console&&console.log("wrong api event: "+e)}n.trigger(r.events.API_ON_EVENT,[e,a])},this.play=function(){i.startPlayMode()},this.stop=function(){i.stopPlayMode()},this.togglePlay=function(){i.togglePlayMode()},this.enterFullscreen=function(){i.toFullScreen()},this.exitFullscreen=function(){i.exitFullScreen()},this.toggleFullscreen=function(){i.toggleFullscreen()},this.resetZoom=function(){var e=i.getObjSlider();if(!e)return!1;e.zoomBack()},this.zoomIn=function(){var e=i.getObjSlider();if(!e)return!1;e.zoomIn()},this.zoomOut=function(){var e=i.getObjSlider();if(!e)return!1;e.zoomOut()},this.nextItem=function(){i.nextItem()},this.prevItem=function(){i.prevItem()},this.selectItem=function(e){i.selectItem(e)},this.resize=function(e,t){t?i.resize(e,t):i.resize(e)},this.getItem=function(e){return t(i.getItem(e))},this.getNumItems=function(){return i.getNumItems()},this.reloadGallery=function(e){if(!e)var e={};i.run(null,e),o.map(function(e){r.on(e.event,e.func,!0)})},this.destroy=function(){i.destroy()},n.trigger(r.events.API_INIT_FUNCTIONS,r)}function UGTheme_tiles(){function e(e,n){h=e,v=jQuery.extend(v,y),v=jQuery.extend(v,n),t(),h.setOptions(v),h.setFreestyleMode(),u=e.getObjects(),l=jQuery(e),c=u.g_objWrapper,f.init(e,v),g=f.getObjTileDesign()}function t(){switch(1==v.theme_enable_preloader&&(b.showPreloader=!0),v.theme_appearance_order){default:case"normal":break;case"shuffle":h.shuffleItems();break;case"keep":v.tiles_keep_order=!0}}function n(){c.addClass("ug-theme-tiles"),c.append("<div class='ug-tiles-wrapper' style='position:relative'></div>"),1==b.showPreloader&&(c.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),d=c.children(".ug-tiles-preloader"),d.fadeTo(0,0)),p=c.children(".ug-tiles-wrapper"),v.theme_gallery_padding&&c.css({"padding-left":v.theme_gallery_padding+"px","padding-right":v.theme_gallery_padding+"px"}),f.setHtml(p)}function r(){d&&(d.fadeTo(0,1),c.height(v.theme_preloading_height),m.placeElement(d,"center",v.theme_preloader_vertpos)),s(),f.run()}function i(){n(),r()}function o(e,t){t=jQuery(t);var n=g.getItemByTile(t);n.index}function a(){if(p.hide(),d){d.show();var e=m.getElementSize(d),t=e.bottom+30;c.height(t)}}function s(){d&&jQuery(f).on(f.events.TILES_FIRST_PLACED,function(){c.height("auto"),d.hide()}),jQuery(g).on(g.events.TILE_CLICK,o),l.on(h.events.GALLERY_BEFORE_REQUEST_ITEMS,a)}var l,u,c,d,p,h=new UniteGalleryMain,f=new UGTiles,m=new UGFunctions,g=new UGTileDesign,v={theme_enable_preloader:!0,theme_preloading_height:200,theme_preloader_vertpos:100,theme_gallery_padding:0,theme_appearance_order:"normal",theme_auto_open:null},y={gallery_width:"100%"},b={showPreloader:!1};this.destroy=function(){
jQuery(g).off(g.events.TILE_CLICK),jQuery(f).off(f.events.TILES_FIRST_PLACED),l.off(h.events.GALLERY_BEFORE_REQUEST_ITEMS),f.destroy()},this.run=function(){i()},this.init=function(t,n){e(t,n)}}define("lib-build/css",[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?r=!1:t[4]&&(n=parseInt(t[4])<18);var i={};i.pluginBuilder="./css-builder";var o,a=function(){o=document.createElement("style"),e.appendChild(o)},s=function(e,t){a();var n=o.styleSheet||o.sheet;if(n&&n.addImport)n.addImport(e),o.onload=t;else{o.textContent='@import "'+e+'";';var r=setInterval(function(){try{o.sheet.cssRules,clearInterval(r),t()}catch(e){}},10)}},l=function(t,n){var i=document.createElement("link");if(i.type="text/css",i.rel="stylesheet",r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var o=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){if(document.styleSheets[e].href==i.href)return clearInterval(o),n()}},10);i.href=t,e.appendChild(i)};return i.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},i.load=function(e,t,r,i){(n?s:l)(t.toUrl(e+".css"),r)},i}),define("lib-build/css!lib/font-awesome/css/font-awesome",[],function(){}),define("lib-build/css!storymaps/tpl/core/Core",[],function(){}),define("lib-build/less",["require"],function(e){var t={};if(t.pluginBuilder="./less-builder","undefined"==typeof window)return t.load=function(e,t,n){n()},t;t.normalize=function(e,t){return".less"==e.substr(e.length-5,5)&&(e=e.substr(0,e.length-5)),e=t(e)};var n=document.getElementsByTagName("head")[0],r=document.getElementsByTagName("base");r=r&&r[0]&&r[0]&&r[0].href;var i=(r||window.location.href.split("#")[0].split("?")[0]).split("/");i[i.length-1]="",i=i.join("/");var o,a=0;return t.inject=function(e){a<31&&(o=document.createElement("style"),o.type="text/css",n.appendChild(o),a++),o.styleSheet?o.styleSheet.cssText+=e:o.appendChild(document.createTextNode(e))},t.load=function(n,r,o,a){var s={},l=a?a.less||a:s;"env"in l||(l.env="development");var u=window.less;u?u.Parser||(l===s&&(l=u),u=null):window.less=l,e(u?["./normalize"]:["./normalize","./lessc"],function(e,a){a||(a=u),"fileExt"in l||(l.fileExt=".less");var s=n;".css"!==s.substring(s.length-4)&&l.fileExt&&(s+=l.fileExt),s=e.absoluteURI(r.toUrl(s),i),a.render("@import ("+(l.importOption||"multiple")+') "'+s+'";',l,function(e,n){if(e)return o.error(e);n.css=n.css.replace(/..\/..\/(..\/)*resources/g,"resources"),t.inject(n.css),setTimeout(o,7)},l)})},t}),define("lib-build/less!storymaps/tpl/core/Core",[],function(){}),define("storymaps/tpl/utils/SocialSharing",["dojo/Deferred","esri/urlUtils"],function(e,t){return{shareFacebook:function(e,t,n,r){var i="u="+this.cleanURL(r||document.location.href);window.open("https://www.facebook.com/sharer/sharer.php?"+i,"","toolbar=0,status=0,width=626,height=436")},shareTwitter:function(e,t){var n="text="+encodeURIComponent(e||"")+"&url="+this.cleanURL(t||document.location.href)+"&related=EsriStoryMaps&hashtags=StoryMaps";window.open("https://twitter.com/intent/tweet?"+n,"","toolbar=0,status=0,width=626,height=436")},requestShortUrl:function(t){var n=t||document.location.href,r=new e;return $.getJSON("https://arcg.is/prod/shorten?callback=?",{longUrl:n},function(e){console.log(e),e&&e&&e.data.url?r.resolve(e.data.url):r.reject()}),r},cleanURL:function(e,n){var r=t.urlToObject(e),i=r.path;return r.query&&(delete r.query.edit,delete r.query.locale,delete r.query.folderId,delete r.query.webmap,delete r.query.autoplay,$.each(Object.keys(r.query),function(e,t){i+=0===e?"?":"&",void 0!==r.query[t]&&""!==r.query[t]?i+=t+"="+r.query[t]:i+=t})),n?i:encodeURIComponent(i)}}}),define("storymaps/tpl/utils/CommonHelper",["esri/urlUtils","esri/arcgis/utils","dojo/cookie","dojo/_base/Color","./SocialSharing"],function(e,t,n,r,i){return{switchToBuilder:function(){document.location.search.match(/appid/)?document.location=i.cleanURL(document.location.protocol+"//"+document.location.host+document.location.pathname+document.location.search,!0)+"&edit"+document.location.hash:(document.location.search.slice(-1),document.location=i.cleanURL(document.location.protocol+"//"+document.location.host+document.location.pathname,!0)+"?edit"+document.location.hash)},getMyStoriesURL:function(){return app.isPortal?this.getPortalURL()+"/apps/MyStories/":"//storymaps.arcgis.com/en/my-stories/"},getUrlParams:function(t){var n=e.urlToObject(t||document.location.search).query;return n||(this.browserSupportHistory()||n?{}:e.urlToObject(document.location.hash).query||{})},getUrlHash:function(t){var n=e.urlToObject(t||document.location).hash;return n||""},browserSupportHistory:function(){return!(!window.history||!history.pushState)},isArcGISHosted:function(){return/(\/)([a-zA-Z0-9]+(\/))*(apps\/|home\/)([a-zA-Z0-9\-\_]+\/)/.test(document.location.pathname)},isArcGISOnlineHosted:function(){return document.location.host.match(/\.arcgis\.com$/)},isDefaultLogoLink:function(e){return/\/\/www\.esri\.com$/i.test(e)},getAppID:function(e){var t=this.getUrlParams();return app.indexCfg&&app.indexCfg.appid?app.indexCfg.appid:this.isArcGISHosted()||!e?t.appid:app.indexCfg.authorizedOwners&&app.indexCfg.authorizedOwners.length>0&&app.indexCfg.authorizedOwners[0]?t.appid:void 0},getWebmapID:function(e){var t=this.getUrlParams();return app.indexCfg&&app.indexCfg.webmap?app.indexCfg.webmap:this.isArcGISHosted()||!e?t.webmap:app.indexCfg.authorizedOwners&&app.indexCfg.authorizedOwners.length>0&&app.indexCfg.authorizedOwners[0]?t.webmap:void 0},getPortalURL:function(){return t.arcgisUrl.split("/sharing/")[0]},getPortalUser:function(){var e=n("esri_auth");if(e&&(e=JSON.parse(e.replace('"ssl":undefined','"ssl":""')),!e.urlKey||!e.customBaseUrl||(e.urlKey+"."+e.customBaseUrl).toLowerCase()==document.location.hostname.toLowerCase()))return e?e.email:null},getCookieToken:function(){var e=n("esri_auth");if(e&&(e=JSON.parse(e.replace('"ssl":undefined','"ssl":""')),!e.urlKey||!e.customBaseUrl||(e.urlKey+"."+e.customBaseUrl).toLowerCase()==document.location.hostname.toLowerCase()))return e?e.token:null},userIsAppOwner:function(){var e=app.portal?app.portal.getPortalUser():null,t=app.data.appItem?app.data.appItem.item:null;return e&&t&&e.username==t.owner||null!=this.getPortalUser()&&t&&this.getPortalUser()==t.owner||e&&e.privileges&&$.inArray("portal:admin:updateItems",e.privileges)>-1||t&&"admin"==t.itemControl||t&&"update"==t.itemControl},checkUserItemPrivileges:function(){var e=app.portal?app.portal.getPortalUser():null;return e&&!e.orgId&&!e.privileges||e&&e.privileges&&$.inArray("portal:user:createItem",e.privileges)>-1},prependURLHTTP:function(e){return!e||""===e||e.match(/^mailto:/)?e:/^(https?:\/\/)|^(\/\/)/i.test(e)?e:"http://"+e},forceHttpsUrl:function(e){return"https://"+e.replace(/^.*?\/\//,"")},forceProtocolRelativeUrl:function(e){return"//"+e.replace(/^.*?\/\//,"")},uploadedImageNeedsFixing:function(e){if(!e||!app.portal||!app.portal.url)return!1;var t=app.data&&app.data.appItem;if(!t)return!1;var n=t.item.id;if(!n)return!1;var r=t.data.values.template.createdWith,i=t.data.values.template.editedWith;return!(!r.match(/^1.[0|1]/)||!i.match(/^1.[0|1]/)||!e.match(n+"/resources"))},fixUploadedImageUrl:function(e){var t=e.replace(/^(https?:\/\/)|^(\/\/)/,"").split(/\//)[0],n=app.portal.portalHostname;return t&&n?e.replace(t,n):e},fixUrlWithMultipleQueryParams:function(t){if(!t)return t;var n=t.match(/\?/g);if(!n||n.length<2)return t;var r=0;t=t.replace(/\?/g,function(e){return r++,r>1?"&":e});var i=e.urlToObject(t),o=i.query,a=[];for(var s in o)$.isArray(o[s])&&(o[s]=o[s][0]),a.push(s+"="+o[s]);return i.path+"?"+a.join("&")},fixSizeUrls:function(e,t){return void 0===t&&(t=this.uploadedImageNeedsFixing(e[0].url)),t?(e.forEach(function(e){e.url=this.fixUploadedImageUrl(e.url)}),e):e},sortSizeUrls:function(e,t){return e.longestSide&&t.longestSide?t.longestSide===e.longestSide?Math.min(t.width,t.height)-Math.min(e.width,e.height):t.longestSide-e.longestSide:t.width-e.width},findASize:function(e,t,n){n||e.sort(this.sortSizeUrls),t=t||$("body").width()||window.screen.width;var r=e[0];return e.every(function(e){return e.longestSide>=t-50&&(r=e,!0)}),r},getLightOrDarkText:function(e){return this.getYIQ(e)>=128?"dark":"light"},getYIQ:function(e){var t=new r(e),n=t.toRgb();return(299*n[0]+587*n[1]+114*n[2])/1e3},throttle:function(e,t,n){t||(t=250);var r,i;return function(){var o=n||this,a=+new Date,s=arguments;r&&a<r+t?(clearTimeout(i),i=setTimeout(function(){r=a,e.apply(o,s)},t)):(r=a,e.apply(o,s))}}}}),function(){"use strict";function e(t,r){var i;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,s=0,l=o.length;s<l;s++)a[o[s]]=function(e,t){return function(){return e.apply(t,arguments)}}(a[o[s]],a);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(e){i(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=r&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(!(t=e.fastClickScrollParent)||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],r){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,a,s,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(u=e.changedTouches[0],c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(s=c.tagName.toLowerCase())){if(t=this.findControl(c)){if(this.focus(c),n)return!1;c=t}}else if(this.needsFocus(c))return e.timeStamp-a>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,e),r&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return!(!r||i||!(l=c.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(c)||(e.preventDefault(),this.sendClick(c,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,i;if(void 0===window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("lib/fastclick/lib/fastclick",[],function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),app.isPrint||require([app.isPrint?"":"lib-build/css!lib/calcite-bootstrap/css/calcite-bootstrap-open.min",app.isPrint?"":"lib-build/less!storymaps/tpl/view/ui/bootstrap-override"]),define("storymaps/tpl/core/Core",["lib-build/css!lib/font-awesome/css/font-awesome","lib-build/css!./Core","lib-build/less!./Core","esri/map","esri/arcgis/Portal","esri/arcgis/utils","storymaps/tpl/utils/CommonHelper","esri/urlUtils","dojo/has","esri/IdentityManager","esri/arcgis/OAuthInfo","esri/config","esri/tasks/GeometryService","esri/request","dojo/topic","dojo/on","dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","dojo/Deferred","dojo/DeferredList","dojo/query","lib/fastclick/lib/fastclick"],function(e,t,n,r,i,o,a,s,l,u,c,d,p,h,f,m,g,v,y,b,_,w,C){function E(e,t){return Q=e,K=t,app.userCanEdit=!1,V(),a.isArcGISHosted()?app.indexCfg={}:G()||(app.indexCfg={proxyurl:app.indexCfg.proxyurl,sharingurl:app.indexCfg.sharingurl,oAuthAppId:app.indexCfg.oAuthAppId,story:app.indexCfg.story}),document.title=app.cfg.TPL_NAME,l("touch")&&$("body").addClass("hasTouch"),C.prototype._needsClick=C.prototype.needsClick,C.prototype.needsClick=function(e){return!!$(e).parents(".esriPopup").length||C.prototype._needsClick.call(this,e)},C.attach(document.body),window!=window.top&&$("body").addClass("isEmbed"),g.mixin(app,{data:{},appCfg:{supportWebmapPreviewAGOL:!1,useWebmapInApp:!1,useStandardHeader:!1,useAppTitleAsPageTitle:!1},portal:null,builder:t,isLoading:!0,loadingTimeout:null}),app.isInBuilder&&(l("ie")||l("trident")||l("edge"))?($("#fatalError .error-title").html(i18n.viewer.errors.sorry),$("#fatalError .error-msg").html(i18n.viewer.errors.builderSupportOther.replace("${CHROME}",'<a href="https://www.google.com/chrome/" target="_blank">Chrome</a>').replace("${SAFARI}",'<a href="https://www.apple.com/safari/" target="_blank">Safari</a>').replace("${FIREFOX}",'<a href="https://www.mozilla.org/" target="_blank">Firefox</a>').replace("${ESRI-SUPPORT}",'<a href="https://support.esri.com" target="_blank">Esri Support</a>').replace("${BROWSER-SUPPORT-VOTE}",'<a href="http://links.esri.com/storymaps/vote-for-cascade-builder-browser-support" target="_blank">vote here</a>')),void $("#fatalError").show()):app.isInBuilder&&l("ipad")?($("#fatalError .error-title").html(i18n.viewer.errors.sorry),$("#fatalError .error-msg").html(i18n.viewer.errors.builderSupportIpad),void $("#fatalError").show()):l("ie")<11?($("#fatalError .error-title").html(i18n.viewer.errors.sorry),$("#fatalError .error-msg").html(i18n.viewer.errors.noViewerIE.replace("${VERSION}",11).replace("${UPGRADE}",'<a href="http://browsehappy.com/" target="_blank">'+i18n.viewer.errors.upgradeBrowser+"</a>")),void $("#fatalError").show()):void x.bind(this)(t)}function x(e){if(m(u,"dialog-create",function(){app.isLoading&&j("invalidConfignoOAuth")}),f.subscribe("tpl-ready",function(){var e=document.location.search;e&&(e=e.replace("&preview","")),window.history.replaceState({},"","index.html"+e+document.location.hash)}),app.isInBuilder){var t="notConfiguredMobile";l("touch")&&(window.innerHeight>window.innerWidth?window.innerHeight>768&&(t="notConfiguredMobile2"):window.innerWidth>768&&(t="notConfiguredMobile2")),j(t,null,!0)}if(Q.init(this)){B();var n=a.getUrlParams();if(n.sharinghost&&(app.indexCfg.sharingurl=n.sharinghost,app.indexCfg.proxyurl=n.sharinghost.split("/content/")[0]+"/proxy"),!app.indexCfg.sharingurl){var r=document.location.pathname.indexOf("/apps/");if(-1==r&&(r=document.location.pathname.indexOf("/home/")),-1!=r){var p=location.pathname.substr(0,r);app.indexCfg.sharingurl="//"+location.host+p+"/sharing/rest/content/items",app.indexCfg.proxyurl="//"+location.host+p+"/sharing/proxy"}else app.indexCfg.sharingurl=app.cfg.DEFAULT_SHARING_URL}app.indexCfg.sharingurl.match(/^http/)?o.arcgisUrl=app.indexCfg.sharingurl:o.arcgisUrl=location.protocol+app.indexCfg.sharingurl,app.indexCfg.proxyurl||(app.indexCfg.proxyurl=app.cfg.DEFAULT_PROXY_URL),d.defaults.io.proxyUrl=location.protocol+app.indexCfg.proxyurl,u&&u.setProtocolErrorHandler(function(){return!0}),app.isInBuilder&&app.cfg.CORS_SERVER&&$.each(app.cfg.CORS_SERVER,function(e,t){d.defaults.io.corsEnabledServers.push(t)}),app.cfg.PROXY_RULES&&app.cfg.PROXY_RULES.length&&$.each(app.cfg.PROXY_RULES,function(e,t){t&&t.urlPrefix&&t.proxyUrl&&s.addProxyRule(t)}),d.defaults.io.timeout=app.isInBuilder?app.cfg.TIMEOUT_BUILDER_REQUEST:app.cfg.TIMEOUT_VIEWER_REQUEST,$&&$.fn&&$.fn.modal&&($.fn.modal.Constructor.prototype.enforceFocus=function(){}),$("form").bind("keydown",function(e){if(13==e.keyCode)return!1}),f.subscribe("CORE_UPDATE_EXTENT",D),app.portal=new i.Portal(app.indexCfg.sharingurl.split("/sharing/")[0]),app.portal.on("load",function(t){if(app.isPortal=!!t.isPortal,app.isSelfHosted=!app.isPortal&&!a.isArcGISOnlineHosted(),q(),app.indexCfg.oAuthAppId){var n=new c({appId:app.indexCfg.oAuthAppId,popup:!1,portalUrl:"https:"+app.indexCfg.sharingurl.split("/sharing/")[0]});u.registerOAuthInfos([n]),u.checkSignInStatus(n.portalUrl+"/sharing/rest").then(function(){P().then(T)},function(){e?P().then(T):T()})}else u.checkSignInStatus("https:"+app.indexCfg.sharingurl.split("/sharing/")[0]+"/sharing/rest"),T()})}}function T(){var e=a.getAppID(G()),t=a.getWebmapID(G()),n=!(app.appCfg&&!app.appCfg.supportWebmapPreviewAGOL),r=app.indexCfg.story||a.getUrlParams().story;return r?G()?void Q.getConfig(r):void setTimeout(function(){Q.getConfig(r)},1e3):e?void S(e):t&&!n?void(a.isArcGISHosted()?A():M(t)):app.isInBuilder&&K.isDirectCreation&&G()&&a.isArcGISHosted()&&!a.getPortalUser()&&!app.portal.getPortalUser()?void H():app.isInBuilder&&K.isDirectCreation?void P().then(function(){var e=new c({appId:"storymaps",portalUrl:"https:"+app.indexCfg.sharingurl.split("/sharing")[0],popup:!0});u.registerOAuthInfos([e]),u.checkAppAccess("https:"+app.indexCfg.sharingurl,"storymaps").then(function(e){return e&&e.code&&"IdentityManagerBase.1"===e.code?void j("notAuthorizedBuilder"):app.isInBuilder&&!a.checkUserItemPrivileges()?void j("notAuthorizedBuilder"):(R(),void N())},function(){j("notAuthorizedBuilder")})}):void(a.isArcGISHosted()?A():j(!X.appid||app.indexCfg.authorizedOwners&&app.indexCfg.authorizedOwners[0]?app.isProduction?"invalidConfigNoApp":"invalidConfigNoAppDev":"unspecifiedConfigOwner"))}function S(e){void 0!==X.forceLogin||app.isInBuilder?P().then(function(){I(e)},function(){j("notAuthorized")}):I(e)}function I(e){o.getItem(e).then(function(e){if(!e)return void j("appLoadingFail");var t=new c({appId:"storymaps",portalUrl:"https:"+app.indexCfg.sharingurl.split("/sharing")[0],popup:!0});u.registerOAuthInfos([t]),"public"!==e.item.access?u.checkAppAccess("https:"+app.indexCfg.sharingurl,"storymaps").then(function(t){return t&&t.code&&"IdentityManagerBase.1"===t.code?void j("notAuthorizedLicense"):void k(e)},function(){j("notAuthorizedLicense")}):k(e)},function(e){j(e&&400==e.httpCode?"invalidApp":e&&403==e.httpCode?"notAuthorized":"appLoadingFail")})}function k(e){var t=e.item,n=e.itemData;if(app.data.appItem={item:t,data:n},app.userCanEdit=a.userIsAppOwner(),app.indexCfg.authorizedOwners&&app.indexCfg.authorizedOwners.length>0&&app.indexCfg.authorizedOwners[0]){var r=t.owner,i=!1;if(r&&(i=-1!=$.inArray(r,app.indexCfg.authorizedOwners)),i||"*"!=app.indexCfg.authorizedOwners[0]||(i=!0),i||$.each(app.indexCfg.authorizedOwners,function(e,n){var r=n.match(/^\[(.*)\]$/);r&&t.orgId==r[1]&&(i=!0)}),!i)return void j("invalidConfigOwner")}if(t&&t.appProxies){var o=v.map(t.appProxies,function(e){return{url:e.sourceUrl,mixin:{url:e.proxyUrl}}});app.data.appProxies=o}if(app.isInBuilder&&G()&&!app.userCanEdit)return void j("notAuthorized");Q.isStoryBlank()?app.isInBuilder?N():a.getAppID(G())?app.userCanEdit?a.switchToBuilder():j("notConfiguredDesktop"):j("noLayer"):N()}function P(){var e=new b;return app.portal.signIn().then(function(){var t=new c({appId:"storymaps",portalUrl:"https:"+app.indexCfg.sharingurl.split("/sharing")[0],popup:!0});u.registerOAuthInfos([t]),u.checkAppAccess("https:"+app.indexCfg.sharingurl,"storymaps").then(function(t){return t&&t.code&&"IdentityManagerBase.1"===t.code?void j("notAuthorizedBuilder"):app.isInBuilder&&!a.checkUserItemPrivileges()?void j("notAuthorizedBuilder"):(app.userCanEdit=a.userIsAppOwner(),q(),app.portal.signedIn=!0,f.publish("portal-signin"),e.resolve(),void 0)},function(){j("notAuthorizedBuilder")})},function(){e.reject()}),e}function M(e){Q.loadFirstWebmap(e).then(g.hitch(this,function(e){O()}),g.hitch(this,function(){j("createMap")}))}function O(){console.error("FATAL ERROR")}function A(){window.location=app.isPortal&&app.cfg.HELP_URL_PORTAL?app.cfg.HELP_URL_PORTAL:app.cfg.HELP_URL}function R(){var e=app.data.title;app.appCfg.useAppTitleAsPageTitle&&(document.title=e?$("<div>"+e+"</div>").text():app.cfg.TPL_NAME)}function N(){Q.isStoryBlank()&&app.isInBuilder?(app.builder.appInitComplete(),Q.appInitComplete()):app.isInBuilder?(Q.appInitComplete(),app.builder.appInitComplete()):Q.appInitComplete(),document.location.pathname.match(/\/apps\/[a-zA-Z]+\/$/)&&document.location.search.match(/^\?appid=/)&&(!l("ie")||l("ie")>=10)&&window.history.replaceState({},"","index.html"+document.location.search+document.location.hash)}function j(e,t,n){var r=i18n.viewer.errors[e];"notAuthorizedLicense"==e?(r=i18n.print.licenseChange2018.noAccess,r=r.replace(/%USER_NAME%/g,a.getPortalUser()?a.getPortalUser():"")):r=r.replace(/%TPL_NAME%/g,app.cfg.TPL_NAME),r=r.replace(/{TPL_NAME}/g,app.cfg.TPL_NAME),"notAuthorized"==e&&app.indexCfg.oAuthAppId&&(r+='<div><button class="btn btn-sm btn-default" onclick="esri.id.destroyCredentials(); window.location.reload();">'+i18n.viewer.errors.signOut+"</button></div>"),"appLoadingFail"==e?$("#loadingMessage").html('<div id="loadingRetry"> <button type="button" class="btn btn-naked btn-sm" onclick="document.location.reload()">'+i18n.viewer.loading.failButton+" </button></div>").hide().fadeIn(1200,function(){$("#loadingMessage").addClass("loaded")}):$("#loadingMessage").hide(),$("#fatalError .error-msg").html(r),n||(W(),$("#loadingIndicator").hide(),$("#fatalError").show())}function L(e){$("#fatalError .error-msg").html(i18n.viewer.errors[e])}function D(e){if(!(e&&e.spatialReference&&app.map&&app.map.extent.spatialReference&&app.map.spatialReference)){var t=new b;return t.resolve(),t}if(app.map.spatialReference.wkid==e.spatialReference.wkid)return app.map.setExtent(e);var n=new b;return d.defaults.geometryService.project([e],app.map.spatialReference,function(e){e&&e[0]&&(app.map.setExtent(e[0]),n.resolve())}),n}function U(e,t){e&&(102100!=app.map.spatialReference.wkid&&4326!=app.map.spatialReference.wkid?d.defaults.geometryService.project([t],app.map.spatialReference,function(e){e&&e[0]&&(app.map.extent.contains(e[0])||app.map.centerAt(e[0]))}):app.map.extent.contains(t)||app.map.centerAt(t))}function F(){return!app.isInBuilder&&(!G()&&!!a.getAppID(G())||G()&&app.userCanEdit)&&(void 0===X.preview||"false"==X.preview)}function H(){window.location=o.arcgisUrl.split("/sharing/")[0]+"/home/signin.html?returnUrl="+encodeURIComponent(document.location.href)}function B(){app.loadingTimeout=setTimeout(z,app.cfg.TIMEOUT_VIEWER_LOAD)}function W(){"undefined"!=typeof app&&app.loadingTimeout&&(clearTimeout(app.loadingTimeout),app.loadingTimeout=null)}function z(){if(u&&u.dialog&&u.dialog._alreadyInitialized&&!u.loadingTimeoutAlreadyFired)return clearTimeout(app.loadingTimeout),B(),void(u._busy||(u.loadingTimeoutAlreadyFired=!0))}function V(){document.documentElement.lang=y.locale,w("#fatalError .error-title")[0].innerHTML=i18n.viewer.errors.boxTitle}function G(){return Y.environment!=["TPL","ENV","DEV"].join("_")}function q(){if(app.portal){!app.cfg.HELPER_SERVICES.geocode.length&&app.portal.helperServices&&app.portal.helperServices.geocode&&app.portal.helperServices.geocode.length&&app.portal.helperServices.geocode[0].url&&$.each(app.portal.helperServices.geocode,function(e,t){app.cfg.HELPER_SERVICES.geocode.push(t)});var e;if(app.cfg.HELPER_SERVICES.geometry&&app.cfg.HELPER_SERVICES.geometry.url?e=app.cfg.HELPER_SERVICES.geometry.url:app.portal.helperServices.geometry&&app.portal.helperServices.geometry.url&&(e=app.portal.helperServices.geometry.url),d.defaults.geometryService=new p(e),!app.cfg.BING_MAPS_KEY&&app.portal.bingKey&&(app.cfg.BING_MAPS_KEY=app.portal.bingKey),app.portal.isPortal&&app.cfg&&app.cfg.AUTHORIZED_IMPORT_SOURCE&&(app.cfg.AUTHORIZED_IMPORT_SOURCE.featureService=!1),app.isPortal=!!app.portal.isPortal,app.isSelfHosted=!app.isPortal&&!a.isArcGISOnlineHosted(),app.isPortal&&app.portal.helpBase&&app.portal.portalHostname&&!app.cfg.HELP_URL_PORTAL.match("^//")){var t=app.portal.portalHostname.split("/")[0];app.cfg.HELP_URL_PORTAL="//"+t+app.portal.helpBase+app.cfg.HELP_URL_PORTAL}}}var Y={environment:"TPL_ENV_PRODUCTION"},Q=null,K=null,X=a.getUrlParams();return{init:E,isProd:G,appInitComplete:N,loadWebMap:M,hasSwitchBuilderButton:F,zoomToDeviceLocation:U,cleanLoadingTimeout:W,initError:j,replaceInitErrorMessage:L,portalLogin:P}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e(40),i=e(148),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};t.exports=o},{148:148,40:40}],2:[function(e,t,n){"use strict";function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function i(e){switch(e){case I.topCompositionStart:return k.compositionStart;case I.topCompositionEnd:return k.compositionEnd;case I.topCompositionUpdate:return k.compositionUpdate}}function o(e,t){return e===I.topKeyDown&&t.keyCode===_}function a(e,t){switch(e){case I.topKeyUp:return-1!==b.indexOf(t.keyCode);case I.topKeyDown:return t.keyCode!==_;case I.topKeyPress:case I.topMouseDown:case I.topBlur:return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var l,u;if(w?l=i(e):M?a(e,n)&&(l=k.compositionEnd):o(e,n)&&(l=k.compositionStart),!l)return null;x&&(M||l!==k.compositionStart?l===k.compositionEnd&&M&&(u=M.getData()):M=m.getPooled(r));var c=g.getPooled(l,t,n,r);if(u)c.data=u;else{var d=s(n);null!==d&&(c.data=d)}return h.accumulateTwoPhaseDispatches(c),c}function u(e,t){switch(e){case I.topCompositionEnd:return s(t);case I.topKeyPress:return t.which!==T?null:(P=!0,S);case I.topTextInput:var n=t.data;return n===S&&P?null:n;default:return null}}function c(e,t){if(M){if(e===I.topCompositionEnd||!w&&a(e,t)){var n=M.getData();return m.release(M),M=null,n}return null}switch(e){case I.topPaste:return null;case I.topKeyPress:return t.which&&!r(t)?String.fromCharCode(t.which):null;case I.topCompositionEnd:return x?null:t.data;default:return null}}function d(e,t,n,r){var i;if(!(i=E?u(e,n):c(e,n)))return null
;var o=v.getPooled(k.beforeInput,t,n,r);return o.data=i,h.accumulateTwoPhaseDispatches(o),o}var p=e(16),h=e(20),f=e(140),m=e(21),g=e(95),v=e(99),y=e(158),b=[9,13,27,32],_=229,w=f.canUseDOM&&"CompositionEvent"in window,C=null;f.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var E=f.canUseDOM&&"TextEvent"in window&&!C&&!function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}(),x=f.canUseDOM&&(!w||C&&C>8&&C<=11),T=32,S=String.fromCharCode(T),I=p.topLevelTypes,k={beforeInput:{phasedRegistrationNames:{bubbled:y({onBeforeInput:null}),captured:y({onBeforeInputCapture:null})},dependencies:[I.topCompositionEnd,I.topKeyPress,I.topTextInput,I.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:y({onCompositionEnd:null}),captured:y({onCompositionEndCapture:null})},dependencies:[I.topBlur,I.topCompositionEnd,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:y({onCompositionStart:null}),captured:y({onCompositionStartCapture:null})},dependencies:[I.topBlur,I.topCompositionStart,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:y({onCompositionUpdate:null}),captured:y({onCompositionUpdateCapture:null})},dependencies:[I.topBlur,I.topCompositionUpdate,I.topKeyDown,I.topKeyPress,I.topKeyUp,I.topMouseDown]}},P=!1,M=null,O={eventTypes:k,extractEvents:function(e,t,n,r){return[l(e,t,n,r),d(e,t,n,r)]}};t.exports=O},{140:140,158:158,16:16,20:20,21:21,95:95,99:99}],3:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){o.forEach(function(t){i[r(t,e)]=i[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:a};t.exports=s},{}],4:[function(e,t,n){"use strict";var r=e(3),i=e(140),o=(e(66),e(142),e(113)),a=e(153),s=e(159),l=(e(161),s(function(e){return a(e)})),u=!1,c="cssFloat";if(i.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(e){u=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var p={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];null!=i&&(n+=l(r)+":",n+=o(r,i,t)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=o(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)i[a]=s;else{var l=u&&r.shorthandPropertyExpansions[a];if(l)for(var d in l)i[d]="";else i[a]=""}}}};t.exports=p},{113:113,140:140,142:142,153:153,159:159,161:161,3:3,66:66}],5:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=e(132),o=e(162),a=e(25);e(154),o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length&&i("24"),this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),t.exports=r},{132:132,154:154,162:162,25:25}],6:[function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=x.getPooled(M.change,A,e,T(e));_.accumulateTwoPhaseDispatches(t),E.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){O=e,A=t,O.attachEvent("onchange",i)}function s(){O&&(O.detachEvent("onchange",i),O=null,A=null)}function l(e,t){if(e===P.topChange)return t}function u(e,t,n){e===P.topFocus?(s(),a(t,n)):e===P.topBlur&&s()}function c(e,t){O=e,A=t,R=e.value,N=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(O,"value",D),O.attachEvent?O.attachEvent("onpropertychange",p):O.addEventListener("propertychange",p,!1)}function d(){O&&(delete O.value,O.detachEvent?O.detachEvent("onpropertychange",p):O.removeEventListener("propertychange",p,!1),O=null,A=null,R=null,N=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==R&&(R=t,i(e))}}function h(e,t){if(e===P.topInput)return t}function f(e,t,n){e===P.topFocus?(d(),c(t,n)):e===P.topBlur&&d()}function m(e,t){if((e===P.topSelectionChange||e===P.topKeyUp||e===P.topKeyDown)&&O&&O.value!==R)return R=O.value,A}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t){if(e===P.topClick)return t}var y=e(16),b=e(17),_=e(20),w=e(140),C=e(40),E=e(88),x=e(97),T=e(121),S=e(128),I=e(129),k=e(158),P=y.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:k({onChange:null}),captured:k({onChangeCapture:null})},dependencies:[P.topBlur,P.topChange,P.topClick,P.topFocus,P.topInput,P.topKeyDown,P.topKeyUp,P.topSelectionChange]}},O=null,A=null,R=null,N=null,j=!1;w.canUseDOM&&(j=S("change")&&(!document.documentMode||document.documentMode>8));var L=!1;w.canUseDOM&&(L=S("input")&&(!document.documentMode||document.documentMode>11));var D={get:function(){return N.get.call(this)},set:function(e){R=""+e,N.set.call(this,e)}},U={eventTypes:M,extractEvents:function(e,t,n,i){var o,a,s=t?C.getNodeFromInstance(t):window;if(r(s)?j?o=l:a=u:I(s)?L?o=h:(o=m,a=f):g(s)&&(o=v),o){var c=o(e,t);if(c){var d=x.getPooled(M.change,c,n,i);return d.type="change",_.accumulateTwoPhaseDispatches(d),d}}a&&a(e,s,t)}};t.exports=U},{121:121,128:128,129:129,140:140,158:158,16:16,17:17,20:20,40:40,88:88,97:97}],7:[function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){c.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):g(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],l(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(g(e,i,r),i===n)break;i=o}}function l(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function u(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&g(r,document.createTextNode(n),i):n?(m(i,n),l(r,i,t)):l(r,e,t)}var c=e(8),d=e(12),p=e(70),h=(e(40),e(66),e(112)),f=e(134),m=e(135),g=h(function(e,t,n){e.insertBefore(t,n)}),v=d.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:u,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case p.INSERT_MARKUP:i(e,s.content,r(e,s.afterNode));break;case p.MOVE_EXISTING:o(e,s.fromNode,r(e,s.afterNode));break;case p.SET_MARKUP:f(e,s.content);break;case p.TEXT_CONTENT:m(e,s.content);break;case p.REMOVE_NODE:a(e,s.fromNode)}}}};t.exports=y},{112:112,12:12,134:134,135:135,40:40,66:66,70:70,8:8}],8:[function(e,t,n){"use strict";function r(e){if(f){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?d(t,e.html):null!=e.text&&h(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function o(e,t){f?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){f?e.html=t:d(e.node,t)}function s(e,t){f?e.text=t:h(e.node,t)}function l(){return this.node.nodeName}function u(e){return{node:e,children:[],html:null,text:null,toString:l}}var c=e(9),d=e(134),p=e(112),h=e(135),f="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=p(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});u.insertTreeBefore=m,u.replaceChildWithTree=i,u.queueChild=o,u.queueHTML=a,u.queueText=s,t.exports=u},{112:112,134:134,135:135,9:9}],9:[function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],10:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=e(132),o=(e(154),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var d in n){s.properties.hasOwnProperty(d)&&i("48",d);var p=d.toLowerCase(),h=n[d],f={attributeName:p,attributeNamespace:null,propertyName:d,mutationMethod:null,mustUseProperty:r(h,t.MUST_USE_PROPERTY),hasBooleanValue:r(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue<=1||i("50",d),l.hasOwnProperty(d)){var m=l[d];f.attributeName=m}a.hasOwnProperty(d)&&(f.attributeNamespace=a[d]),u.hasOwnProperty(d)&&(f.propertyName=u[d]),c.hasOwnProperty(d)&&(f.mutationMethod=c[d]),s.properties[d]=f}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:o};t.exports=s},{132:132,154:154}],11:[function(e,t,n){"use strict";function r(e){return!!u.hasOwnProperty(e)||!l.hasOwnProperty(e)&&(s.test(e)?(u[e]=!0,!0):(l[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var o=e(10),a=(e(40),e(66),e(131)),s=(e(161),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),l={},u={},c={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+a(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,l=r.attributeNamespace;l?e.setAttributeNS(l,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=c},{10:10,131:131,161:161,40:40,66:66}],12:[function(e,t,n){"use strict";var r=e(132),i=e(8),o=e(140),a=e(145),s=e(146),l=(e(154),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});t.exports=l},{132:132,140:140,145:145,146:146,154:154,8:8}],13:[function(e,t,n){"use strict";var r=e(158),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=i},{158:158}],14:[function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getHostProps:function(e,t){if(!t.disabled)return t;var n={};for(var i in t)!r[i]&&t.hasOwnProperty(i)&&(n[i]=t[i]);return n}};t.exports=i},{}],15:[function(e,t,n){"use strict";var r=e(16),i=e(20),o=e(40),a=e(101),s=e(158),l=r.topLevelTypes,u={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},c={eventTypes:u,extractEvents:function(e,t,n,r){if(e===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var s;if(r.window===r)s=r;else{var c=r.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var d,p;if(e===l.topMouseOut){d=t;var h=n.relatedTarget||n.toElement;p=h?o.getClosestInstanceFromNode(h):null}else d=null,p=t;if(d===p)return null;var f=null==d?s:o.getNodeFromInstance(d),m=null==p?s:o.getNodeFromInstance(p),g=a.getPooled(u.mouseLeave,d,n,r);g.type="mouseleave",g.target=f,g.relatedTarget=m;var v=a.getPooled(u.mouseEnter,p,n,r);return v.type="mouseenter",v.target=m,v.relatedTarget=f,i.accumulateEnterLeaveDispatches(g,v,d,p),[g,v]}};t.exports=c},{101:101,158:158,16:16,20:20,40:40}],16:[function(e,t,n){"use strict";var r=e(157),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};t.exports=a},{157:157}],17:[function(e,t,n){"use strict";var r=e(132),i=e(18),o=e(19),a=e(58),s=e(108),l=e(117),u=(e(154),{}),c=null,d=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},p=function(e){return d(e,!0)},h=function(e){return d(e,!1)},f=function(e){return"."+e._rootNodeID},m={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&r("94",t,typeof n);var o=f(e);(u[t]||(u[t]={}))[o]=n;var a=i.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=u[t],r=f(e);return n&&n[r]},deleteListener:function(e,t){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=u[t];if(r){delete r[f(e)]}},deleteAllListeners:function(e){var t=f(e);for(var n in u)if(u.hasOwnProperty(n)&&u[n][t]){var r=i.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete u[n][t]}},extractEvents:function(e,t,n,r){for(var o,a=i.plugins,l=0;l<a.length;l++){var u=a[l];if(u){var c=u.extractEvents(e,t,n,r);c&&(o=s(o,c))}}return o},enqueueEvents:function(e){e&&(c=s(c,e))},processEventQueue:function(e){var t=c;c=null,e?l(t,p):l(t,h),c&&r("95"),a.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=m},{108:108,117:117,132:132,154:154,18:18,19:19,58:58}],18:[function(e,t,n){"use strict";function r(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1||a("96",e),!u.plugins[n]){t.extractEvents||a("97",e),u.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)||a("98",o,e)}}}function i(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)&&a("99",n),u.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){u.registrationNameModules[e]&&a("100",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e(132),s=(e(154),null),l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s&&a("101"),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];l.hasOwnProperty(n)&&l[n]===i||(l[n]&&a("102",n),l[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=u},{132:132,154:154}],19:[function(e,t,n){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function i(e){return e===y.topMouseMove||e===y.topTouchMove}function o(e){return e===y.topMouseDown||e===y.topTouchStart}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=b.getNodeFromInstance(r),t?g.invokeGuardedCallbackWithCatch(i,n,e):g.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&f("103"),e.currentTarget=t?b.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function d(e){return!!e._dispatchListeners}var p,h,f=e(132),m=e(16),g=e(58),v=(e(154),e(161),{injectComponentTree:function(e){p=e},injectTreeTraversal:function(e){h=e}}),y=m.topLevelTypes,b={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:d,getInstanceFromNode:function(e){return p.getInstanceFromNode(e)},getNodeFromInstance:function(e){return p.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return h.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return h.traverseEnterLeave(e,t,n,r,i)},injection:v};t.exports=b},{132:132,154:154,16:16,161:161,58:58}],20:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return b(e,r)}function i(e,t,n){var i=t?y.bubbled:y.captured,o=r(e,n,i);o&&(n._dispatchListeners=g(n._dispatchListeners,o),n._dispatchInstances=g(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,i,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=b(e,r);i&&(n._dispatchListeners=g(n._dispatchListeners,i),n._dispatchInstances=g(n._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function u(e){v(e,o)}function c(e){v(e,a)}function d(e,t,n,r){m.traverseEnterLeave(n,r,s,e,t)}function p(e){v(e,l)}var h=e(16),f=e(17),m=e(19),g=e(108),v=e(117),y=(e(161),h.PropagationPhases),b=f.getListener,_={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:d};t.exports=_},{108:108,117:117,16:16,161:161,17:17,19:19}],21:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=e(162),o=e(25),a=e(125);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),t.exports=r},{125:125,162:162,25:25}],22:[function(e,t,n){"use strict";var r=e(10),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=u},{10:10}],23:[function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function i(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var o={escape:r,unescape:i};t.exports=o},{}],24:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink&&s("87")}function i(e){r(e),(null!=e.value||null!=e.onChange)&&s("88")}function o(e){r(e),(null!=e.checked||null!=e.onChange)&&s("89")}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(132),l=e(76),u=e(75),c=e(77),d=(e(154),e(161),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func},h={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var i=p[r](t,r,e,u.prop,null,c);i instanceof Error&&!(i.message in h)&&(h[i.message]=!0,a(n))}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{132:132,154:154,161:161,75:75,76:76,77:77}],25:[function(e,t,n){"use strict";var r=e(132),i=(e(154),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},l=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r,i),a}return new o(e,t,n,r,i)},u=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=i,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=10),n.release=u,n},p={addPoolingTo:d,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};t.exports=p},{132:132,154:154}],26:[function(e,t,n){"use strict";var r=e(162),i=e(29),o=e(31),a=e(78),s=e(30),l=e(43),u=e(56),c=e(76),d=e(89),p=e(130),h=(e(161),u.createElement),f=u.createFactory,m=u.cloneElement,g=r,v={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:p},Component:o,PureComponent:a,createElement:h,cloneElement:m,isValidElement:u.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:f,createMixin:function(e){return e},DOM:l,version:d,__spread:g};t.exports=v},{130:130,161:161,162:162,29:29,30:30,31:31,43:43,56:56,76:76,78:78,89:89}],27:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=f++,p[e[g]]={}),p[e[g]]}var i,o=e(162),a=e(16),s=e(18),l=e(59),u=e(107),c=e(126),d=e(128),p={},h=!1,f=0,m={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),v=o({},l,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),o=s.registrationNameDependencies[e],l=a.topLevelTypes,u=0;u<o.length;u++){var c=o[u]
;i.hasOwnProperty(c)&&i[c]||(c===l.topWheel?d("wheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):d("mousewheel")?v.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):v.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):c===l.topScroll?d("scroll",!0)?v.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):v.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(d("focus",!0)?(v.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),v.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):d("focusin")&&(v.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),v.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),i[l.topBlur]=!0,i[l.topFocus]=!0):m.hasOwnProperty(c)&&v.ReactEventListener.trapBubbledEvent(c,m[c],n),i[c]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=v.supportsEventPageXY()),!i&&!h){var e=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),h=!0}}});t.exports=v},{107:107,126:126,128:128,16:16,162:162,18:18,59:59}],28:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}var i=e(80),o=e(127),a=(e(23),e(136)),s=e(137);e(161),void 0!==n&&n.env;var l={instantiateChildren:function(e,t,n,i){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r,s,l,u,c,d){if(t||e){var p,h;for(p in t)if(t.hasOwnProperty(p)){h=e&&e[p];var f=h&&h._currentElement,m=t[p];if(null!=h&&a(f,m))i.receiveComponent(h,m,s,c),t[p]=h;else{h&&(r[p]=i.getHostNode(h),i.unmountComponent(h,!1));var g=o(m,!0);t[p]=g;var v=i.mountComponent(g,s,l,u,c,d);n.push(v)}}for(p in e)!e.hasOwnProperty(p)||t&&t.hasOwnProperty(p)||(h=e[p],r[p]=i.getHostNode(h),i.unmountComponent(h,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}};t.exports=l}).call(this,void 0)},{127:127,136:136,137:137,161:161,23:23,80:80}],29:[function(e,t,n){"use strict";function r(e){return(""+e).replace(_,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);v(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function l(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?u(l,i,n,g.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,o+(!l.key||t&&t.key===l.key?"":r(l.key)+"/")+n)),i.push(l))}function u(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var u=s.getPooled(t,a,i,o);v(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function d(e,t,n){return null}function p(e,t){return v(e,d,null)}function h(e){var t=[];return u(e,t,null,g.thatReturnsArgument),t}var f=e(25),m=e(56),g=e(146),v=e(137),y=f.twoArgumentPooler,b=f.fourArgumentPooler,_=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,b);var w={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:p,toArray:h};t.exports=w},{137:137,146:146,25:25,56:56}],30:[function(e,t,n){"use strict";function r(e,t){var n=C.hasOwnProperty(t)?C[t]:null;x.hasOwnProperty(t)&&n!==_.OVERRIDE_BASE&&d("73",t),e&&n!==_.DEFINE_MANY&&n!==_.DEFINE_MANY_MERGED&&d("74",t)}function i(e,t){if(t){"function"==typeof t&&d("75"),f.isValidElement(t)&&d("76");var n=e.prototype,i=n.__reactAutoBindPairs;t.hasOwnProperty(b)&&E.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==b){var a=t[o],u=n.hasOwnProperty(o);if(r(u,o),E.hasOwnProperty(o))E[o](e,a);else{var c=C.hasOwnProperty(o),p="function"==typeof a,h=p&&!c&&!u&&!1!==t.autobind;if(h)i.push(o,a),n[o]=a;else if(u){var m=C[o];(!c||m!==_.DEFINE_MANY_MERGED&&m!==_.DEFINE_MANY)&&d("77",m,o),m===_.DEFINE_MANY_MERGED?n[o]=s(n[o],a):m===_.DEFINE_MANY&&(n[o]=l(n[o],a))}else n[o]=a}}}}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in E;i&&d("78",n);var o=n in e;o&&d("79",n),e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t||d("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]&&d("81",n),e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function u(e,t){return t.bind(e)}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=u(e,i)}}var d=e(132),p=e(162),h=e(31),f=e(56),m=(e(75),e(74),e(72)),g=e(147),v=(e(154),e(157)),y=e(158),b=(e(161),y({mixins:null})),_=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),w=[],C={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},x={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},T=function(){};p(T.prototype,h.prototype,x);var S={createClass:function(e){var t=function(e,n,r){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=n,this.refs=g,this.updater=r||m,this.state=null;var i=this.getInitialState?this.getInitialState():null;("object"!=typeof i||Array.isArray(i))&&d("82",t.displayName||"ReactCompositeComponent"),this.state=i};t.prototype=new T,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],w.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render||d("83");for(var n in C)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){w.push(e)}}};t.exports=S},{132:132,147:147,154:154,157:157,158:158,161:161,162:162,31:31,56:56,72:72,74:74,75:75}],31:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var i=e(132),o=e(72),a=(e(110),e(147));e(154),e(161),r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&i("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},t.exports=r},{110:110,132:132,147:147,154:154,161:161,72:72}],32:[function(e,t,n){"use strict";var r=e(7),i=e(45),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=o},{45:45,7:7}],33:[function(e,t,n){"use strict";var r=e(132),i=(e(154),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i&&r("104"),o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};t.exports=o},{132:132,154:154}],34:[function(e,t,n){"use strict";function r(e){}function i(e){return!(!e.prototype||!e.prototype.isReactComponent)}function o(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var a=e(132),s=e(162),l=e(33),u=e(35),c=e(56),d=e(58),p=e(65),h=(e(66),e(71)),f=(e(75),e(80)),m=e(111),g=e(147),v=(e(154),e(160)),y=e(136),b=(e(161),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=p.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return t};var _=1,w={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,s){this._context=s,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var l,u=this._currentElement.props,d=this._processContext(s),h=this._currentElement.type,f=e.getUpdateQueue(),m=i(h),v=this._constructComponent(m,u,d,f);m||null!=v&&null!=v.render?o(h)?this._compositeType=b.PureClass:this._compositeType=b.ImpureClass:(l=v,null===v||!1===v||c.isValidElement(v)||a("105",h.displayName||h.name||"Component"),v=new r(h),this._compositeType=b.StatelessFunctional),v.props=u,v.context=d,v.refs=g,v.updater=f,this._instance=v,p.set(v,this);var y=v.state;void 0===y&&(v.state=y=null),("object"!=typeof y||Array.isArray(y))&&a("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var w;return w=v.unstable_handleError?this.performInitialMountWithErrorHandling(l,t,n,e,s):this.performInitialMount(l,t,n,e,s),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),w},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var a=h.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==h.EMPTY);return this._renderedComponent=s,f.mountComponent(s,r,t,n,this._processChildContext(i),0)},getHostNode:function(){return f.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(f.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes&&a("107",this.getName()||"ReactCompositeComponent");for(var i in t)i in n.childContextTypes||a("108",this.getName()||"ReactCompositeComponent",i);return s({},e,t)}return e},_checkContextTypes:function(e,t,n){m(e,t,n,this.getName(),null,this._debugID)},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?f.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o=this._instance;null==o&&a("136",this.getName()||"ReactCompositeComponent");var s,l=!1;this._context===i?s=o.context:(s=this._processContext(i),l=!0);var u=t.props,c=n.props;t!==n&&(l=!0),l&&o.componentWillReceiveProps&&o.componentWillReceiveProps(c,s);var d=this._processPendingState(c,s),p=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?p=o.shouldComponentUpdate(c,d,s):this._compositeType===b.PureClass&&(p=!v(u,c)||!v(o.state,d))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,d,s,e,i)):(this._currentElement=n,this._context=i,o.props=c,o.state=d,o.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=s({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var l=r[a];s(o,"function"==typeof l?l.call(n,o,e,t):l)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(y(r,i))f.receiveComponent(n,i,e,this._processChildContext(t));else{var o=f.getHostNode(n);f.unmountComponent(n,!1);var a=h.getType(i);this._renderedNodeType=a;var s=this._instantiateReactComponent(i,a!==h.EMPTY);this._renderedComponent=s;var l=f.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(o,l,n)}},_replaceNodeWithMarkup:function(e,t,n){l.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==b.StatelessFunctional){u.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{u.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||c.isValidElement(e)||a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&a("110");var r=t.getPublicInstance();(n.refs===g?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===b.StatelessFunctional?null:e},_instantiateReactComponent:null},C={Mixin:w};t.exports=C},{111:111,132:132,136:136,147:147,154:154,160:160,161:161,162:162,33:33,35:35,56:56,58:58,65:65,66:66,71:71,75:75,80:80}],35:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],36:[function(e,t,n){"use strict";var r=e(40),i=e(55),o=e(68),a=e(80),s=e(88),l=e(89),u=e(115),c=e(122),d=e(133);e(161),i.inject();var p={findDOMNode:u,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a}),t.exports=p},{115:115,122:122,133:133,161:161,40:40,55:55,68:68,80:80,88:88,89:89}],37:[function(e,t,n){"use strict";var r=e(14),i={getHostProps:r.getHostProps};t.exports=i},{14:14}],38:[function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(X[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&m("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&m("60"),"object"==typeof t.dangerouslySetInnerHTML&&G in t.dangerouslySetInnerHTML||m("61")),null!=t.style&&"object"!=typeof t.style&&m("62",r(e)))}function o(e,t,n,r){if(!(r instanceof j)){var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===Y,s=o?i._node:i._ownerDocument;B(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;x.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;M.postMountWrapper(e)}function l(){var e=this;R.postMountWrapper(e)}function u(){var e=this;O.postMountWrapper(e)}function c(){var e=this;e._rootNodeID||m("63");var t=H(e);switch(t||m("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[S.trapBubbledEvent(E.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in $)$.hasOwnProperty(n)&&e._wrapperState.listeners.push(S.trapBubbledEvent(E.topLevelTypes[n],$[n],t));break;case"source":e._wrapperState.listeners=[S.trapBubbledEvent(E.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[S.trapBubbledEvent(E.topLevelTypes.topError,"error",t),S.trapBubbledEvent(E.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[S.trapBubbledEvent(E.topLevelTypes.topReset,"reset",t),S.trapBubbledEvent(E.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[S.trapBubbledEvent(E.topLevelTypes.topInvalid,"invalid",t)]}}function d(){A.postUpdateWrapper(this)}function p(e){ee.call(Z,e)||(J.test(e)||m("65",e),Z[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function f(e){var t=e.type;p(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var m=e(132),g=e(162),v=e(1),y=e(4),b=e(8),_=e(9),w=e(10),C=e(11),E=e(16),x=e(17),T=e(18),S=e(27),I=e(37),k=e(39),P=e(40),M=e(46),O=e(47),A=e(48),R=e(52),N=(e(66),e(69)),j=e(84),L=(e(146),e(114)),D=(e(154),e(128),e(158)),U=(e(160),e(138),e(161),k),F=x.deleteListener,H=P.getNodeFromInstance,B=S.listenTo,W=T.registrationNameModules,z={string:!0,number:!0},V=D({style:null}),G=D({__html:null}),q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},Y=11,$={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Q={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},X=g({menuitem:!0},Q),J=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Z={},ee={}.hasOwnProperty,te=1;f.displayName="ReactDOMComponent",f.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=te++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"button":o=I.getHostProps(this,o,t);break;case"input":M.mountWrapper(this,o,t),o=M.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"option":O.mountWrapper(this,o,t),o=O.getHostProps(this,o);break;case"select":A.mountWrapper(this,o,t),o=A.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"textarea":R.mountWrapper(this,o,t),o=R.getHostProps(this,o),e.getReactMountReady().enqueue(c,this)}i(this,o);var a,d;null!=t?(a=t._namespaceURI,d=t._tag):n._tag&&(a=n._namespaceURI,d=n._tag),(null==a||a===_.svg&&"foreignobject"===d)&&(a=_.html),a===_.html&&("svg"===this._tag?a=_.svg:"math"===this._tag&&(a=_.mathml)),this._namespaceURI=a;var p;if(e.useCreateElement){var h,f=n._ownerDocument;if(a===_.html)if("script"===this._tag){var m=f.createElement("div"),g=this._currentElement.type;m.innerHTML="<"+g+"></"+g+">",h=m.removeChild(m.firstChild)}else h=o.is?f.createElement(this._currentElement.type,o.is):f.createElement(this._currentElement.type);else h=f.createElementNS(a,this._currentElement.type);P.precacheNode(this,h),this._flags|=U.hasCachedChildNodes,this._hostParent||C.setAttributeForRoot(h),this._updateDOMProperties(null,o,e);var y=b(h);this._createInitialChildren(e,o,r,y),p=y}else{var w=this._createOpenTagMarkupAndPutListeners(e,o),E=this._createContentMarkup(e,o,r);p=!E&&Q[this._tag]?w+"/>":w+">"+E+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),o.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),o.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"select":case"button":o.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return p},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(W.hasOwnProperty(r))i&&o(this,r,i,e);else{r===V&&(i&&(i=this._previousStyleCopy=g({},t.style)),i=y.createMarkupForStyles(i,this));var a=null;null!=this._tag&&h(this._tag,t)?q.hasOwnProperty(r)||(a=C.createMarkupForCustomAttribute(r,i)):a=C.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+C.createMarkupForRoot()),n+=" "+C.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=z[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=L(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return K[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&b.queueHTML(r,i.__html);else{var o=z[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)b.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),l=0;l<s.length;l++)b.queueChild(r,s[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"button":o=I.getHostProps(this,o),a=I.getHostProps(this,a);break;case"input":o=M.getHostProps(this,o),a=M.getHostProps(this,a);break;case"option":o=O.getHostProps(this,o),a=O.getHostProps(this,a);break;case"select":o=A.getHostProps(this,o),a=A.getHostProps(this,a);break;case"textarea":o=R.getHostProps(this,o),a=R.getHostProps(this,a)}switch(i(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,r),this._tag){case"input":M.updateWrapper(this);break;case"textarea":R.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(d,this)}},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===V){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else W.hasOwnProperty(r)?e[r]&&F(this,r):h(this._tag,e)?q.hasOwnProperty(r)||C.deleteValueForAttribute(H(this),r):(w.properties[r]||w.isCustomAttribute(r))&&C.deleteValueForProperty(H(this),r);for(r in t){var l=t[r],u=r===V?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&l!==u&&(null!=l||null!=u))if(r===V)if(l?l=this._previousStyleCopy=g({},l):this._previousStyleCopy=null,u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(a=a||{},a[i]=l[i])}else a=l;else if(W.hasOwnProperty(r))l?o(this,r,l,n):u&&F(this,r);else if(h(this._tag,t))q.hasOwnProperty(r)||C.setValueForAttribute(H(this),r,l);else if(w.properties[r]||w.isCustomAttribute(r)){var c=H(this);null!=l?C.setValueForProperty(c,r,l):C.deleteValueForProperty(c,r)}}a&&y.setValueForStyles(H(this),a,this)},_updateDOMChildren:function(e,t,n,r){var i=z[typeof e.children]?e.children:null,o=z[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=i?null:e.children,u=null!=o?null:t.children,c=null!=i||null!=a,d=null!=o||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!d&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},getHostNode:function(){return H(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":m("66",this._tag)}this.unmountChildren(e),P.uncacheNode(this),x.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return H(this)}},g(f.prototype,f.Mixin,N.Mixin),t.exports=f},{1:1,10:10,11:11,114:114,128:128,132:132,138:138,146:146,154:154,158:158,16:16,160:160,161:161,162:162,17:17,18:18,27:27,37:37,39:39,4:4,40:40,46:46,47:47,48:48,52:52,66:66,69:69,8:8,84:84,9:9}],39:[function(e,t,n){"use strict";var r={hasCachedChildNodes:1};t.exports=r},{}],40:[function(e,t,n){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function i(e,t){var n=r(e);n._hostNode=t,t[m]=n}function o(e){var t=e._hostNode;t&&(delete t[m],e._hostNode=null)}function a(e,t){if(!(e._flags&f.hasCachedChildNodes)){var n=e._renderedChildren,o=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=r(s)._domID;if(0!==l){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(h)===String(l)||8===o.nodeType&&o.nodeValue===" react-text: "+l+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+l+" "){i(s,o);continue e}c("32",l)}}e._flags|=f.hasCachedChildNodes}}function s(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[m]);e=t.pop())n=r,t.length&&a(r,e);return n}function l(e){var t=s(e);return null!=t&&t._hostNode===e?t:null}function u(e){if(void 0===e._hostNode&&c("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||c("34"),e=e._hostParent;for(;t.length;e=t.pop())a(e,e._hostNode);return e._hostNode}var c=e(132),d=e(10),p=e(39),h=(e(154),d.ID_ATTRIBUTE_NAME),f=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:s,getInstanceFromNode:l,getNodeFromInstance:u,precacheChildNodes:a,precacheNode:i,uncacheNode:o};t.exports=g},{10:10,132:132,154:154,39:39}],41:[function(e,t,n){"use strict";function r(e,t){return{_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null}}var i=(e(138),9);t.exports=r},{138:138}],42:[function(e,t,n){"use strict";var r=e(162),i=e(8),o=e(40),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,u=l.createComment(s);return o.precacheNode(this,u),i(u)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),t.exports=a},{162:162,40:40,8:8}],43:[function(e,t,n){"use strict";var r=e(56),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),
rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};t.exports=o},{56:56}],44:[function(e,t,n){"use strict";var r={useCreateElement:!0};t.exports=r},{}],45:[function(e,t,n){"use strict";var r=e(7),i=e(40),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};t.exports=o},{40:40,7:7}],46:[function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);d.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<l.length;p++){var h=l[p];if(h!==a&&h.form===a.form){var f=c.getInstanceFromNode(h);f||o("90"),d.asap(r,f)}}}return n}var o=e(132),a=e(162),s=e(14),l=e(11),u=e(24),c=e(40),d=e(88),p=(e(154),e(161),{getHostProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t);return a({type:void 0,step:void 0,min:void 0,max:void 0},s.getHostProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&l.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),i=u.getValue(t);if(null!=i){var o=""+i;o!==r.value&&(r.value=o)}else null==t.value&&null!=t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=p},{11:11,132:132,14:14,154:154,161:161,162:162,24:24,40:40,88:88}],47:[function(e,t,n){"use strict";function r(e){var t="";return o.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:l||(l=!0))}),t}var i=e(162),o=e(29),a=e(40),s=e(48),l=(e(161),!1),u={mountWrapper:function(e,t,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var l;if(l=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(i)){for(var u=0;u<i.length;u++)if(""+i[u]===l){a=!0;break}}else a=""+i===l}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){a.getNodeFromInstance(e).setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=r(t.children);return o&&(n.children=o),n}};t.exports=u},{161:161,162:162,29:29,40:40,48:48}],48:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=u.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var a=e(162),s=e(14),l=e(24),u=e(40),c=e(88),d=(e(161),!1),p={getHostProps:function(e,t){return a({},s.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=l.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||d||(d=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=l.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=p},{14:14,161:161,162:162,24:24,40:40,88:88}],49:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length;return{start:o,end:o+r}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),u=l?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var d=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),p=d?0:c.toString().length,h=p+u,f=document.createRange();f.setStart(n,i),f.setEnd(o,a);var m=f.collapsed;return{start:m?h:p,end:m?p:h}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=u(e,i),l=u(e,o);if(s&&l){var d=document.createRange();d.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d))}}}var l=e(140),u=e(124),c=e(125),d=l.canUseDOM&&"selection"in document&&!("getSelection"in window),p={getOffsets:d?i:o,setOffsets:d?a:s};t.exports=p},{124:124,125:125,140:140}],50:[function(e,t,n){"use strict";var r=e(55),i=e(83),o=e(89);r.inject();var a={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:o};t.exports=a},{55:55,83:83,89:89}],51:[function(e,t,n){"use strict";var r=e(132),i=e(162),o=e(7),a=e(8),s=e(40),l=e(114),u=(e(154),e(138),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(u.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,o=" react-text: "+i+" ",u=" /react-text ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,d=c.createComment(o),p=c.createComment(u),h=a(c.createDocumentFragment());return a.queueChild(h,a(d)),this._stringText&&a.queueChild(h,a(c.createTextNode(this._stringText))),a.queueChild(h,a(p)),s.precacheNode(this,d),this._closingComment=p,h}var f=l(this._stringText);return e.renderToStaticMarkup?f:"\x3c!--"+o+"--\x3e"+f+"\x3c!--"+u+"--\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n&&r("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=u},{114:114,132:132,138:138,154:154,162:162,40:40,7:7,8:8}],52:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);return c.asap(r,this),n}var o=e(132),a=e(162),s=e(14),l=e(24),u=e(40),c=e(88),d=(e(154),e(161),{getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),a({},s.getHostProps(e,t),{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=l.getValue(t),r=n;if(null==n){var a=t.defaultValue,s=t.children;null!=s&&(null!=a&&o("92"),Array.isArray(s)&&(s.length<=1||o("93"),s=s[0]),a=""+s),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),r=l.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e);t.value=t.textContent}});t.exports=d},{132:132,14:14,154:154,161:161,162:162,24:24,40:40,88:88}],53:[function(e,t,n){"use strict";function r(e,t){"_hostNode"in e||l("33"),"_hostNode"in t||l("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,o=t;o;o=o._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e||l("35"),"_hostNode"in t||l("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function o(e){return"_hostNode"in e||l("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],!1,n);for(i=0;i<r.length;i++)t(r[i],!0,n)}function s(e,t,n,i,o){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var l=[];t&&t!==a;)l.push(t),t=t._hostParent;var u;for(u=0;u<s.length;u++)n(s[u],!0,i);for(u=l.length;u-- >0;)n(l[u],!1,o)}var l=e(132);e(154),t.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},{132:132,154:154}],54:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=e(162),o=e(88),a=e(106),s=e(146),l={initialize:s,close:function(){p.isBatchingUpdates=!1}},u={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[u,l];i(r.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var d=new r,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=p.isBatchingUpdates;p.isBatchingUpdates=!0,a?e(t,n,r,i,o):d.perform(e,null,t,n,r,i,o)}};t.exports=p},{106:106,146:146,162:162,88:88}],55:[function(e,t,n){"use strict";function r(){C||(C=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(d),v.EventPluginUtils.injectTreeTraversal(h),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:_,BeforeInputEventPlugin:i}),v.HostComponent.injectGenericComponentClass(c),v.HostComponent.injectTextComponentClass(f),v.DOMProperty.injectDOMPropertyConfig(l),v.DOMProperty.injectDOMPropertyConfig(b),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),v.Updates.injectReconcileTransaction(y),v.Updates.injectBatchingStrategy(m),v.Component.injectEnvironment(u))}var i=e(2),o=e(6),a=e(13),s=e(15),l=e(22),u=e(32),c=e(38),d=e(40),p=e(42),h=e(53),f=e(51),m=e(54),g=e(60),v=e(63),y=e(79),b=e(90),_=e(91),w=e(92),C=!1;t.exports={inject:r}},{13:13,15:15,2:2,22:22,32:32,38:38,40:40,42:42,51:51,53:53,54:54,6:6,60:60,63:63,79:79,90:90,91:91,92:92}],56:[function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var o=e(162),a=e(35),s=(e(161),e(110),Object.prototype.hasOwnProperty),l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,u={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,i,o,a){return{$$typeof:l,type:e,key:t,ref:n,props:a,_owner:o}};c.createElement=function(e,t,n){var o,l={},d=null,p=null;if(null!=t){r(t)&&(p=t.ref),i(t)&&(d=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source;for(o in t)s.call(t,o)&&!u.hasOwnProperty(o)&&(l[o]=t[o])}var h=arguments.length-2;if(1===h)l.children=n;else if(h>1){for(var f=Array(h),m=0;m<h;m++)f[m]=arguments[m+2];l.children=f}if(e&&e.defaultProps){var g=e.defaultProps;for(o in g)void 0===l[o]&&(l[o]=g[o])}return c(e,d,p,0,0,a.current,l)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){return c(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},c.cloneElement=function(e,t,n){var l,d=o({},e.props),p=e.key,h=e.ref,f=(e._self,e._source,e._owner);if(null!=t){r(t)&&(h=t.ref,f=a.current),i(t)&&(p=""+t.key);var m;e.type&&e.type.defaultProps&&(m=e.type.defaultProps);for(l in t)s.call(t,l)&&!u.hasOwnProperty(l)&&(void 0===t[l]&&void 0!==m?d[l]=m[l]:d[l]=t[l])}var g=arguments.length-2;if(1===g)d.children=n;else if(g>1){for(var v=Array(g),y=0;y<g;y++)v[y]=arguments[y+2];d.children=v}return c(e.type,p,h,0,0,f,d)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===l},c.REACT_ELEMENT_TYPE=l,t.exports=c},{110:110,161:161,162:162,35:35}],57:[function(e,t,n){"use strict";var r,i={injectEmptyComponentFactory:function(e){r=e}},o={create:function(e){return r(e)}};o.injection=i,t.exports=o},{}],58:[function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(e){return void(null===i&&(i=e))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};t.exports=o},{}],59:[function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=e(17),o={handleTopLevel:function(e,t,n,o){r(i.extractEvents(e,t,n,o))}};t.exports=o},{17:17}],60:[function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=d.getNodeFromInstance(e),n=t.parentNode;return d.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=h(e.nativeEvent),n=d.getClosestInstanceFromNode(t),i=n;do{e.ancestors.push(i),i=i&&r(i)}while(i);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,h(e.nativeEvent))}function a(e){e(f(window))}var s=e(162),l=e(139),u=e(140),c=e(25),d=e(40),p=e(88),h=e(121),f=e(151);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?l.listen(r,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?l.capture(r,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};t.exports=m},{121:121,139:139,140:140,151:151,162:162,25:25,40:40,88:88}],61:[function(e,t,n){"use strict";var r={logTopLevelRenders:!1};t.exports=r},{}],62:[function(e,t,n){"use strict";function r(e){return l||a("111",e.type),new l(e)}function i(e){return new c(e)}function o(e){return e instanceof c}var a=e(132),s=e(162),l=(e(154),null),u={},c=null,d={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){c=e},injectComponentClasses:function(e){s(u,e)}},p={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:d};t.exports=p},{132:132,154:154,162:162}],63:[function(e,t,n){"use strict";var r=e(10),i=e(17),o=e(19),a=e(33),s=e(30),l=e(57),u=e(27),c=e(62),d=e(88),p={Component:a.injection,Class:s.injection,DOMProperty:r.injection,EmptyComponent:l.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:u.injection,HostComponent:c.injection,Updates:d.injection};t.exports=p},{10:10,17:17,19:19,27:27,30:30,33:33,57:57,62:62,88:88}],64:[function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=e(49),o=e(143),a=e(148),s=e(149),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};t.exports=l},{143:143,148:148,149:149,49:49}],65:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],66:[function(e,t,n){"use strict";t.exports={debugTool:null}},{}],67:[function(e,t,n){"use strict";var r=e(109),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};t.exports=a},{109:109}],68:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===N?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(O)||""}function a(e,t,n,r,i){var o;if(w.logTopLevelRenders){var a=e._currentElement.props,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var l=x.mountComponent(e,n,null,y(e,t),i,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(l,t,e,r,n)}function s(e,t,n,r){var i=S.ReactReconcileTransaction.getPooled(!n&&b.useCreateElement);i.perform(a,null,e,t,i,n,r),S.ReactReconcileTransaction.release(i)}function l(e,t,n){for(x.unmountComponent(e,n),t.nodeType===N&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function u(e){var t=i(e);if(t){var n=v.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==R&&e.nodeType!==N&&e.nodeType!==j)}function d(e){var t=i(e),n=t&&v.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function p(e){var t=d(e);return t?t._hostContainerInfo._topLevelWrapper:null}var h=e(132),f=e(8),m=e(10),g=e(27),v=(e(35),e(40)),y=e(41),b=e(44),_=e(56),w=e(61),C=e(65),E=(e(66),e(67)),x=e(80),T=e(87),S=e(88),I=e(147),k=e(127),P=(e(154),e(134)),M=e(136),O=(e(161),m.ID_ATTRIBUTE_NAME),A=m.ROOT_ATTRIBUTE_NAME,R=1,N=9,j=11,L={},D=1,U=function(){this.rootID=D++};U.prototype.isReactComponent={},U.prototype.render=function(){return this.props};var F={TopLevelWrapper:U,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return F.scrollMonitor(r,function(){T.enqueueElementInternal(e,t,n),i&&T.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)||h("37"),g.ensureScrollValueMonitoring();var i=k(e,!1);S.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return L[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&C.has(e)||h("38"),F._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),_.isValidElement(t)||h("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=_(U,null,null,null,null,null,t);if(e){var l=C.get(e);a=l._processChildContext(l._context)}else a=I;var c=p(n);if(c){var d=c._currentElement,f=d.props;if(M(f,t)){var m=c._renderedComponent.getPublicInstance(),g=r&&function(){r.call(m)};return F._updateRootComponent(c,s,a,n,g),m}F.unmountComponentAtNode(n)}var v=i(n),y=v&&!!o(v),b=u(n),w=y&&!c&&!b,E=F._renderNewRootComponent(s,n,w,a)._renderedComponent.getPublicInstance();return r&&r.call(E),E},render:function(e,t,n){return F._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)||h("40");var t=p(e);return t?(delete L[t._instance.rootID],S.batchedUpdates(l,t,e,!1),!0):(u(e),1===e.nodeType&&e.hasAttribute(A),!1)},_mountImageIntoNode:function(e,t,n,o,a){if(c(t)||h("41"),o){var s=i(t);if(E.canReuseMarkup(e,s))return void v.precacheNode(n,s);var l=s.getAttribute(E.CHECKSUM_ATTR_NAME);s.removeAttribute(E.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(E.CHECKSUM_ATTR_NAME,l);var d=e,p=r(d,u),m=" (client) "+d.substring(p-20,p+20)+"\n (server) "+u.substring(p-20,p+20);t.nodeType===N&&h("42",m)}if(t.nodeType===N&&h("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);f.insertTreeBefore(t,e,null)}else P(t,e),v.precacheNode(n,t.firstChild)}};t.exports=F},{10:10,127:127,132:132,134:134,136:136,147:147,154:154,161:161,27:27,35:35,40:40,41:41,44:44,56:56,61:61,65:65,66:66,67:67,8:8,80:80,87:87,88:88}],69:[function(e,t,n){"use strict";function r(e,t,n){return{type:p.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:h.getHostNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:p.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:p.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:p.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){d.processChildrenUpdates(e,t)}var c=e(132),d=e(33),p=(e(65),e(66),e(70)),h=(e(35),e(80)),f=e(28),m=(e(146),e(116)),g=(e(154),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var a;return a=m(t,0),f.updateChildren(e,a,n,r,i,this,this._hostContainerInfo,o,0),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],l=h.mountComponent(s,t,this,this._hostContainerInfo,n,0);s._mountIndex=o++,i.push(l)}return i},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");u(this,[s(e)])},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");u(this,[a(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,e,o,i,t,n);if(a||r){var s,c=null,d=0,p=0,f=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var g=r&&r[s],v=a[s];g===v?(c=l(c,this.moveChild(g,m,d,p)),p=Math.max(g._mountIndex,p),g._mountIndex=d):(g&&(p=Math.max(g._mountIndex,p)),c=l(c,this._mountChildAtIndex(v,o[f],m,d,t,n)),f++),d++,m=h.getHostNode(v)}for(s in i)i.hasOwnProperty(s)&&(c=l(c,this._unmountChild(r[s],i[s])));c&&u(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});t.exports=g},{116:116,132:132,146:146,154:154,28:28,33:33,35:35,65:65,66:66,70:70,80:80}],70:[function(e,t,n){"use strict";var r=e(157),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=i},{157:157}],71:[function(e,t,n){"use strict";var r=e(132),i=e(56),o=(e(154),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?o.EMPTY:i.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.HOST:void r("26",e)}});t.exports=o},{132:132,154:154,56:56}],72:[function(e,t,n){"use strict";var r=(e(161),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}});t.exports=r},{161:161}],73:[function(e,t,n){"use strict";var r=e(132),i=(e(154),{isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){i.isValidOwner(n)||r("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i.isValidOwner(n)||r("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});t.exports=i},{132:132,154:154}],74:[function(e,t,n){"use strict";var r={};t.exports=r},{}],75:[function(e,t,n){"use strict";var r=e(157),i=r({prop:null,context:null,childContext:null});t.exports=i},{157:157}],76:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function i(e){this.message=e,this.stack=""}function o(e){function t(t,n,r,o,a,s,l){if(o=o||E,s=s||r,null==n[r]){var u=b[a];return t?new i("Required "+u+" `"+s+"` was not specified in `"+o+"`."):null}return e(n,r,o,a,s)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e){function t(t,n,r,o,a,s){var l=t[n];if(m(l)!==e)return new i("Invalid "+b[o]+" `"+a+"` of type `"+g(l)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return o(t)}function s(e){function t(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new i("Invalid "+b[o]+" `"+a+"` of type `"+m(s)+"` supplied to `"+r+"`, expected an array.")}for(var l=0;l<s.length;l++){var u=e(s,l,r,o,a+"["+l+"]",_);if(u instanceof Error)return u}return null}return o(t)}function l(e){function t(t,n,r,o,a){if(!(t[n]instanceof e)){var s=b[o],l=e.name||E;return new i("Invalid "+s+" `"+a+"` of type `"+v(t[n])+"` supplied to `"+r+"`, expected instance of `"+l+"`.")}return null}return o(t)}function u(e){function t(t,n,o,a,s){for(var l=t[n],u=0;u<e.length;u++)if(r(l,e[u]))return null;return new i("Invalid "+b[a]+" `"+s+"` of value `"+l+"` supplied to `"+o+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?o(t):w.thatReturnsNull}function c(e){function t(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=m(s);if("object"!==l){return new i("Invalid "+b[o]+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected an object.")}for(var u in s)if(s.hasOwnProperty(u)){var c=e(s,u,r,o,a+"."+u,_);if(c instanceof Error)return c}return null}return o(t)}function d(e){function t(t,n,r,o,a){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,o,a,_))return null}return new i("Invalid "+b[o]+" `"+a+"` supplied to `"+r+"`.")}return Array.isArray(e)?o(t):w.thatReturnsNull}function p(e){function t(t,n,r,o,a){var s=t[n],l=m(s);if("object"!==l){return new i("Invalid "+b[o]+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.")}for(var u in e){var c=e[u];if(c){var d=c(s,u,r,o,a+"."+u,_);if(d)return d}}return null}return o(t)}function h(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(null===e||y.isValidElement(e))return!0;var t=C(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!h(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!h(i[1]))return!1}return!0;default:return!1}}function f(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":f(t,e)?"symbol":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var y=e(56),b=e(74),_=e(77),w=e(146),C=e(123),E=(e(161),"<<anonymous>>"),x={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:function(){return o(w.thatReturns(null))}(),arrayOf:s,element:function(){function e(e,t,n,r,o){var a=e[t];if(!y.isValidElement(a)){return new i("Invalid "+b[r]+" `"+o+"` of type `"+m(a)+"` supplied to `"+n+"`, expected a single ReactElement.")}return null}return o(e)}(),instanceOf:l,node:function(){function e(e,t,n,r,o){if(!h(e[t])){return new i("Invalid "+b[r]+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return null}return o(e)}(),objectOf:c,oneOf:u,oneOfType:d,shape:p};i.prototype=Error.prototype,t.exports=x},{123:123,146:146,161:161,56:56,74:74,77:77}],77:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],78:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=l,this.updater=n||s}function i(){}var o=e(162),a=e(31),s=e(72),l=e(147);i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,o(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,t.exports=r},{147:147,162:162,31:31,72:72}],79:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var i=e(162),o=e(5),a=e(25),s=e(27),l=e(64),u=(e(66),e(106)),c=e(87),d={initialize:l.getSelectionInformation,close:l.restoreSelection},p={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[d,p,h],m={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,u.Mixin,m),a.addPoolingTo(r),t.exports=r},{106:106,162:162,25:25,27:27,5:5,64:64,66:66,87:87}],80:[function(e,t,n){"use strict";function r(){
i.attachRefs(this,this._currentElement)}var i=e(81),o=(e(66),e(161),{mountComponent:function(e,t,n,i,o,a){var s=e.mountComponent(t,n,i,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=o},{161:161,66:66,81:81}],81:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=e(73),a={};a.attachRefs=function(e,t){if(null!==t&&!1!==t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||!1===e,r=null===t||!1===t;return n||r||t.ref!==e.ref||"string"==typeof t.ref&&t._owner!==e._owner},a.detachRefs=function(e,t){if(null!==t&&!1!==t){var n=t.ref;null!=n&&i(n,e,t._owner)}},t.exports=a},{73:73}],82:[function(e,t,n){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],83:[function(e,t,n){"use strict";function r(e,t){var n;try{return f.injection.injectBatchingStrategy(p),n=h.getPooled(t),v++,n.perform(function(){var r=g(e,!0),i=d.mountComponent(r,n,null,s(),m,0);return t||(i=c.addChecksumToMarkup(i)),i},null)}finally{v--,h.release(n),v||f.injection.injectBatchingStrategy(l)}}function i(e){return u.isValidElement(e)||a("46"),r(e,!1)}function o(e){return u.isValidElement(e)||a("47"),r(e,!0)}var a=e(132),s=e(41),l=e(54),u=e(56),c=(e(66),e(67)),d=e(80),p=e(82),h=e(84),f=e(88),m=e(147),g=e(127),v=(e(154),0);t.exports={renderToString:i,renderToStaticMarkup:o}},{127:127,132:132,147:147,154:154,41:41,54:54,56:56,66:66,67:67,80:80,82:82,84:84,88:88}],84:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=e(162),o=e(25),a=e(106),s=(e(66),e(85)),l=[],u={enqueue:function(){}},c={getTransactionWrappers:function(){return l},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a.Mixin,c),o.addPoolingTo(r),t.exports=r},{106:106,162:162,25:25,66:66,85:85}],85:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=e(87),o=(e(106),e(161),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&i.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&i.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&i.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&i.enqueueSetState(e,t)},e}());t.exports=o},{106:106,161:161,87:87}],86:[function(e,t,n){"use strict";var r=e(162),i=e(36),o=e(50),a=e(26),s=r({__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:i,__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:o},a);t.exports=s},{162:162,26:26,36:36,50:50}],87:[function(e,t,n){"use strict";function r(e){l.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(e,t){var n=s.get(e);return n||null}var a=e(132),s=(e(35),e(65)),l=(e(66),e(88)),u=(e(154),e(161),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var i=o(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void r(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){(n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&a("122",t,i(e))}});t.exports=u},{132:132,154:154,161:161,35:35,65:65,66:66,88:88}],88:[function(e,t,n){"use strict";function r(){I.ReactReconcileTransaction&&w||c("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=I.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,i,o,a){r(),w.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==v.length&&c("124",t,v.length),v.sort(a),y++;for(var n=0;n<t;n++){var r=v[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(f.logTopLevelRenders){var s=r;r._currentElement.props===r._renderedComponent._currentElement&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),o&&console.timeEnd(o),i)for(var l=0;l<i.length;l++)e.callbackQueue.enqueue(i[l],r.getPublicInstance())}}function l(e){return r(),w.isBatchingUpdates?(v.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void w.batchedUpdates(l,e)}function u(e,t){w.isBatchingUpdates||c("125"),b.enqueue(e,t),_=!0}var c=e(132),d=e(162),p=e(5),h=e(25),f=e(61),m=e(80),g=e(106),v=(e(154),[]),y=0,b=p.getPooled(),_=!1,w=null,C={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),T()):v.length=0}},E={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[C,E];d(i.prototype,g.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,I.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return g.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),h.addPoolingTo(i);var T=function(){for(;v.length||_;){if(v.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(_){_=!1;var t=b;b=p.getPooled(),t.notifyAll(),p.release(t)}}},S={injectReconcileTransaction:function(e){e||c("126"),I.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||c("127"),"function"!=typeof e.batchedUpdates&&c("128"),"boolean"!=typeof e.isBatchingUpdates&&c("129"),w=e}},I={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:T,injection:S,asap:u};t.exports=I},{106:106,132:132,154:154,162:162,25:25,5:5,61:61,80:80}],89:[function(e,t,n){"use strict";t.exports="15.3.2"},{}],90:[function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},o={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){o.Properties[e]=0,i[e]&&(o.DOMAttributeNames[e]=i[e])}),t.exports=o},{}],91:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(w||null==y||y!==d())return null;var n=r(y);if(!_||!f(_,n)){_=n;var i=c.getPooled(v.select,b,e,t);return i.type="select",i.target=y,a.accumulateTwoPhaseDispatches(i),i}return null}var o=e(16),a=e(20),s=e(140),l=e(40),u=e(64),c=e(97),d=e(149),p=e(129),h=e(158),f=e(160),m=o.topLevelTypes,g=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topKeyUp,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},y=null,b=null,_=null,w=!1,C=!1,E=h({onSelect:null}),x={eventTypes:v,extractEvents:function(e,t,n,r){if(!C)return null;var o=t?l.getNodeFromInstance(t):window;switch(e){case m.topFocus:(p(o)||"true"===o.contentEditable)&&(y=o,b=t,_=null);break;case m.topBlur:y=null,b=null,_=null;break;case m.topMouseDown:w=!0;break;case m.topContextMenu:case m.topMouseUp:return w=!1,i(n,r);case m.topSelectionChange:if(g)break;case m.topKeyDown:case m.topKeyUp:return i(n,r)}return null},didPutListener:function(e,t,n){t===E&&(C=!0)}};t.exports=x},{129:129,140:140,149:149,158:158,16:16,160:160,20:20,40:40,64:64,97:97}],92:[function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}var i=e(132),o=e(16),a=e(139),s=e(20),l=e(40),u=e(93),c=e(94),d=e(97),p=e(98),h=e(100),f=e(101),m=e(96),g=e(102),v=e(103),y=e(104),b=e(105),_=e(146),w=e(118),C=(e(154),e(158)),E=o.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:C({onAbort:!0}),captured:C({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:C({onAnimationEnd:!0}),captured:C({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:C({onAnimationIteration:!0}),captured:C({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:C({onAnimationStart:!0}),captured:C({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:C({onBlur:!0}),captured:C({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:C({onCanPlay:!0}),captured:C({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:C({onCanPlayThrough:!0}),captured:C({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:C({onClick:!0}),captured:C({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:C({onContextMenu:!0}),captured:C({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:C({onCopy:!0}),captured:C({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:C({onCut:!0}),captured:C({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:C({onDoubleClick:!0}),captured:C({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:C({onDrag:!0}),captured:C({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:C({onDragEnd:!0}),captured:C({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:C({onDragEnter:!0}),captured:C({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:C({onDragExit:!0}),captured:C({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:C({onDragLeave:!0}),captured:C({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:C({onDragOver:!0}),captured:C({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:C({onDragStart:!0}),captured:C({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:C({onDrop:!0}),captured:C({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:C({onDurationChange:!0}),captured:C({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:C({onEmptied:!0}),captured:C({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:C({onEncrypted:!0}),captured:C({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:C({onEnded:!0}),captured:C({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:C({onError:!0}),captured:C({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:C({onFocus:!0}),captured:C({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:C({onInput:!0}),captured:C({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:C({onInvalid:!0}),captured:C({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:C({onKeyDown:!0}),captured:C({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:C({onKeyPress:!0}),captured:C({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:C({onKeyUp:!0}),captured:C({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:C({onLoad:!0}),captured:C({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:C({onLoadedData:!0}),captured:C({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:C({onLoadedMetadata:!0}),captured:C({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:C({onLoadStart:!0}),captured:C({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:C({onMouseDown:!0}),captured:C({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:C({onMouseMove:!0}),captured:C({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:C({onMouseOut:!0}),captured:C({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:C({onMouseOver:!0}),captured:C({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:C({onMouseUp:!0}),captured:C({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:C({onPaste:!0}),captured:C({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:C({onPause:!0}),captured:C({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:C({onPlay:!0}),captured:C({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:C({onPlaying:!0}),captured:C({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:C({onProgress:!0}),captured:C({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:C({onRateChange:!0}),captured:C({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:C({onReset:!0}),captured:C({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:C({onScroll:!0}),captured:C({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:C({onSeeked:!0}),captured:C({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:C({onSeeking:!0}),captured:C({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:C({onStalled:!0}),captured:C({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:C({onSubmit:!0}),captured:C({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:C({onSuspend:!0}),captured:C({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:C({onTimeUpdate:!0}),captured:C({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:C({onTouchCancel:!0}),captured:C({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:C({onTouchEnd:!0}),captured:C({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:C({onTouchMove:!0}),captured:C({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:C({onTouchStart:!0}),captured:C({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:C({onTransitionEnd:!0}),captured:C({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:C({onVolumeChange:!0}),captured:C({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:C({onWaiting:!0}),captured:C({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:C({onWheel:!0}),captured:C({onWheelCapture:!0})}}},T={topAbort:x.abort,topAnimationEnd:x.animationEnd,topAnimationIteration:x.animationIteration,topAnimationStart:x.animationStart,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topInvalid:x.invalid,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topTransitionEnd:x.transitionEnd,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var S in T)T[S].dependencies=[S];var I=C({onClick:null}),k={},P={eventTypes:x,extractEvents:function(e,t,n,r){var o=T[e];if(!o)return null;var a;switch(e){case E.topAbort:case E.topCanPlay:case E.topCanPlayThrough:case E.topDurationChange:case E.topEmptied:case E.topEncrypted:case E.topEnded:case E.topError:case E.topInput:case E.topInvalid:case E.topLoad:case E.topLoadedData:case E.topLoadedMetadata:case E.topLoadStart:case E.topPause:case E.topPlay:case E.topPlaying:case E.topProgress:case E.topRateChange:case E.topReset:case E.topSeeked:case E.topSeeking:case E.topStalled:case E.topSubmit:case E.topSuspend:case E.topTimeUpdate:case E.topVolumeChange:case E.topWaiting:a=d;break;case E.topKeyPress:if(0===w(n))return null;case E.topKeyDown:case E.topKeyUp:a=h;break;case E.topBlur:case E.topFocus:a=p;break;case E.topClick:if(2===n.button)return null;case E.topContextMenu:case E.topDoubleClick:case E.topMouseDown:case E.topMouseMove:case E.topMouseOut:case E.topMouseOver:case E.topMouseUp:a=f;break;case E.topDrag:case E.topDragEnd:case E.topDragEnter:case E.topDragExit:case E.topDragLeave:case E.topDragOver:case E.topDragStart:case E.topDrop:a=m;break;case E.topTouchCancel:case E.topTouchEnd:case E.topTouchMove:case E.topTouchStart:a=g;break;case E.topAnimationEnd:case E.topAnimationIteration:case E.topAnimationStart:a=u;break;case E.topTransitionEnd:a=v;break;case E.topScroll:a=y;break;case E.topWheel:a=b;break;case E.topCopy:case E.topCut:case E.topPaste:a=c}a||i("86",e);var l=a.getPooled(o,t,n,r);return s.accumulateTwoPhaseDispatches(l),l},didPutListener:function(e,t,n){if(t===I){var i=r(e),o=l.getNodeFromInstance(e);k[i]||(k[i]=a.listen(o,"click",_))}},willDeleteListener:function(e,t){if(t===I){var n=r(e);k[n].remove(),delete k[n]}}};t.exports=P},{100:100,101:101,102:102,103:103,104:104,105:105,118:118,132:132,139:139,146:146,154:154,158:158,16:16,20:20,40:40,93:93,94:94,96:96,97:97,98:98}],93:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(97),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),t.exports=r},{97:97}],94:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(97),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),t.exports=r},{97:97}],95:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(97),o={data:null};i.augmentClass(r,o),t.exports=r},{97:97}],96:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(101),o={dataTransfer:null};i.augmentClass(r,o),t.exports=r},{101:101}],97:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var l=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=l?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=e(162),o=e(25),a=e(146),s=(e(161),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=l,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),t.exports=r},{146:146,161:161,162:162,25:25}],98:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(104),o={relatedTarget:null};i.augmentClass(r,o),t.exports=r},{104:104}],99:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(97),o={data:null};i.augmentClass(r,o),t.exports=r},{97:97}],100:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(104),o=e(118),a=e(119),s=e(120),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,l),t.exports=r},{104:104,118:118,119:119,120:120}],101:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(104),o=e(107),a=e(120),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),t.exports=r},{104:104,107:107,120:120}],102:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(104),o=e(120),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),t.exports=r},{104:104,120:120}],103:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(97),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),t.exports=r},{97:97}],104:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(97),o=e(121),a={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),t.exports=r},{121:121,97:97}],105:[function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=e(101),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),t.exports=r},{101:101}],106:[function(e,t,n){"use strict";var r=e(132),i=(e(154),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,l){this.isInTransaction()&&r("27");var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,i,o,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}}),o={Mixin:i,OBSERVED_ERROR:{}};t.exports=o},{132:132,154:154}],107:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],108:[function(e,t,n){"use strict";function r(e,t){return null==t&&i("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=e(132);e(154),t.exports=r},{132:132,154:154}],109:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,o=e.length,a=-4&o;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=i,n%=i}for(;r<o;r++)n+=t+=e.charCodeAt(r);return t%=i,n%=i,t|n<<16}var i=65521;t.exports=r},{}],110:[function(e,t,n){"use strict";t.exports=!1},{}],111:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r,l,u){for(var c in e)if(e.hasOwnProperty(c)){var d;try{"function"!=typeof e[c]&&i("84",r||"React class",o[n],c),d=e[c](t,c,r,n,null,a)}catch(e){d=e}d instanceof Error&&!(d.message in s)&&(s[d.message]=!0)}}var i=e(132),o=e(74),a=e(77);e(154),e(161),void 0!==n&&n.env;var s={};t.exports=r}).call(this,void 0)},{132:132,154:154,161:161,74:74,77:77}],
112:[function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};t.exports=r},{}],113:[function(e,t,n){"use strict";function r(e,t,n){return null==t||"boolean"==typeof t||""===t?"":isNaN(t)||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=e(3),o=(e(161),i.isUnitlessNumber);t.exports=r},{161:161,3:3}],114:[function(e,t,n){"use strict";function r(e){var t=""+e,n=o.exec(t);if(!n)return t;var r,i="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(i+=t.substring(s,a)),s=a+1,i+=r}return s!==a?i+t.substring(s,a):i}function i(e){return"boolean"==typeof e||"number"==typeof e?""+e:r(e)}var o=/["'&<>]/;t.exports=i},{}],115:[function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?o.getNodeFromInstance(t):null):void("function"==typeof e.render?i("44"):i("45",Object.keys(e)))}var i=e(132),o=(e(35),e(40)),a=e(65),s=e(122);e(154),e(161),t.exports=r},{122:122,132:132,154:154,161:161,35:35,40:40,65:65}],116:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var i=e;void 0===i[n]&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(e(23),e(137));e(161),void 0!==n&&n.env,t.exports=i}).call(this,void 0)},{137:137,161:161,23:23}],117:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}t.exports=r},{}],118:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}t.exports=r},{}],119:[function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=e(118),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{118:118}],120:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return!!r&&!!n[r]}function i(e){return r}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},{}],121:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],122:[function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=e(71);t.exports=r},{71:71}],123:[function(e,t,n){"use strict";function r(e){var t=e&&(i&&e[i]||e[o]);if("function"==typeof t)return t}var i="function"==typeof Symbol&&Symbol.iterator,o="@@iterator";t.exports=r},{}],124:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function o(e,t){for(var n=r(e),o=0,a=0;n;){if(3===n.nodeType){if(a=o+n.textContent.length,o<=t&&a>=t)return{node:n,offset:t-o};o=a}n=r(i(n))}}t.exports=o},{}],125:[function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=e(140),o=null;t.exports=r},{140:140}],126:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in l)return s[e]=t[n];return""}var o=e(140),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},l={};o.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=i},{140:140}],127:[function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e,t){var n;if(null===e||!1===e)n=u.create(o);else if("object"==typeof e){var s=e;(!s||"function"!=typeof s.type&&"string"!=typeof s.type)&&a("130",null==s.type?s.type:typeof s.type,r(s._owner)),"string"==typeof s.type?n=c.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new d(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=e(132),s=e(162),l=e(34),u=e(57),c=e(62),d=(e(154),e(161),function(e){this.construct(e)});s(d.prototype,l.Mixin,{_instantiateReactComponent:o}),t.exports=o},{132:132,154:154,161:161,162:162,34:34,57:57,62:62}],128:[function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=e(140);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=r},{140:140}],129:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!i[e.type]:"textarea"===t}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],130:[function(e,t,n){"use strict";function r(e){return o.isValidElement(e)||i("143"),e}var i=e(132),o=e(56);e(154),t.exports=r},{132:132,154:154,56:56}],131:[function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=e(114);t.exports=r},{114:114}],132:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}t.exports=r},{}],133:[function(e,t,n){"use strict";var r=e(68);t.exports=r.renderSubtreeIntoContainer},{68:68}],134:[function(e,t,n){"use strict";var r,i=e(140),o=e(9),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=e(112),u=l(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}t.exports=u},{112:112,140:140,9:9}],135:[function(e,t,n){"use strict";var r=e(140),i=e(114),o=e(134),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,i(t))})),t.exports=a},{114:114,134:134,140:140}],136:[function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}t.exports=r},{}],137:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,o){var p=typeof e;if("undefined"!==p&&"boolean"!==p||(e=null),null===e||"string"===p||"number"===p||s.isValidElement(e))return n(o,e,""===t?c+r(e,0):t),1;var h,f,m=0,g=""===t?c:t+d;if(Array.isArray(e))for(var v=0;v<e.length;v++)h=e[v],f=g+r(h,v),m+=i(h,f,n,o);else{var y=l(e);if(y){var b,_=y.call(e);if(y!==e.entries)for(var w=0;!(b=_.next()).done;)h=b.value,f=g+r(h,w++),m+=i(h,f,n,o);else for(;!(b=_.next()).done;){var C=b.value;C&&(h=C[1],f=g+u.escape(C[0])+d+r(h,0),m+=i(h,f,n,o))}}else if("object"===p){var E=String(e);a("31","[object Object]"===E?"object with keys {"+Object.keys(e).join(", ")+"}":E,"")}}return m}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=e(132),s=(e(35),e(56)),l=e(123),u=(e(154),e(23)),c=(e(161),"."),d=":";t.exports=o},{123:123,132:132,154:154,161:161,23:23,35:35,56:56}],138:[function(e,t,n){"use strict";var r=(e(162),e(146)),i=(e(161),r);t.exports=i},{146:146,161:161,162:162}],139:[function(e,t,n){"use strict";var r=e(146),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},{146:146}],140:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},{}],141:[function(e,t,n){"use strict";function r(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;t.exports=r},{}],142:[function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=e(141),o=/^-ms-/;t.exports=r},{141:141}],143:[function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=e(156);t.exports=r},{156:156}],144:[function(e,t,n){"use strict";function r(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&a(!1),"number"!=typeof t&&a(!1),0===t||t-1 in e||a(!1),"function"==typeof e.callee&&a(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e(154);t.exports=o},{154:154}],145:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=u;u||l(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var d=n.getElementsByTagName("script");d.length&&(t||l(!1),a(d).forEach(t));for(var p=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var o=e(140),a=e(144),s=e(150),l=e(154),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=i},{140:140,144:144,150:150,154:154}],146:[function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},t.exports=i},{}],147:[function(e,t,n){"use strict";var r={};t.exports=r},{}],148:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}t.exports=r},{}],149:[function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],150:[function(e,t,n){"use strict";function r(e){return a||o(!1),p.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?p[e]:null}var i=e(140),o=e(154),a=i.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){p[e]=d,s[e]=!0}),t.exports=r},{140:140,154:154}],151:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],152:[function(e,t,n){"use strict";function r(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=r},{}],153:[function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=e(152),o=/^ms-/;t.exports=r},{152:152}],154:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}t.exports=r},{}],155:[function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],156:[function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=e(155);t.exports=r},{155:155}],157:[function(e,t,n){"use strict";var r=e(154),i=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)||r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=i},{154:154}],158:[function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],159:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],160:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=i},{}],161:[function(e,t,n){"use strict";var r=e(146),i=r;t.exports=i},{146:146}],162:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var u in n)i.call(n,u)&&(s[u]=n[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},{}]},{},[86])(86)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define("react-dom",["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),define("resources/tpl/viewer/nls/app",{root:{viewer:{common:{save:"Save",close:"Close"},errors:{noConfigName:"No configuration specified in index.html > configOptions.story",configFormatError:"The specified configuration couldn't be loaded because of a JSON syntax error.",configNotFound:"The specified configuration hasn't been found or couldn't be loaded because of a JSON syntax error.",boxTitle:"An error has occurred",servedFromFile:"The application has to be accessed through a web server. See ${USER_GUIDE} for details.",userGuide:"user guide",invalidConfig:"Invalid configuration",invalidConfigNoApp:"Web Mapping Application identifier not specified in index.html.",invalidConfigNoAppDev:"No Web Mapping Application identifier is specified in URL parameters (?appid=). In development mode, the appid configuration in index.html is ignored.",unspecifiedConfigOwner:"Authorized owner hasn't been configured.",invalidConfigOwner:"Story owner is not authorized.",invalidConfignoOAuth:"This story requires authentication, please configure an ArcGIS OAuth ID in index.html or make the story public.",invalidApp:"This story cannot be loaded.",appLoadingFail:"Something went wrong, the {TPL_NAME} did not load correctly.",notConfiguredDesktop:"The story is not configured yet.",notConfiguredMobile:"The {TPL_NAME} builder is not supported at this display size. If possible, resize your browser to access the builder or please build your story on a device with a larger screen.",notConfiguredMobile2:"Please rotate your device to landscape orientation to use the {TPL_NAME} builder.",notAuthorized:"You are not authorized to access this story",notAuthorizedBuilder:"You are not authorized to use {TPL_NAME} builder.",noViewerIE:"This story is not supported in Internet Explorer before version ${VERSION}. ${UPGRADE}.",noViewerIE2:"You are attempting to view this story using an older, unsupported browser. There may be features that do not work or other unexpected issues. We suggest you upgrade to Internet Explorer 11 or use another browser, such as Chrome.",noViewerIE3:"In late 2017, this story will no longer load on this browser. At that time, you must use a supported browser to view this story.",upgradeBrowser:"Please update your browser",mapLoadingFail:"Something went wrong, the map did not load correctly.",signOut:"Sign Out",builderSupportFirefox:"Story Map Cascade builder now supports Firefox!<br><br>Support for authoring Cascade stories in Firefox is currently in beta. Please try it out and report any issues to ${ESRI-SUPPORT} or the ${ESRI-COMMUNITY}.",builderSupportOther:"Cascade stories can be viewed in any modern web browser, but Story Map Cascade builder is supported only in ${CHROME}, ${SAFARI}, and ${FIREFOX}.<br><br>If you need Cascade builder to support a different browser, please contact ${ESRI-SUPPORT} or ${BROWSER-SUPPORT-VOTE}.",builderSupportIpad:"Story Map Cascade builder is not supported on iPad. Cascade stories that you create and share will work on iPad.",launchBuilder:"Launch Cascade builder",notAgain:"Do not show this again",sorry:"Attention:"},mobileWarning:{message1:"You've read the mobile version of this story. For the full version, with richer media elements try it out on a desktop computer.",email:"Email a link to this story"},cover:{iosEmbedLink:"Tap to read full story"},media:{captionPlaceholder:"Your caption here...",loadingError:"Sorry, this content is not accessible",explore:"Explore",exploreMap:"Explore Map",exploreStop:"Stop Exploring",sceneNotSupported:"Sorry, this 3D map is not supported on your device.",loading1:"Loading...",loading2:"Loading map...",videoPlayPause:"play/pause",videoMuteUnmute:"mute/unmute"},headerFromCommon:{defaultTagline:"A ${STORY_MAP}",share:"Share or print",tooltipAutoplayDisabled:"This isn't available in autoplay mode"},shareFromCommon:{copy:"Copy",copied:"Copied",open:"Open",embed:"Embed in web page",embedExplain:"Use the following HTML code to embed the story in a web page.",size:"Size (width/height):",autoplayLabel:"Autoplay mode",autoplayExplain1:"Autoplay mode will advance through your story at a regular interval. This is ideal on a kiosk or public display monitor, but be aware that in other situations it may make the story harder to read. This feature isn't supported on small displays.",autoplayExplain2:"When this mode is active there are controls to play/pause the story and adjust the navigation speed.",linksupdated:"Links updated!"},theme:{lightLabel:"Light",darkLabel:"Dark"},autoplay:{speedFast:"Fast",speedMedium:"Medium",speedSlow:"Slow"},bannerNotification:{learnMore:"Learn More",close:"Close",dontShowAgain:"Don't show this message again"},embedBar:{share:"Share",fullScreen:"Full screen",exitFullScreen:"Exit full screen",enlarge:"Enlarge",newTab:"Open in a new tab",tagline:"A Story Map",twitter:"Share on Twitter",facebook:"Share on Facebook"}},print:{settings:{pleaseWait:"Please wait for the entire story to load before printing",printNotes:"If this page loads slowly or some media doesn't appear, try replacing live media with images or printing a smaller range of sections. For best results, you may need to enable printing of background elements in your browser's print settings.",printOptions:"Options",makeTextBlack:"Make all text black",showLinks:"Show link URLs",useAltMedia:"Replace live media with images, if available",pageBreaks:"Begin each section on a new page",printRange:"Print part of this story",sectionStart:"Sections:",go:"Apply",reset:"Reset to whole story",print:"Print"},page:{appTagline:"This story was made with ${CASCADE_LINK_TEXT}.",cascadeLinkText:"Esri's Story Map Cascade",readItOnline:"Read it on the web at ${STORY_URL}."},sections:{sectionLabel:"Section ${SECTION_NUMBER}"},media:{websiteLabel:"Website:",videoLabel:"Video:",audioLabel:"Audio:"},licenseChange2018:{noAccess:"Your account (%USER_NAME%) is not licensed to open a Story Map that is not public.  Please ask your organization administrator to assign you a user type that includes Story Maps or an add-on Essential Apps license."}}},ar:1,bs:1,ca:1,cs:1,da:1,de:1,el:1,es:1,et:1,fi:1,fr:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,ko:1,lt:1,lv:1,nl:1,nb:1,pl:1,"pt-br":1,"pt-pt":1,ro:1,ru:1,sl:1,sr:1,sv:1,th:1,tr:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1}),define("storymaps/tpl/utils/UI",[],function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return{isMobileBrowser:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(navigator.userAgent)},hasWebGL:function(e){if(window.WebGLRenderingContext){for(var t=document.createElement("canvas"),n=["webgl","experimental-webgl","moz-webgl","webkit-3d"],r=!1,i=0;i<4;i++)try{if((r=t.getContext(n[i]))&&"function"==typeof r.getParameter)return!e||{name:n[i],gl:r}}catch(e){}return!1}return!1},addCSSRule:function(e,t,n){var r="head";if(n&&(r=n.contents().find("head")),t){var i=$(r).find("#"+t).eq(0);if(i.length)return void i.html(e)}$("<style>").prop("type","text/css").attr("id",t).html(e).appendTo(r)},getUID:function(){return Date.now()+"-"+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}}),define("storymaps/tpl/builder/BuilderHelper",["dojo/_base/lang","dojo/_base/array","esri/arcgis/utils","esri/IdentityManager","esri/request"],function(e,t,n,r,i){function o(){return n.arcgisUrl.split("/sharing/")[0]}function a(t){var n=o(),a=e.clone(app.data.appItem.item),s=e.clone(app.data.appItem.data),l=a.owner||r.findCredential(n).userId,u=r.findCredential(n).token;delete a.avgRating,delete a.modified,delete a.numComments,delete a.numRatings,delete a.numViews,delete a.size,a.typeKeywords||(a.typeKeywords=[]),a.typeKeywords=a.typeKeywords.concat(app.cfg.WEBAPP_KEYWORD_APP),a.typeKeywords=a.typeKeywords.concat(app.cfg.WEBAPP_KEYWORD_GENERIC);var c=$.map(app.cfg.LAYOUTS,function(e){return"layout-"+e.id});a.typeKeywords=$.grep(a.typeKeywords,function(e){return-1==$.inArray(e,c)}),a.typeKeywords.push("layout-cascade-1"),a.typeKeywords=$.grep(a.typeKeywords,function(e,t){return t==$.inArray(e,a.typeKeywords)}),a.tags=a.tags?a.tags.join(","):"",a.typeKeywords=a.typeKeywords.join(","),a.serviceProxyParams=JSON.stringify(a.serviceProxyParams),t||(a.title=app.data.title),a.properties&&(a.properties=JSON.stringify(a.properties)),a.url&&a.url.match(/apps\/[a-zA-Z]+\/\?appid=/)&&(a.url=a.url.replace("/?appid=","/index.html?appid=")),a=e.mixin(a,{f:"json",token:u,overwrite:!0,text:JSON.stringify(s)});var d=n+"/sharing/rest/content/users/"+l+(a.ownerFolder?"/"+a.ownerFolder:"");return a.id?d+="/items/"+a.id+"/update":d+="/addItem",i({url:d,handleAs:"json",content:a},{usePost:!0})}function s(){if(!app.portal)return void console.error("Fatal error - not signed in")}function l(){return{itemType:"text",guid:null,name:null,type:"Web Mapping Application",typeKeywords:app.cfg.WEBAPP_KEYWORD_GENERIC.concat(app.cfg.WEBAPP_KEYWORD_APP),description:null,tags:app.cfg.WEBAPP_TAG,snippet:null,thumbnail:null,documentation:null,extent:[],lastModified:-1,spatialReference:null,accessInformation:null,licenseInfo:null,culture:"en-us",properties:null,size:1,appCategories:[],industries:[],languages:[],largeThumbnail:null,banner:null,screenshots:[],listed:!1,ownerFolder:null,protected:!1,commentsEnabled:!0,numComments:0,numRatings:0,avgRating:0,numViews:1}}function u(e){return this.getPortalURL()+"/home/webmap/viewer.html?webmap="+e}function c(e){return this.getPortalURL()+"/home/webscene/viewer.html?webscene="+e}function d(){return app.isPortal?this.getPortalURL()+"/apps/MyStories/":"//storymaps.arcgis.com/en/my-stories/"}return{getPortalURL:o,saveApp:a,getBlankAppJSON:l,cleanApp:s,getMapViewerLink:u,getSceneViewerLink:c,getMyStoriesURL:d}}),define("storymaps-react/tpl/view/media/builder/Tab",["module","exports"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.title="",this.selectedClass="selected",this.hasBeenRendered=!1,this._isActive=!1,this._options=t,this._sectionOptions=t.sectionOptions,this._onSectionChange=t.onSectionChange,this._onOpen=t.onOpen,this.showErrors=t.showErrors,this.showWarnings=t.showWarnings,this.mobileSupported=t.mobileSupported}return r(e,[{key:"onChange",value:function(){this._onChange()}},{key:"postCreate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.container&&e.media&&e.onChange&&e.rootNode&&(this._onOpen&&this._onOpen(),this._isActive=!0,this.hasBeenRendered=!0,this._node=e.container,this._media=e.media,this._onChange=e.onChange,this._onAction=e.onAction,this._rootNode=e.rootNode)}},{key:"beforePanelDestroy",value:function(){}},{key:"destroy",value:function(){this._isActive=!1}},{key:"setConfig",value:function(e,t){this._media.options[e]=t,this.onChange()}},{key:"setMedia",value:function(e,t){this._media[e]=t,this.onChange()}},{key:"setSectionConfig",value:function(e,t){this._sectionOptions[e]=t,this._onSectionChange()}}]),e}();t.default=i,e.exports=t.default}),define("text",{}),define("handlebars/safe-string",["exports"],function(e){function t(e){this.string=e}t.prototype.toString=function(){return""+this.string},e.default=t}),define("handlebars/utils",["./safe-string","exports"],function(e,t){function n(e){return l[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function i(e){return e instanceof s?e.toString():null==e?"":e?(e=""+e,c.test(e)?e.replace(u,n):e):e+""}function o(e){return!e&&0!==e||!(!h(e)||0!==e.length)}function a(e,t){return(e?e+".":"")+t}var s=e.default,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,c=/[&<>"'`]/;t.extend=r;var d=Object.prototype.toString;t.toString=d;var p=function(e){return"function"==typeof e};p(/x/)&&(p=function(e){return"function"==typeof e&&"[object Function]"===d.call(e)});var p;t.isFunction=p;var h=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===d.call(e)};t.isArray=h,t.escapeExpression=i,t.isEmpty=o,t.appendContextPath=a}),define("handlebars/exception",["exports"],function(e){function t(e,t){var r;t&&t.firstLine&&(r=t.firstLine,e+=" - "+r+":"+t.firstColumn);for(var i=Error.prototype.constructor.call(this,e),o=0;o<n.length;o++)this[n[o]]=i[n[o]];r&&(this.lineNumber=r,this.column=t.firstColumn)}var n=["description","fileName","lineNumber","message","name","number","stack"];t.prototype=new Error,e.default=t}),define("handlebars/base",["./utils","./exception","exports"],function(e,t,n){function r(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new a("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return r(this);if(l(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var a=h(n.data);a.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new a("Must pass iterator to #each");var n,r,i=t.fn,s=t.inverse,c=0,d="";if(t.data&&t.ids&&(r=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),u(e)&&(e=e.call(this)),t.data&&(n=h(t.data)),e&&"object"==typeof e)if(l(e))for(var p=e.length;c<p;c++)n&&(n.index=c,n.first=0===c,n.last=c===e.length-1,r&&(n.contextPath=r+c)),d+=i(e[c],{data:n});else for(var f in e)e.hasOwnProperty(f)&&(n&&(n.key=f,n.index=c,n.first=0===c,r&&(n.contextPath=r+f)),d+=i(e[f],{data:n}),c++);return 0===c&&(d=s(this)),d}),e.registerHelper("if",function(e,t){return u(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){u(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var r=h(t.data)
;r.contextPath=o.appendContextPath(t.data.contextPath,t.ids[0]),t={data:r}}return n(e,t)}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var o=e,a=t.default;n.VERSION="2.0.0";n.COMPILER_REVISION=6;var s={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=s;var l=o.isArray,u=o.isFunction,c=o.toString;n.HandlebarsEnvironment=r,r.prototype={constructor:r,logger:d,log:p,registerHelper:function(e,t){if("[object Object]"===c.call(e)){if(t)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){"[object Object]"===c.call(e)?o.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};n.logger=d;var p=d.log;n.log=p;var h=function(e){var t=o.extend({},e);return t._parent=e,t};n.createFrame=h}),define("handlebars/runtime",["./utils","./exception","./base","exports"],function(e,t,n,r){function i(e){var t=e&&e[0]||1,n=p;if(t!==n){if(t<n){var r=h[n],i=h[t];throw new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){if(!t)throw new d("No environment passed to template");if(!e||!e.main)throw new d("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,r,i,o,a,s,l,u,p){a&&(o=c.extend({},o,a));var h=t.VM.invokePartial.call(this,n,i,o,s,l,u,p);if(null==h&&t.compile){var f={helpers:s,partials:l,data:u,depths:p};l[i]=t.compile(n,{data:void 0!==u,compat:e.compat},t),h=l[i](o,f)}if(null!=h){if(r){for(var m=h.split("\n"),g=0,v=m.length;g<v&&(m[g]||g+1!==v);g++)m[g]=r+m[g];h=m.join("\n")}return h}throw new d("The partial "+i+" could not be compiled when running in runtime-only mode")},r={lookup:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:c.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var r=this.programs[e],i=this.fn(e);return t||n?r=a(this,e,i,t,n):r||(r=this.programs[e]=a(this,e,i)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=c.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},i=function(t,n){n=n||{};var o=n.data;i._setup(n),!n.partial&&e.useData&&(o=u(t,o));var a;return e.useDepths&&(a=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,o,a)};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},i._child=function(t,n,i){if(e.useDepths&&!i)throw new d("must pass parent depths");return a(r,t,e[t],n,i)},i}function a(e,t,n,r,i){var o=function(t,o){return o=o||{},n.call(e,t,e.helpers,e.partials,o.data||r,i&&[t].concat(i))};return o.program=t,o.depth=i?i.length:0,o}function s(e,t,n,r,i,o,a){var s={partial:!0,helpers:r,partials:i,data:o,depths:a};if(void 0===e)throw new d("The partial "+t+" could not be found");if(e instanceof Function)return e(n,s)}function l(){return""}function u(e,t){return t&&"root"in t||(t=t?f(t):{},t.root=e),t}var c=e,d=t.default,p=n.COMPILER_REVISION,h=n.REVISION_CHANGES,f=n.createFrame;r.checkRevision=i,r.template=o,r.program=a,r.invokePartial=s,r.noop=l}),define("handlebars.runtime",["./handlebars/base","./handlebars/safe-string","./handlebars/exception","./handlebars/utils","./handlebars/runtime","exports"],function(e,t,n,r,i,o){var a=e,s=t.default,l=n.default,u=r,c=i,d=function(){var e=new a.HandlebarsEnvironment;return u.extend(e,a),e.SafeString=s,e.Exception=l,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e},p=d();return p.create=d,p.default=p,p.default}),define("lib-build/hbars",["text","Handlebars"],function(e,t){"use strict";var n={};return{version:"0.0.2",load:function(r,i,o,a){if(a=a||{},n[r])o(n[r]);else{var s=a.hbars&&a.hbars.extension||".hbs",l=a.hbars&&a.hbars.path||"",u=a.hbars&&a.hbars.compileOptions||{},c=function(e){a.isBuild?(n[r]=t.precompile(e,u),o()):(n[r]=t.compile(e),o(n[r]))};c.error=o.error,e.load(l+r+s,i,c,a)}},write:function(e,t,r,i){var o=n[t];o&&r.asModule(e+"!"+t,"define('{pluginName}!{moduleName}', ['Handlebars'], function (Handlebars) { return Handlebars.template({content}); });\n".replace("{pluginName}",e).replace("{moduleName}",t).replace("{content}",o))}}}),define("lib-build/hbars!storymaps-react/tpl/view/media/builder/TabIssues",["Handlebars"],function(e){return e.template({1:function(e,t,n,r){return" map-issue-summary"},3:function(e,t,n,r,i){var o,a='          <ol class="carousel-indicators">\n';return o=t.each.call(e,null!=e?e.issueMessages:e,{name:"each",hash:{},fn:this.program(4,r,i),inverse:this.noop,data:r}),null!=o&&(a+=o),a+"          </ol>\n"},4:function(e,t,n,r,i){var o,a=this.lambda,s=this.escapeExpression,l=t.helperMissing;return'              <li data-target="#'+s(a(null!=i[1]?i[1].carouselId:i[1],e))+'" data-slide-to="'+s((o=null!=(o=t.index||(null!=e?e.index:e))?o:l,"function"==typeof o?o.call(e,{name:"index",hash:{},data:r}):o))+'"></li>\n'},6:function(e,t,n,r){return"is-carousel"},8:function(e,t,n,r,i){var o,a,s=this.lambda,l=this.escapeExpression,u=t.helperMissing,c='            <div class="single-issue-summary item';return o=t.if.call(e,null!=e?e.isError:e,{name:"if",hash:{},fn:this.program(9,r,i),inverse:this.program(11,r,i),data:r}),null!=o&&(c+=o),c+='" data-target="#'+l(s(null!=i[1]?i[1].carouselId:i[1],e))+'" data-slide-to="'+l((a=null!=(a=t.index||(null!=e?e.index:e))?a:u,"function"==typeof a?a.call(e,{name:"index",hash:{},data:r}):a))+'">\n              <div class="title-wrapper">\n                <div class="title">'+l((a=null!=(a=t.banner||(null!=e?e.banner:e))?a:u,"function"==typeof a?a.call(e,{name:"banner",hash:{},data:r}):a))+'</div>\n                <div class="description">'+l((a=null!=(a=t.description||(null!=e?e.description:e))?a:u,"function"==typeof a?a.call(e,{name:"description",hash:{},data:r}):a))+"</div>\n              </div>\n",o=t.if.call(e,null!=e?e.button:e,{name:"if",hash:{},fn:this.program(13,r,i),inverse:this.noop,data:r}),null!=o&&(c+=o),o=t.if.call(e,null!=e?e.tooltip:e,{name:"if",hash:{},fn:this.program(15,r,i),inverse:this.noop,data:r}),null!=o&&(c+=o),c+"            </div>\n"},9:function(e,t,n,r){return" error"},11:function(e,t,n,r){return" warning"},13:function(e,t,n,r){var i,o=t.helperMissing;return'                <div class="fix-btn btn btn-primary">\n                  <span class="small-loader hidden"></span>\n                  <span>'+(0,this.escapeExpression)((i=null!=(i=t.button||(null!=e?e.button:e))?i:o,"function"==typeof i?i.call(e,{name:"button",hash:{},data:r}):i))+"</span>\n                </div>\n"},15:function(e,t,n,r){var i,o=t.helperMissing,a=this.escapeExpression;return'                <div class="media-info">\n                  <div class="media-info-background"></div>\n                  <i class="fix-tooltip fa fa-info-circle" aria-hidden="true" title="'+a((i=null!=(i=t.tooltip||(null!=e?e.tooltip:e))?i:o,"function"==typeof i?i.call(e,{name:"tooltip",hash:{},data:r}):i))+'" data-link='+a((i=null!=(i=t.helpLink||(null!=e?e.helpLink:e))?i:o,"function"==typeof i?i.call(e,{name:"helpLink",hash:{},data:r}):i))+"></i>\n                </div>\n"},17:function(e,t,n,r){var i,o=t.helperMissing,a=this.escapeExpression;return'          <div class="carousel-control left" href="#'+a((i=null!=(i=t.carouselId||(null!=e?e.carouselId:e))?i:o,"function"==typeof i?i.call(e,{name:"carouselId",hash:{},data:r}):i))+'" role="button" data-slide="prev">\n            <span class="fa fa-arrow-left arrow icon-prev"></span>\n          </div>\n          <div class="carousel-control right" href="#'+a((i=null!=(i=t.carouselId||(null!=e?e.carouselId:e))?i:o,"function"==typeof i?i.call(e,{name:"carouselId",hash:{},data:r}):i))+'" role="button" data-slide="next">\n            <span class="fa fa-arrow-right arrow icon-next"></span>\n          </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r,i){var o,a,s=t.helperMissing,l=this.escapeExpression,u='<div class="builder-config-section issues">\n  <div class="section-content horizontal">\n    <div class="issue-summary';return o=t.if.call(e,null!=e?e.isMap:e,{name:"if",hash:{},fn:this.program(1,r,i),inverse:this.noop,data:r}),null!=o&&(u+=o),u+='">\n\n      <div id="'+l((a=null!=(a=t.carouselId||(null!=e?e.carouselId:e))?a:s,"function"==typeof a?a.call(e,{name:"carouselId",hash:{},data:r}):a))+'" class="issue-summary-wrapper carousel slide" data-interval="false" data-wrap="false" data-ride="carousel">\n\n        \x3c!-- Indicators if needed --\x3e\n',o=t.if.call(e,null!=e?e.needsCarousel:e,{name:"if",hash:{},fn:this.program(3,r,i),inverse:this.noop,data:r}),null!=o&&(u+=o),u+='\n        \x3c!-- Content --\x3e\n        <div class="carousel-inner ',o=t.if.call(e,null!=e?e.needsCarousel:e,{name:"if",hash:{},fn:this.program(6,r,i),inverse:this.noop,data:r}),null!=o&&(u+=o),u+='">\n',o=t.each.call(e,null!=e?e.issueMessages:e,{name:"each",hash:{},fn:this.program(8,r,i),inverse:this.noop,data:r}),null!=o&&(u+=o),u+="        </div>\n\n        \x3c!-- arrows if needed --\x3e\n",o=t.if.call(e,null!=e?e.needsCarousel:e,{name:"if",hash:{},fn:this.program(17,r,i),inverse:this.noop,data:r}),null!=o&&(u+=o),u+="\n      </div>\n    </div>\n    ",a=null!=(a=t.issueItemsTemplate||(null!=e?e.issueItemsTemplate:e))?a:s,o="function"==typeof a?a.call(e,{name:"issueItemsTemplate",hash:{},data:r}):a,null!=o&&(u+=o),u+"\n  </div>\n</div>\n"},useData:!0,useDepths:!0})}),define("issue-checker/IssueTypes",["module","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={maps:{deleted:"maps/deleted",inaccessible:"maps/inaccessible",unauthorized:"maps/unauthorized",unshared:"maps/unshared",othersUnshared:"maps/othersUnshared"},content:{unshared:"content/unshared",othersUnshared:"content/othersUnshared"},layers:{deleted:"layers/deleted",inaccessible:"layers/inaccessible",unauthorized:"layers/unauthorized",unshared:"layers/unshared",othersUnshared:"layers/othersUnshared",premiumContent:"layers/premiumContent",subscriptionContent:"layers/subscriptionContent",secureService:"layers/secureService"},images:{inaccessible:"images/inaccessible",httpContentFixable:"images/httpContentFixable",httpContentUnfixable:"images/httpContentUnfixable",httpContentIndeterminate:"images/httpContentIndeterminate"},audio:{inaccessible:"audio/inaccessible",httpContentFixable:"audio/httpContentFixable",httpContentUnfixable:"audio/httpContentUnfixable",httpContentIndeterminate:"audio/httpContentIndeterminate"},videos:{inaccessible:"videos/inaccessible",httpContentFixable:"videos/httpContentFixable",httpContentUnfixable:"videos/httpContentUnfixable",httpContentIndeterminate:"videos/httpContentIndeterminate"},webpages:{httpContentFixable:"webpages/httpContentFixable",httpContentUnfixable:"webpages/httpContentUnfixable",httpContentIndeterminate:"webpages/httpContentIndeterminate"}},e.exports=t.default}),define("resources/tpl/builder/nls/app",{root:{builder:{dialog:{apply:"Apply",close:"Close"},header:{sharingNotAvailable:"This is not available until you share the story",edit:"Edit"},headerConfig:{toggles:{bookmarks:"Bookmarks",logoSharing:"Logo & Sharing",theme:"Appearance"},bookmarks:{title:"Section",bookmark:"Bookmark",intro:"Bookmarks are links to story sections that are shown in the header. Creating concise bookmarks for the main sections of your story helps readers get oriented.",sequentialDefault:"Narrative section (no text found)",immersiveDefault:"Immersive section (no text found)",titleDefault:"Title section (no text found)",coverDefault:"Cover section (no text found)",coverAppendage:"(Cover)"},logoSharing:{logo:"Logo",logoButton:"Use ${ESRI} Logo",useOrgLogo:"Use my organization's logo",useOrgLogoHelp:"Use the logo provided by your administrator",logoLink:"Logo link",logoUploadProgress:"Logo upload in progress",logoUploadSuccess:"Logo uploaded successfully",logoUploadError:"Logo upload failed, switching back to ${ESRI} logo",customHeaderText:"Tagline",taglineLinkDisabledTooltip:"Enter a tagline to enable the link",link:"Tagline link",enableSocialSharing:"Display sharing button"},appearance:{themeLabel:"Theme",fontLabel:"Fonts",previewLabel:"Preview",fontsTitleLabel:"Titles",fontsBodyLabel:"Body",loremTitle:"Lorem Ipsum",loremBody:"Lorem ipsum dolor sit amet, consectetur adipiscing elit sed do eiusmod tempor. Mauris consequat orci nec magna facilisis bibendum at eget libero."}},share:{btnPrivate:"Private",btnOrg:"Organization",btnPublic:"Public",btnEveryone:"Everyone"},builderPanel:{builderNamePrefix:"",builderNameSuffix:"Builder",buttonSaving:"Saving",buttonSaved:"Saved",buttonError:"Save failed",buttonShare:"Share",buttonSettings:"Settings",settingsLogoError:"Your logo has an issue. Click to learn more.",buttonHelp:"Get Help or Submit Feedback on GeoNet",buttonPreview:"View Story",buttonHealth:"Health Report",manageStories:"Manage My Stories",closeWithPendingChange:"Are you sure to want to confirm this action? Your changes will be lost.",coverLabel:"Cover",creditsLabel:"Credits",betaFeedback:"Feedback",betaNote:"Please let us know what you think about ${APP_NAME} or if something is not working as you expected.",notSharedNote:"Your story isn't shared, only you can see it",organizationWarning:"To ensure this story can be viewed by others you must also share its scenes, scene layers, and embedded apps with your organization. Maps and map layers are shared automatically.",publicWarning:"To ensure this story can be viewed by others you must also share its scenes, scene layers, and embedded apps with Everyone. Maps and map layers are shared automatically.",addTitleNote:"Add a title on the cover to save",saveError:"There was an error saving your story.",duplicate:"Duplicate",organize:"Organize",done:"Done",invite:"As you build your story, the sections will appear here...",mystoriestooltip:"Cascade Builder alerts you to issues in your story and helps you fix them. Scenes and embedded apps are not checked, so please check those manually."},immersiveViewPanel:{transition:"Transition",chooseTransition:"Choose Transition",fade:"Fade",fadeSlow:"Fade Slow",swipeVertical:"Swipe Vertical",swipeHorizontal:"Swipe Horizontal",none:"None",disabledConsecutiveSameMedia:"Not available when consecutive views use the same media",disabledTooltipMap:"To use this transition the visible layers in both views must be different and the other map properties must be the same",disabledConsecutiveSameMap:"Not available when consecutive views use the same map",disabledNotInBeta:"Not available when consecutive views use the same map",disabledNonConsecutive:"Not available as there is another occurence of this media that is non consecutive",addMedia:"Add media",invite:"As you build your immersive section, the views will appear here..."},mediaConfig:{tabs:{appearance:"Appearance",manage:"Manage",size:"Size",background:"Background",mobile:"Mobile",issues:"Issues",fixIssues:"Fix Issues"},manage:{changeMedia:"Change media",edit:"Edit",editAside:"Opens in a new browser tab. After saving your edits, save and reload this story to see your changes.",remove:"Remove",altTextPlaceholder:"Add a description of this media for visually impaired readers...",altTextHelptip:"Alternative text is a description of visual media used by assistive technologies such as screen reader software. This is optional but recommended to meet web accessibility guidelines such as WCAG and Section 508."},appearance:{homeView:"Initial view",audio:"Audio",on:"On",muted:"Muted",volumeAside:"The video will autoplay when a reader arrives at this view. If you mute the sound, the reader will not be able to enable it.",view:"View",resetLocation:"Reset Location",resetLayers:"Reset Layers",clearPopup:"Clear Pop-Up",interaction:"Interaction",interactionDisabled:"Interaction Disabled",buttonToEnable:"Button to Enable",interactionEnabled:"Interaction Enabled",interactionAside:"*Touch devices will show an interaction button.",slide:"Slide",noSlides:"No slides available.",mapExtentPrompt:"Update the map to tell your story, click the checkmark to save the changes"},sectionAppearance:{layout:"Layout",theme:"Theme"},size:{small:"Small",medium:"Medium",large:"Large",noCrop:"Do not crop tall images",noCropTallTooltip:"Not cropping a tall image produces a dramatic effect for readers that requires scrolling to see the entire image."},background:{noCrop:"Do not crop",mostImportantPart:"Choose the most important point",cropExplanationImmersive:"Select a point on the image to choose how it will be cropped at different screen sizes. The point you select will always be visible. Check 'Do Not Crop' if your image needs to be fully visible.",cropExplanation:"Select a point on the image to choose how it will be cropped at different screen sizes. The point you select will always be visible.",color:"Color",previews:"Previews"},altMedia:{alternativeMedia:"Alternate Image for Mobile",explanation:"Some media are not supported or may not work well on mobile devices. Use this panel to specify an image that will be shown in place of this media when your story is viewed on a phone or tablet.",changeAltImage:"Change image",uploadAltImage:"Add alternate image"}},mediaPicker:{browseToggle:{urls:"Link to Content",urls_short:"Link",contentType:{error:"No authorized media.",imageOnly:"In this part of the story, you can add an image.",imageAndVideo:"In this part of the story, you can add an image or a video.",imageVideoWebpage:"In this part of the story, you can add audio, an image, a video, or a webpage."}},browsePanel:{providers:{searchingFor:'Searching for "${searchterm}"...',searchedFor:'Search results for "${searchterm}"',albumsOf:"${username}'s albums",noPhotosFound:"No photos matched your search. Please try again.",noItemsFound:"No items matched your search. Please try again.",noItemsInThisStory:"No content from ArcGIS has been added to this story yet.",limitReached:"Showing 100 items. If you didn't find what you need, try a keyword search.",galleryItems:{uploadError:"Sorry, this item failed to upload."},agol:{remove1:"Delete this unused image from your ArcGIS account.",remove2:"(You'll need to upload it again if you decide to use it later.)",removeFailed:"Remove this inaccessible image from this list.",modified:"Modified ${date}",uploaded:"Uploaded ${date}",contentByAuthor:"${contentType} by ${author}"},googlePhotos:{searchAndBrowse:"Browse photos on ${Picasa} or ${Google+}"},flickr:{photostream:"Photostream",searchAndBrowse:"Search and browse photos on ${Flickr}",captionStarter:"Photo by ${USERNAME} on ${Flickr}"},unsplash:{searchAndBrowse:"Search photos on ${Unsplash}",photoBy:"Photo by ${username}",userLink:"Go to ${username}'s ${Unsplash} page",captionStarter:"Photo by ${USERNAME} on ${Unsplash}"},urlContent:{uploadHeaders:{generic:"Link to content on the web",imageOnly:"Link to an image on the web",imageAndVideo:"Link to an image or video on the web"},linkText:{imageOnly:"In the box above, you can link directly to a photo.",imageAndVideo1:"In the box above, you can paste a link or iframe code for a video on ${YouTube} or ${Vimeo}.",imageAndVideo2:"You can also link directly to a photo.",imageVideoWebpage1:"In the box above, you can paste a link or iframe code for web content like a dynamic chart or video on ${YouTube} or ${Vimeo}.",imageVideoWebpage2:"You can also link directly to a photo, video, audio file, web page, or web app.",ender:"Always use secure (https) links. If your content does not support https add a link to it in the text of your story so readers can view it in a new browser tab.",httpsError:"Link must begin with HTTPS"},embedProtocol:{embedProtocolLabel:"Load page over a secure connection (https)",embedProtocolWarning1:"If this page does not load in your story, it can't be embedded for web security reasons.",embedProtocolWarning2:"If this page does not load in your story, uncheck this option and try again. If the page still does not load, it can't be embedded for web security reasons.",embedProtocolWarning3:"As an alternative, add a link in your narrative to open the page in a new browser tab. ${linkText}",linkText:"Learn More."},placeholder:"${https://}... or ${<iframe>}",uploadErrors:{generic:"Something went wrong with the address entered. Please try again.",imageOnly1:"You must use an image in this part of the story.",imageOnly2:"Please provide a link to an image (.jpg, .png, .gif), or choose an image from ${ArcGIS}, ${Flickr}, ${Google+}, or ${Unsplash}.",imageAndVideo1:"You must use an image or video in this part of the story.",imageAndVideo2:"Please provide a link to an image (.jpg, .png, .gif) or a video on ${YouTube} or ${Vimeo}, or choose an image from ${ArcGIS}, ${Flickr}, ${Google+}, or ${Unsplash}.",badFormat:"The link to the file you are trying to add is formatted incorrectly.",inaccessible:"The file you are trying to add is missing or not accessible.",tryAgain:"Please check the address and try again.",mediaTypes:{VIDEO:"video",IMAGE:"image",generic:"media"}}}},sidePanel:{thirdPartyTerms:"By using a third-party service, you agree to its terms of service: ",googlePhotos:{placeholder:"Email or ${Picasa}/${Google+} ID",helpText:"You can add photos uploaded to ${Picasa} or ${Google+} to your story. ${helpLinkText} about using images stored in your ${Google} account in your stories.",helpLinkText:"Learn more",cannotFindUser:"Cannot find user ${username}. Please try again."},unsplash:{placeholder:"Search for photos",aboutText:"${Unsplash} is a curated collection of free, high-quality photos.",copyrightText:"All photos are licensed under the ${Unsplash} License. Find more information ${moreInfoLink}.",moreInfoLink:"here"},flickr:{searchType:{account:"${Flickr} Account",text:"All ${Flickr}"},placeholders:{user:"Search for account",userText:"Search this account for photos",text:"Search for photos"},errors:{cannotFindUser:"Cannot find user ${username}.",noUserPhotos:"${username} does not have any public photos.",didYouMean:"Did you mean ${username}?",generalUserError:"Something went wrong when searching for user ${username}."},licenses:{licenseLabel:"License: ",public:"Public Domain",commercial:"OK for Commercial Use",nonCommercial:"OK for Non-Commercial Use",reserved:"All Rights Reserved",any:"Any License"}},agol:{searchLocation:{thisStory:"This Story",agol:"ArcGIS Online",portalArcGIS:"Portal for ArcGIS",portal:"Portal",myOrg:"${orgname} Organization",myContent:"My Content"},createContent:{createNewMap:"Create a New Map",or:"OR",dragAndDropImage:"Drop images",dragAndDropImageAudio:"Drop images or audio",uploadButton:"Browse",agolInfo:"Uploaded images and audio will be accessible only within this story.",saveBeforeUpload:"Once you save this story, you can upload images and audio to ArcGIS here.",fileExtsImage:"Supported types: png, jpg, gif, bmp.",fileExtsImageAudio:"Supported types: png, jpg, gif, bmp, mp3.",maxSize:"Max 10 MB per file."},filterAndSort:{webmap:"Web Map",webscene:"Web Scene",image:"Image",audio:"Audio",date:"Date",sortByDate:"Sort by date",title:"Title",sortByTitle:"Sort by title",views:"Views",search:"Search by keyword or ID"}}}}},mapEditor:{dialogTitle:"Edit map",unauthorizedDomain:"You are not on an authorized domain to use the map editor",loading:"Please wait while the map editor is loading",saving:"Saving the map",success:"Map saved",cancelTitle:"Discard any unsaved changes?",errorSave:"Unable to save map. Please try again.",loadFail:"Sorry, the map editor cannot be loaded",close:"Close",save:"Save",confirm:"Yes, close map",deny:"No, keep working"},textEditor:{placeholder:{continueStory:"Continue your story here..."},blockAdd:{text:"Text",media:"Media",title:"Title",immersive:"Immersive"},link:{invite:"Paste or type a link..."},color:{choose:"choose",cancel:"cancel",clear:"Clear color"}},imageGallery:{addImage:"Add another image",moveBackward:"Move backward",moveForward:"Move forward"},cover:{titlePrompt:"Enter your story title...",subtitlePrompt:"Scroll down to get started or enter an optional subtitle",mediaPlaceholder:"Add your image or video",saveError:"Save failed, you already have an item with this title"},credits:{sectionInvite:"Add a credits section",warning:"Both fields must be filled out",content:"Content...",source:"Source...",linkPrompt:"Optional link...",introductionPlaceholder:"Enter an optional introduction to your credits section..."},immersive:{titleConfig:{theme:"Theme"},panelConfig:{position:"Position",theme:"Theme",size:"Size",background:"Background",layout:"Scrolling (for all panels)"}},title:{placeholder:"Enter a title..."},media:{mediaUpload:"Media upload in progress...",mediaUploadSuccess:"Media uploaded successfully",mediaUploadFail:"Media upload failed"},controller:{sectionOrganize:"You organized the sections",immersiveOrganize:"You organized the views",sectionDelete:"You deleted a section",viewDelete:"You deleted a view"},notification:{cancel:"Cancel",close:"Close",undo:"Undo"},sections:{sequence:"Narrative",immersive:"Immersive",title:"Title"},mediaErrors:{mediaTypes:{image:"image",audio:"audio",webmap:"map",webscene:"scene",video:"video",content:"content",webpage:"web page"},placeholders:{generic:"This content is not accessible.",deleted:"This item has been deleted.",inaccessible:"This content is not accessible.",unauthorized:"You are not authorized to view this content.",unshared:"This item is not shared the same as your story.",othersUnshared:"This item is not shared the same as your story.",subscriptionContent:"This map contains a subscriber layer.",premiumContent:"This map contains a premium layer.",secureService:"This map contains a secure layer."},contentIssues:{noAltImage:"Media May Not Work on Mobile",noAltImageUnsupported:"Media Not Supported on Mobile",noAltImageWarning:"Media May Not Work on Mobile",altImageBroken:"The alternate image defined for this media item is not accessible",httpMedia:"Insecure Media",httpContent:"Insecure Content"},contentWarnings:{noAltImage:"Be sure to test your story on mobile devices before sharing it. If this media does not work as expected, use the button below to add an alternate image that will be shown when the story is viewed on a phone or tablet.",noAltImageUnsupported:"This media will not work on mobile devices. Use the button below to add an alternate image that will be shown when the story is viewed on a phone or tablet.",noAltImageWarning:"Be sure to test your story on mobile devices before sharing it. If this media does not work as expected, use the button below to add an alternate image that will be shown when the story is viewed on a phone or tablet.",noAltImageAlt:"This type of media is not supported or may not work well on mobile devices. On the mobile tab, provide an alternate image that will be shown when the story is viewed on a phone or tablet."},descriptions:{httpAudioUnfixable:"This audio does not support HTTPS. Remove it from your story or replace it with a link.",httpAudioUncheckable:"This audio has an insecure (HTTP) URL. Click the button below to try using an HTTPS URL for this audio. If that doesnât work, remove the audio from your story or replace it with a hyperlink.",httpAudioFixable:"This audio has an insecure (HTTP) URL. Click the button below to use a secure HTTPS URL for this audio.",httpWebpageUnfixable:"This web page does not support HTTPS. Remove it from your story or replace it with a screenshot or link.",httpWebpageUncheckable:"This web page has an insecure (HTTP) URL. Click the button below to try using an HTTPS URL for this web page. If that doesnât work, remove the web page from your story or replace it with a screenshot or hyperlink.",httpWebpageFixable:"This web page has an insecure (HTTP) URL. Click the button below to use a secure HTTPS URL for this web page.",httpVideoUnfixable:"This video does not support HTTPS. Remove it from your story or replace it with a screenshot or link.",httpVideoUncheckable:"This video has an insecure (HTTP) URL. Click the button below to try using an HTTPS URL for this video. If that doesnât work, remove the video from your story or replace it with a screenshot or hyperlink.",httpVideoFixable:"This video has an insecure (HTTP) URL. Click the button below to use a secure HTTPS URL for this video.",httpImageUnfixable:"This image does not support HTTPS. Remove it from your story or replace it with a link.",httpImageUncheckable:"This image has an insecure (HTTP) URL. Click the button below to try using an HTTPS URL for this image. If that doesnât work, remove the image from your story or replace it with a hyperlink.",httpImageFixable:"This image has an insecure (HTTP) URL. Click the button below to use a secure HTTPS URL for this image.",httpLayer:"This layer has an insecure (HTTP) URL.",inaccessibleLogo:"This logo is not accessible. Replace it with another image.",httpLogoUnfixable:"This logo does not support HTTPS. Replace it with another image.",httpLogoFixable:"This logo has an insecure (HTTP) URL. Use an HTTPS URL for the logo.",httpLogoUncheckable:"This logo has an insecure (HTTP) URL. Use an HTTPS URL for the logo, or replace it with another image."},tooltips:{httpAudioFixable:"Click the button to use a secure HTTPS URL for this audio.",httpAudioUncheckable:"Try using an HTTPS URL for this audio. If that doesnât work, remove the audio from your story or replace it with a link.",httpWebpageFixable:"Click the button to use a secure HTTPS URL for this web page.",httpWebpageUncheckable:"Try using an HTTPS URL for this web page. If that doesnât work, remove the web page from your story or replace it with a screenshot or link.",httpVideoFixable:"Click the button to use a secure HTTPS URL for this video.",httpVideoUncheckable:"Try using an HTTPS URL for this video. If that doesnât work, remove the video from your story or replace it with a screenshot or link.",httpImageFixable:"Click the button to use a secure HTTPS URL for this image.",httpImageUncheckable:"Try using an HTTPS URL for this image. If that doesnât work, remove the image from your story or replace it with a link.",httpLayerMyMap:"Visit the map's item page to update this layer to use HTTPS. If the layer cannot be updated, remove it from the map.",httpLayerNotMyMap:"Make a copy of the map and update this layer to use HTTPS. If the layer cannot be updated, remove it from the map.",clickLearnMore:"Click to learn more."},fixButtons:{agolItemPage:"Item Page",openTheMap:"Open Map",updateAudio:"Fix Audio URL",updateWebpages:"Fix Web Page URL",updateVideos:"Fix Video URL",updateImages:"Fix Image URL"},mapIssues:{fixButton:"Fix Issues",nofixButton:"Issues",mapLabel:"Map:",summaries:{unshared:"Unshared Content",othersUnshared:"Someone Else's Unshared Content",subscriptionContent:"Subscriber Content",premiumContent:"Premium Content",secureContent:"Secure Content",deleted:"Deleted Content",inaccessible:"Inaccessible Content",unauthorized:"Unauthorized Content"},descriptions:{unshared:"This content is not shared the same as your story.",othersUnshared:"This content is owned by someone else and not shared the same as your story.",
othersUnsharedAuthorized:"This content is owned by someone else, but you are authorized to share it.",inaccessible:"This content is not accessible.",deleted:"This content has been deleted.",unauthorized:"You are not authorized to view this content.",popupFeatureLayer:"A tiled layer's pop-ups come from a feature layer that is not shared the same as your story.",subscriptionContent:"You must authorize subscriber content for public use.",premiumContent:"You must authorize premium content for public use.",secureService:"Secure content is not accessible to your readers.",missingItemWarning:"The item associated with this layer has been deleted."},tooltips:{unshared:"Click to learn more about sharing.",othersUnshared:"You do not have permissions to share content owned by others. Ask the owner to share it, remove the map from your story, or edit the map to remove the layers that aren't yours. Click to learn more about edting maps.",inaccessible:"Remove this map from your story or edit it to remove the inaccessible layers. Click to learn more about editing maps.",deleted:"Remove this map from your story or edit it to remove the missing layers. Click to learn more about editing maps.",unauthorized:"Remove this map from your story or edit it to remove the unauthorized layers. Click to learn more about editing maps.",popupFeatureLayer:"A tiled layer's pop-ups come from a feature layer that is not shared the same as your story.",subscriptionContent:"Subscriber content does not consume credits. Click to learn more.",premiumContent:"Credits will be charged to your organization each time someone views a premium layer in your story. Click to learn more.",secureService:"Remove the secure content from your story, or click to learn how to authorize secure content for use by others.",missingItemWarning:"This layer still works, but its symbols, pop-ups, or name may have changed. Confirm the layer appears as expected, or remove it from your story."},fixButtons:{share:"Share",hide:"Hide",authorize:"Authorize",remove:"Remove",help:"Get Help",ignore:"Ignore",confirm:"Confirm",edit:"Edit Map"},shareNotifications:{alsoSharedMapsAndLayers:"Some maps and layers were also shared.",alsoSharedMaps:"Some maps were also shared.",alsoSharedLayers:"Some layers were also shared.",sharedOthersContent:"You've used your administrative privileges to share someone else's content."}},storyHealth:{healthy:"No issues",notHealthy:"Fix issues",warnings:"See warnings"}},saveErrorSocial:{title:"Social media sharing",panel1:"Your story may not appear properly on social media as your ArcGIS web application item title is not the same as your story title.",panel1tooltip:"By defining a title, summary and thumbnail image, your story will look like this:",panel2:"Which title would you like to use on social media:",panel2q1:"Story title (recommended)",panel2q1tooltip:"By choosing this option, your item title will be modified to match your story title and further changes in the builder will be synchronized.",panel2q2:"Item title",panel3:"To further improve how your story looks on social media use ${MYSTORIES} to add a summary and a thumbnail image.",panel4:"Do not warn me again for this story",save:"Save",mystories:"My Stories"},httpsTransitionMessage:{bannerMsg:"Important Message about Web Security and Story Maps",s1h1:"Esri is enhancing the security of Story Maps",s1p1:"Your Story Maps live on the web, and the web community is always working to establish and implement better security. HTTPS, which provides a secure connection for content transmitted over the internet, is emerging as the expected way to access web content. Most modern browsers now show warning messages when HTTP instead of HTTPS is used. Because of this emerging standard, we strongly recommend you use HTTPS links for authoring and sharing Story Maps, and only use HTTPS URLs when embedding web content or linking to images within a Story Map.",s1p2:"Practically speaking, this means a Story Map and all its content (including images, layers, embedded apps and websites) should be accessed using links that start with HTTPS rather than HTTP. This ensures the best experience for your readers because most web browsers will indicate that your stories are secure.",s2h1:"What do I need to do?",s2p1:"Esri is working to make this an easy transition for Story Map authors and readers. Tools are available now in Story Map builders and My Stories that help you find insecure content (HTTP) in your stories and provide recommendations for how to address it. Please check your stories for insecure content and update to HTTPS as soon as possible.",action1:"Close",action2:"Check my stories now",action3:"Learn more",floatingNotification:"This story contains insecure (HTTP) content. Please review and address these issues."}}},ar:1,bs:1,ca:1,cs:1,da:1,de:1,el:1,es:1,et:1,fi:1,fr:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,ko:1,lt:1,lv:1,nl:1,nb:1,pl:1,"pt-br":1,"pt-pt":1,ro:1,ru:1,sl:1,sr:1,sv:1,th:1,tr:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1}),define("lib-build/less!storymaps-react/tpl/view/media/builder/TabIssues",[],function(){}),define("lib-build/less!storymaps-react/tpl/view/media/builder/Common",[],function(){}),define("storymaps-react/tpl/view/media/builder/TabIssues",["module","exports","./Tab","lib-build/hbars!./TabIssues","issue-checker/IssueTypes","lib-build/i18n!resources/tpl/builder/nls/app","lib-build/less!./TabIssues","lib-build/less!./Common"],function(e,t,n,r,i,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(i),h=a(o),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},g=h.default.builder,v=app.cfg.BUILDER_LINKS.issueHelps,y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.title=h.default.builder.mediaConfig.tabs.issues,n.type="issues",n.icon="fa-exclamation-triangle",n.scanResults=e.scanResults,n.issues=e.issues,n.instanceID=e.instanceID,n.showErrors=e.scanResults.errors.length,n.showWarnings=!e.scanResults.errors.length&&e.scanResults.warnings.length,n}return u(t,e),f(t,[{key:"render",value:function(e){if(this.scanResults&&this.issues&&this.issues.length){var t=this.getIssueMessages(e&&e.showDefaultButton);return(0,d.default)({issueMessages:t,needsCarousel:t.length>1,carouselId:this.getCarouselId(),issueItemsTemplate:e?e.itemsTemplate:null,isMap:e&&e.isMap||!1})}}},{key:"postCreate",value:function(e){m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e);var n=this._node.find(".fix-tooltip");n.tooltip({container:this._node}),n.on("click",function(){var e=$(this).data("link");e&&window.open(e,"_blank")});var r=this._node.find(".carousel");r.find(".carousel-control.left").addClass("hidden"),r.find(".item").eq(0).addClass("active"),r.find(".carousel-indicators li").eq(0).addClass("active"),r.on("slide.bs.carousel",function(e){var t=parseInt($(e.relatedTarget).data("slide-to"));this.updateCarouselArrows(r,this,t)}.bind(this)),this._addFixButtonEvents()}},{key:"_addFixButtonEvents",value:function(){var e=this;this._node.find(".fix-btn").each(function(t,n){var r=e.issues[t];$(n).on("click",function(){switch(r.id){case p.default.webpages.httpContentUnfixable:case p.default.webpages.httpContentIndeterminate:case p.default.images.httpContentUnfixable:case p.default.images.httpContentIndeterminate:case p.default.audio.httpContentUnfixable:case p.default.audio.httpContentIndeterminate:case p.default.videos.httpContentUnfixable:case p.default.videos.httpContentIndeterminate:e._onAction("https-open-picker");break;case p.default.webpages.httpContentFixable:case p.default.images.httpContentFixable:case p.default.audio.httpContentFixable:case p.default.videos.httpContentFixable:e._onAction("https-swap")}})})}},{key:"updateCarouselArrows",value:function(e,t,n){e.find(".carousel-control").removeClass("hidden"),0===n?e.find(".carousel-control.left").addClass("hidden"):n+1===t.scanResults.errors.length&&e.find(".carousel-control.right").addClass("hidden")}},{key:"getCarouselId",value:function(){return this.instanceID+"_carousel"}},{key:"updateCarouselId",value:function(){var e=this.getCarouselId();this._node.find(".issue-summary-wrapper.carousel").prop("id",e),this._node.find(".carousel-indicators li").data("target","#"+e),this._node.find(".carousel-inner .item").data("target","#"+e),this._node.find(".carousel-control").attr("href","#"+e)}},{key:"getIssueMessages",value:function(e){var t=this;return this.issues.map(function(n,r){var i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=g.mediaErrors;if(n.id===p.default.maps.unshared||n.id===p.default.layers.unshared||n.id===p.default.content.unshared?(i=u.mapIssues.summaries.unshared,s=u.mapIssues.descriptions.unshared,o=u.mapIssues.tooltips.unshared,a=u.mapIssues.fixButtons.share,l=v.unshared):n.id===p.default.maps.othersUnshared||n.id===p.default.layers.othersUnshared||n.id===p.default.content.othersUnshared?(i=u.mapIssues.summaries.othersUnshared,s=u.mapIssues.descriptions.othersUnshared,o=u.mapIssues.tooltips.othersUnshared,a=u.mapIssues.fixButtons.help,l=v.othersUnshared):n.id===p.default.layers.deleted?(i=u.mapIssues.summaries.deleted,s=u.mapIssues.descriptions.descriptions,o=u.mapIssues.tooltips.deleted,a=u.mapIssues.fixButtons.remove,l=v.deleted):n.id===p.default.layers.inaccessible?(i=u.mapIssues.summaries.inaccessible,s=u.mapIssues.descriptions.inaccessible,o=u.mapIssues.tooltips.inaccessible,a=u.mapIssues.fixButtons.remove,l=v.inaccessible):n.id===p.default.layers.unauthorized?(i=u.mapIssues.summaries.unauthorized,s=u.mapIssues.descriptions.unauthorized,o=u.mapIssues.tooltips.unauthorized,a=u.mapIssues.fixButtons.remove,l=v.unauthorized):n.id===p.default.layers.premiumContent?(i=u.mapIssues.summaries.premiumContent,s=u.mapIssues.descriptions.premiumContent,o=u.mapIssues.tooltips.premiumContent,a=u.mapIssues.fixButtons.authorize,l=v.premiumContent):n.id===p.default.layers.subscriptionContent?(i=u.mapIssues.summaries.subscriptionContent,s=u.mapIssues.descriptions.subscriptionContent,o=u.mapIssues.tooltips.subscriptionContent,a=u.mapIssues.fixButtons.authorize,l=v.subscriptionContent):n.id===p.default.layers.secureService?(i=u.mapIssues.summaries.secureContent,s=u.mapIssues.descriptions.secureContent,o=u.mapIssues.tooltips.secureService,a=u.mapIssues.fixButtons.authorize,l=v.secureContent):n.id===p.default.webpages.httpContentFixable?(i=u.contentIssues.httpMedia,s=u.descriptions.httpWebpageFixable,a=u.fixButtons.updateWebpages,l=""):n.id===p.default.webpages.httpContentUnfixable?(i=u.contentIssues.httpMedia,s=u.descriptions.httpWebpageUncheckable,a=u.fixButtons.updateWebpages,l=""):n.id===p.default.webpages.httpContentIndeterminate?(i=u.contentIssues.httpMedia,s=u.descriptions.httpWebpageUncheckable,a=u.fixButtons.updateWebpages,l=""):n.id===p.default.audio.httpContentFixable?(i=u.contentIssues.httpMedia,s=u.descriptions.httpAudioFixable,a=u.fixButtons.updateAudio,l=""):n.id===p.default.audio.httpContentUnfixable?(i=u.contentIssues.httpMedia,s=u.descriptions.httpAudioUncheckable,a=u.fixButtons.updateAudio,l=""):n.id===p.default.audio.httpContentIndeterminate?(i=u.contentIssues.httpMedia,s=u.descriptions.httpAudioUncheckable,a=u.fixButtons.updateAudio,l=""):n.id===p.default.videos.httpContentFixable?(i=u.contentIssues.httpMedia,s=u.descriptions.httpVideoFixable,a=u.fixButtons.updateVideos,l=""):n.id===p.default.videos.httpContentUnfixable?(i=u.contentIssues.httpMedia,s=u.descriptions.httpVideoUncheckable,a=u.fixButtons.updateVideos,l=""):n.id===p.default.videos.httpContentIndeterminate?(i=u.contentIssues.httpMedia,s=u.descriptions.httpVideoUncheckable,a=u.fixButtons.updateVideos,l=""):n.id===p.default.images.httpContentFixable?(i=u.contentIssues.httpMedia,s=u.descriptions.httpImageFixable,a=u.fixButtons.updateImages,l=""):n.id===p.default.images.httpContentUnfixable?(i=u.contentIssues.httpMedia,s=u.descriptions.httpImageUncheckable,a=u.fixButtons.updateImages,l=""):n.id===p.default.images.httpContentIndeterminate?(i=u.contentIssues.httpMedia,s=u.descriptions.httpImageUncheckable,a=u.fixButtons.updateImages,l=""):(i=u.mapIssues.summaries.uncaught,s=u.mapIssues.descriptions.uncaught,o=u.mapIssues.tooltips.uncaught,a=u.mapIssues.fixButtons.edit,l=v.edit),e){var c=t.scanResults.errors[r];c&&!c.actions.length&&(a=u.mapIssues.fixButtons.edit)}return{index:r,issueId:n.id,banner:i,description:s,tooltip:o,button:a,helpLink:l,isError:"error"===n.severity}})}},{key:"destroy",value:function(){m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(c.default);t.default=y,e.exports=t.default}),define("storymaps-react/tpl/builder/Issues",["module","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={content:{noAlternateMedia:"content/noAlternateMedia"}},e.exports=t.default}),define("lib-build/hbars!storymaps-react/tpl/view/media/MediaError",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,o=t.helperMissing;return'<div class="loading-error">\n    <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>\n    <span>'+(0,this.escapeExpression)((i=null!=(i=t.message||(null!=e?e.message:e))?i:o,"function"==typeof i?i.call(e,{name:"message",hash:{},data:r}):i))+"</span>\n</div>\n"},useData:!0})}),define("lib-build/less!storymaps-react/tpl/view/media/MediaError",[],function(){}),define("storymaps-react/tpl/view/media/Media",["module","exports","storymaps/tpl/utils/UI","storymaps/tpl/utils/CommonHelper","dojo/topic","dojo/_base/lang","esri/IdentityManager","storymaps/tpl/builder/BuilderHelper","./builder/TabIssues","../../builder/Issues","lib-build/hbars!./MediaError","lib-build/i18n!resources/tpl/viewer/nls/app","lib-build/less!./MediaError"],function(e,t,n,r,i,o,a,s,l,u,c,d){"use strict";function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var m=p(n),g=p(r),v=p(i),y=p(o),b=p(a),_=p(s),w=p(l),C=p(u),E=p(c),x=p(d),T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this.type=t.type,this.id=t.id,this.previewThumb=t.previewThumb,this.previewIcon=t.previewIcon,this.scanResults={hasErrors:!1,hasWarnings:!1},this._scanListener=null,this._cache={},this._isLoaded=!1,this._alternateMedia=null,this._isAlternate=!1,this._node=null,this._domID=m.default.getUID(),this._instanceID=m.default.getUID(),this._isUploadPending=!1,this._builderConfigurationTabs=[],this._builderConfigPanel=null,this._onConfigAction=null,this._sectionType=null}return S(e,[{key:"postCreate",value:function(e){this._builderConfigurationTabs=e.builderConfigurationTabs||[],this._onConfigAction=e.onConfigAction,this._onConfigChangeCallback=e.onConfigChange,this._sectionType=e.sectionType,this._container=e.container;var t=this.getAlternate();app.isInBuilder&&t&&t.postCreate()}},{key:"setCache",value:function(e){this._cache=e}},{key:"setAlternate",value:function(e){this._alternateMedia=e,this._alternateMedia._isAlternate=!0}},{key:"getAlternate",value:function(){return this._alternateMedia}},{key:"removeAlternate",value:function(){this._alternateMedia=null}},{key:"getPreviewThumbnail",value:function(){return e.addToken(this.previewThumb)}},{key:"getPreviewIcon",value:function(){return this.previewIcon}},{key:"isSameMedia",value:function(e){return this.id==e.id}},{key:"_applyConfig",value:function(e){if("block"==this._placement){e.size=e.size||"medium";var t=$.map(this._node.attr("class").split(" "),function(e){return e.match(/block-size-/)?e:null}).join(" ");this._node.removeClass(t).addClass("block-size-"+e.size)}}},{key:"_fadeInMedia",value:function(){var e=this;this._node&&(this._node.removeClass("media-is-loading"),this._node.find(".media-loading .large-loader").hide(),setTimeout(function(){e._node.find(".media-loading").hide(),e._node.find(".media-loading .large-loader").show()},1e3),this._node.find(".media-item").addClass("bring-in"))}},{key:"_onEnableButtonClick",value:function(e){$(e.currentTarget).toggleClass("enabled"),this._node.toggleClass("interaction-enabled")}},{key:"_createAlternateTab",value:function(){}},{key:"_createManageTab",value:function(){}},{key:"checkErrors",value:function(e,t){if(this.scanResults.hasErrors=!1,this.scanResults.hasWarnings=!1,Object.assign(this.scanResults,e),this.scanResults.errors.length){var n=void 0,r=this.scanResults.errors.map(function(e){return e.id}),i={};"image-gallery"===this.type&&(i.index=t.index);var o=this.isUnfixableError(r,i);o&&(n=o),this.setError(n)}else this.scanResults.warnings.length&&(this.scanResults.hasWarnings=!0),this.errorMessage=null,this.updateErrorUI();this._updateConfigPanel()}},{key:"isUnfixableError",value:function(){}},{key:"setError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.scanResults.hasErrors=!0,this.scanResults.unfixable=e.unfixable||!1,e.msg?this.errorMessage=e.msg:e.msg=this.errorMessage,this.updateErrorUI(e)}},{key:"setAlternateError",value:function(){}},{key:"removeAlternateError",value:function(){}},{key:"updateErrorUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.scanResults.hasErrors,n=this.scanResults.hasWarnings,r=e.minimizeInViewer||!1,i=e.showLoadingError||!1,o=void 0,a=void 0;if(e.galleryIndex||0===e.galleryIndex){var s=this._node.find(".ug-thumb-wrapper").eq(e.galleryIndex);o=s,a=s}else o=this._node.find(".block, .background").addBack(".block, .background"),a=o.hasClass(".background")?o:o.find(".block-media");o.removeClass("error warning"),a.toggleClass("minimize-on-viewer",r).toggleClass("show-loading-error",i),a.find(".loading-error").remove(),t?(o.addClass("error"),this.errorMessage=e.msg||this.errorMessage||x.default.viewer.media.loadingError,a.append((0,E.default)({message:this.errorMessage}))):n&&o.addClass("warning")}},{key:"getArcGISContent",value:function(){var e=[],t=void 0;if("webmap"==this.type||"webscene"==this.type)e=[{type:this.type,id:this.id}];else if("image"==this.type&&this._image)t=this.getMediaArcGISContent(this._image.url,"image");else if("image-gallery"==this.type){var n=!0,r=!1,i=void 0;try{for(var o,a=this._images.images[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t=this.getMediaArcGISContent(s.url,"image"),t&&e.push(t)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}t=null}else"audio"==this.type&&(t=this.getMediaArcGISContent(this._audio.url,"audio"));var l=this.getAlternate();return l&&l._image&&(t=this.getMediaArcGISContent(l._image.url,"image")),t&&e.push(t),e}},{key:"getMediaArcGISContent",value:function(t,n){var r=e.getArcGISItemResourceURL(t);return r?{type:"item-resource",mediaType:n,url:r.url,file:r.file}:null}},{key:"resize",value:function(){}},{key:"postLoad",value:function(){}},{key:"getNode",value:function(){return this._node}},{key:"getAuthorizedTransitionsWith",value:function(){return[]}},{key:"initBuilderUI",value:function(){"block"==this._placement&&(this._node.find(".media-delete").html('<div class="media-delete-background"></div><i class="media-delete-icon config-icon fa fa-trash-o"></i>'),this._node.find(".media-delete-icon").click(function(){this._onAction("remove")}.bind(this)))}},{key:"isConfigActive",value:function(){return this._node.hasClass("config-panel-active")}},{key:"closeConfigPanel",value:function(){this._node.removeClass("config-panel-active")}},{key:"destroy",value:function(){this._node&&this._node.remove()}},{key:"remove",value:function(){this._node&&this._node.remove()}},{key:"serialize",value:function(e,t,n){var r=y.default.clone(h({type:e},e,t)),i=this.getAlternate();return i&&(r.alternate=i.serialize(n),r.alternate&&r.alternate.image&&(this._addAlternateCaption(r[e],r.alternate.image),this._addAlternateSize(r[e],r.alternate.image))),n&&"object"===T(r[e])&&(r[e].instanceID=this._instanceID),r}},{key:"isPlaceholder",value:function(){return!1}},{key:"convertToHttps",value:function(){this._onToggleMediaConfig(this),this.serialize(),this._makeUrlsHttps(),this._isLoaded=!1,this._cache&&this._cache[this.id]&&(this._cache[this.id]=null),this._scanListener.remove();var e=this.render({placement:this._placement});"background"===this._placement?this._node.empty().html(e):this._node.replaceWith(e),this.postCreate({container:this._container,onToggleMediaConfig:this._onToggleMediaConfig,builderConfigurationTabs:this._builderConfigurationTabs,onConfigAction:this._onConfigAction,onConfigChange:this._onConfigChangeCallback,sectionType:this._sectionType,foregroundOptions:this._foregroundOptions,applySectionConfig:this._applySectionConfig}),this.load(),this.closeConfigPanel(),this._node.removeClass("builder-config-open")}},{key:"_onAction",value:function(e,t){if("remove"===e||"swap"===e||"alternate-media-swap"===e||"alternate-media-add"===e||"alternate-media-remove"===e||"image-to-image-gallery"===e||"image-gallery-to-image"===e||"arcgis-edit"===e||"https-open-picker"===e){var n=this,r=-1!==e.indexOf("alternate-");r&&(n=this.getAlternate()),this._onConfigAction({action:e,media:n,newMedia:t,mainMedia:r?this:null})}"arcgis-edit-external"===e&&window.open(_.default.getMapViewerLink(this.id),"_blank"),"https-swap"===e&&this.convertToHttps(),"remove"!==e&&"alternate-media-remove"!==e&&"https-swap"!==e||v.default.publish("builder-should-check-story"),this._onConfigChange()}},{key:"_onConfigChange",value:function(){v.default.publish("builder-media-update"),this._onConfigChangeCallback&&this._onConfigChangeCallback()}},{key:"_initConfigPanel",value:function(){}},{key:"_initConfigTabs",value:function(){}},{key:"_destroyConfigTabs",value:function(){if(this._builderConfigPanel&&this._builderConfigPanel._tabs){var e=this._builderConfigPanel._tabs.find(function(e){return e._isActive});e&&this._builderConfigPanel.destroyTab(e)}}},{key:"_refreshConfigTabs",value:function(){var e=this._initConfigTabs();this._builderConfigPanel.refreshTabs(e)}},{key:"_updateConfigPanel",value:function(){var e=this._node.hasClass("builder-config-open");this._builderConfigPanel&&this._destroyConfigTabs(),this._builderConfigPanel&&this._refreshConfigTabs(),e&&this._builderConfigPanel&&this._builderConfigPanel.openPanel(!0)}},{key:"_createIssuesTab",value:function(e){var t=null,n=y.default.getObject("scanResults.errors",!1,this),r=y.default.getObject("scanResults.warnings",!1,this),i=n&&n.filter(function(e){return!e.isAlternate}).length&&!this.scanResults.unfixable,o=r&&r.filter(function(e){return e.id!==C.default.content.noAlternateMedia}).length&&!this.scanResults.unfixable;if(i||o){var a=[],s=[];i&&(a=n.map(function(e){return{id:e.id,severity:"error"}})),o&&(s=r.map(function(e){return{id:e.id,severity:"warning"}}).filter(function(e){return e.id!==C.default.content.noAlternateMedia})),t=new w.default({map:this._cache[this.id],scanResults:this.scanResults,issues:a.concat(s),instanceID:this._instanceID})}t&&e.push(t)}},{key:"_addAlternateCaption",value:function(e,t){e&&e.caption&&(t.caption=e.caption)}},{key:"_addAlternateSize",value:function(e,t){e&&e.options&&e.options.size&&(t.options||(t.options={}),t.options.size=e.options.size)}}],[{key:"getArcGISItemResourceURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=decodeURIComponent(e),n=t.match(new RegExp("/sharing/rest/content/items/"+app.data.appItem.item.id+"/resources/(.*)$"));return n&&2==n.length?{url:t,file:n[1]}:null}},{key:"addToken",value:function(e){if(!(app.data.appItem&&"public"!=app.data.appItem.item.access&&app.data.appItem.item.id&&e))return e;var t="",n=g.default.getPortalURL(),r=b.default.findCredential(n);return t=app.portal&&app.portal.getPortalUser()?app.portal.getPortalUser().credential.token:r?r.token:g.default.getCookieToken(),e.match(new RegExp("/sharing/rest/content/items/"+app.data.appItem.item.id+"/resources/"))?g.default.forceHttpsUrl(e)+"?token="+t:e}},{key:"findCropDistance",value:function(e,t,n){var r=t.width(),i=t.height(),o=r/i,a=e.width/e.height,s={x:0,y:0},l=0,u=a>o;if(a<o){var c=r/a;l=this.getDimensionAmount(c,i,n.y),s.x=0,s.y=l}else if(u){var d=i*a;l=this.getDimensionAmount(d,r,n.x),s.x=l,s.y=0}else s.x=0,s.y=0;return s}},{key:"getDimensionAmount",value:function(e,t,n){var r=e*n,i=-1*(r-t/2);return i>0?i=0:e- -1*i<t&&(i=-1*(e-t)),i}},{key:"getTargetDimensions",value:function(e,t){var n={width:0,height:0},r=e.width/e.height;return r>t.width/t.height?(n.height=t.height,n.width=t.height*r):(n.width=t.width,n.height=t.width/r),n}}]),e}();t.default=I,e.exports=t.default}),define("storymaps-react/tpl/core/WebSceneCache",["module","exports"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e),this._items=[],this._IDEAL_MAX_ITEMS=2}return r(e,[{key:"add",value:function(e,t){if(this._items.length<this._IDEAL_MAX_ITEMS){var n=this._findInstanceIndex(e);-1!==n?this._replaceItem(e,n):this._addItem(e)}else if(t){var r=this._findInstanceIndex(e);-1!==r?this._replaceItem(e,r):this._bumpOnItem(e)}}},{key:"_bumpOnItem",value:function(e){this._addItem(e);var t=this._findInstanceIndex(e),n=this._items[0],r=this._items[this._items.length-1];0===t?r.canRemove()&&this._removeItem(r):t===this._items.length-1?n.canRemove()&&this._removeItem(n):n.canRemove()?this._removeItem(n):r.canRemove()&&this._removeItem(r)}},{key:"_addSameID",value:function(e,t){this._items[t].item._domID!==e.item._domID&&this._replaceItem(e,t)}},{key:"_removeItem",value:function(e){var t=this._findInstanceIndex(e);this._items.splice(t,1),e.item.unload()}},{key:"_replaceItem",value:function(e,t){this._items[t]=e,e.item.setLoaded(!0)}},{key:"_addItem",value:function(e){e.item.load(),this._items.push(e),this._sort()}},{key:"_sort",value:function(){this._items.sort(function(e,t){var n=e.item._node.offset().top-t.item._node.offset().top;return 0===n&&e.hasOwnProperty("viewIndex")&&t.hasOwnProperty("viewIndex")?e.viewIndex-t.viewIndex:n})}},{key:"_findInstanceIndex",value:function(e){return this._items.findIndex(function(t){return t.item.id===e.item.id&&t.item._node.is(e.item._node)})}}]),e}();t.default=i,e.exports=t.default}),define("storymaps-react/tpl/core/Controller",["module","exports","dojo/_base/lang","dojo/topic","lib-build/i18n!resources/tpl/viewer/nls/app","storymaps-react/tpl/view/media/Media","storymaps-react/tpl/core/WebSceneCache","storymaps/tpl/utils/UI","storymaps/tpl/utils/CommonHelper"],function(e,t,n,r,i,o,a,s,l){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var p=u(n),h=u(r),f=u(i),m=u(o),g=u(a),v=u(s),y=u(l),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(){function e(){d(this,e)}return b(e,null,[{key:"getStoryTitle",value:function(){var e=this._sections&&this._sections[0];return e?e.getPreviewText():""}},{key:"getStoryURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||document.location.href;return t=t.replace(/\?edit(=.*)*&/,"?"),t=t.replace(/\&edit(=.*)*/,""),t=t.replace(/\?edit/,""),t=t.replace(/\?locale(=[a-zA-Z\-]+)+&/,"?"),t=t.replace(/\&locale(=[a-zA-Z\-]+)+/,""),e.urlEncoding?encodeURIComponent(t):t}},{key:"isStoryBlank",value:function(){return!(app.data.appItem&&app.data.appItem.data&&app.data.appItem.data.values&&app.data.appItem.data.values.config&&app.data.appItem.data.values.settings&&app.data.appItem.data.values.sections&&app.data.appItem.data.values.template)}},{key:"renderHeader",value:function(){var t=app.data.appItem,n=t?t.data.values.settings.header:null;n&&n.logo&&n.link||(n=e.DEFAULT_HEADER_SETTINGS),app.ui.header.render({logo:n.logo,link:n.link,social:n.social,bookmarks:this.getBookmarks(),title:this.getStoryTitle()})}},{key:"changeTheme",value:function(){var e=p.default.getObject("app.data.appItem.data.values.settings.theme");if(e){var t=e.colors;if(t){if($("body").removeClass("theme-major-dark theme-major-light theme-contrast-dark theme-contrast-light"),t.themeMajor&&$("body").addClass("theme-major-"+t.themeMajor),t.bgMain||t.themeContrast){var n=t.themeContrast||y.default.getLightOrDarkText(t.bgMain);$("body").addClass("theme-contrast-"+n)}var r=t.textMain?".section-layout-sequence {color: "+t.textMain+";}":"";v.default.addCSSRule(r,"text-color")}var i=e.fonts;if(i){var o=i.titleFont?".sections h1, .sections h2, .sections h3, .sections h4, .sections h5, .sections h6 { font-family: "+i.titleFont.fontFamily+";}":"";v.default.addCSSRule(o,"title-font");var a=i.bodyFont?".sections { font-family: "+i.bodyFont.fontFamily+";}":"";v.default.addCSSRule(a,"body-font")}}}},{key:"renderStory",value:function(e,t){this._sections=[],this._webSceneCache=new g.default,this._currentSection=null,this._$currentSection=null,this._currentSectionIndex=null,this._container=$(".sections");var n=!1,r=t.length;app.data.errorWebGL=!1,app.data.errorVideoMobile=!1;for(var i="",o=t.length-1;o>=0;o--){var a=t[o];"sequence"==a.type&&"sequence"==i&&(a.foreground.blocks=a.foreground.blocks.concat(t[o+1].foreground.blocks),t.splice(o+1,1)),i=a.type}$.each(t,function(e,i){var o=!1,a=app.ui.SectionFactory.createInstance(i);if(a){if(!0===i.alternate&&!n)return;try{this._container.append(a.render(e))}catch(e){console.error(e),o=!0,n=!0,"RUNTIME-NO-WEBGL"==e&&(app.data.errorWebGL=!0)}o||this._sections.push(a)}
if((app.data.errorWebGL||app.data.errorVideoMobile)&&(app.isInBuilder&&(e==r-3&&"credits-placeholder"==t[e+1].type||e==r-2&&"credits-placeholder"==t[e+1].type)||!app.isInBuilder&&(e==r-2&&"credits"==t[e+1].type||e==r-1&&"credits"!=i.type))){var s="";app.data.errorWebGL?s="WEBGL":app.data.errorVideoMobile&&(s="VIDEO_MOBILE");var l=this.getErrorSection({type:s});l&&(this._sections.push(l),this._container.append(l.render(e)))}}.bind(this)),app.data.sections=this._sections,app.data.sectionsJSON=t,app.data.title=app.Controller.getStoryTitle(),document.title=app.data.title;var s=[];return $(".section").each(function(e,t){var n=this._sections[e].postCreate($(t));Array.isArray(n)&&(s=s.concat(n))}.bind(this)),Promise.all(s)}},{key:"getBookmarks",value:function(){var e=[];return $.each(this._sections,function(t,n){if(n.getBookmark){var r=n.getBookmark();r&&"visible"==r.status&&e.push({index:t,title:r.bookmark})}}),e}},{key:"preloadSectionByIndex",value:function(e){this.preloadSection(this._sections[e],{})}},{key:"preloadSection",value:function(e,t){e&&window.requestAnimationFrame(function(){e.onScroll(p.default.mixin(t,{status:"preload"}))})}},{key:"toggleScrollEvents",value:function(e){this._disableScrollEvents=!e}},{key:"onScroll",value:function(e){var t=this._sections[e.currentSectionIndex];if(t&&!this._disableScrollEvents){if(t.onScroll(p.default.mixin(e,{status:"current",webSceneCache:this._webSceneCache})),e.currentSectionIndex!=this._currentSectionIndex){e.$currentSection.addClass("active"),h.default.publish("story-navigated-section",{index:e.currentSectionIndex,data:this._currentSection});var n=this._sections[e.currentSectionIndex+1];n&&e.currentSectionIndex!=this._currentSectionIndex&&this.preloadSection(n,e);var r=this._currentSection,i=this._$currentSection;i&&window.requestAnimationFrame(function(){i.removeClass("active"),r.onScroll({status:"unload"})})}$.each(e.visibleSections,function(t,n){var r=this._sections[n];n!=e.currentSectionIndex&&r.onScroll(p.default.mixin(e,{status:"visible",webSceneCache:this._webSceneCache}))}.bind(this)),this._$currentSection=e.$currentSection,this._currentSectionIndex=e.currentSectionIndex,this._currentSection=t,app.isInBuilder||e.initialUpdate||this._showSections()}}},{key:"_showSections",value:function(){for(var e=0;e<app.display.sections.length;e++){var t=app.display.sections[e],n=t.node;if(n&&("title"===t.type||"immersive"===t.type)){var r=app.display.scrollTop,i=r+app.display.windowHeight;n.hasClass("bring-in")?t.top>i&&n.removeClass("bring-in"):t.top<i+100&&n.addClass("bring-in");var o=app.display.sections[e+1],a=o?o.top:app.display.storyHeight,s=t.top<i+1e3,l=a>r-1e3;s&&l?n.addClass("section-on-screen"):n.removeClass("section-on-screen")}}}},{key:"onResize",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this._sections[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.resize(p.default.mixin(e,{webSceneCache:this._webSceneCache}))}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"navigateToSection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n){if(void 0!=t.index&&void 0!=t.animate&&!(t.index>app.display.sections.length-1)){var r=e._sections[t.index].type,i=app.display.sections[t.index].top,o=1,a=0;"immersive"==r&&(o=app.display.windowHeight-250+50,app.isInBuilder&&(o+=125)),a=Math.floor(i-50+o),t.animate?(e.toggleScrollEvents(!1),$("html,body").animate({scrollTop:a},{duration:t.animateSpeed||400}).promise().then(function(){this.toggleScrollEvents(!0),app.ui.update({forceUpdate:!0}),n(t.index)}.bind(e))):(document.body.scrollTop=a,document.documentElement.scrollTop=a,n(t.index))}})}},{key:"getSectionById",value:function(e){for(var t in this._sections){if(this._sections[t].id==e)return parseInt(t,10)}return-1}},{key:"getSectionIndexById",value:function(e){return this._sections[e].id}},{key:"getErrorSection",value:function(e){e=e||{};var t=null;if("WEBGL"===e.type||"VIDEO_MOBILE"===e.type){var n="mailto:?to=&subject=Check%20out%20this%20story&body="+document.location.href;t=app.ui.SectionFactory.createInstance({type:"sequence",layout:"sequence-2",background:{type:"color",color:{value:"#FFF"}},foreground:{blocks:[{type:"text",text:{value:'<div class="block bring-in"><table><tr><td style="padding-bottom: 10px;"> <img src="resources/tpl/viewer/icons/warning-mobile-smartphone.png" /></td><td style="padding-bottom: 10px; padding-left: 13px;">'+f.default.viewer.mobileWarning.message1+'</td></tr><tr><td colspan="2" style="font-family: open_sans, sans-serif; padding-top: 10px; border-top: 1px solid white; text-align: center;"><a class="btn btn-warning-email" style="background-color: white !important; color: rgb(171, 60, 22);white-space: normal;" href="'+n+'"><i class="fa fa-envelope-o" style="margin-right: 5px;color: rgb(171, 60, 22);"></i>'+f.default.viewer.mobileWarning.email+"</a></td></tr></table></div>"}}]}})}return t}},{key:"getArcGISContent",value:function(){var e=[],t=app.data.appItem&&app.data.appItem.data&&app.data.appItem.data.values,n=t&&t.settings&&t.settings.header&&t.settings.header.logo;if(n&&n.enabled&&n.url){var r=m.default.getArcGISItemResourceURL(n.url);r&&e.push({type:"item-resource",mediaType:"image",url:r.url,file:r.file})}var i=!0,o=!1,a=void 0;try{for(var s,l=this._sections[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.push.apply(e,c(u.getArcGISContent()))}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return e}},{key:"DEFAULT_HEADER_SETTINGS",get:function(){return{logo:{enabled:!0,url:"resources/tpl/viewer/icons/esri-logo.png",link:"https://www.esri.com"},link:{url:"https://storymaps.arcgis.com",title:f.default.viewer.headerFromCommon.defaultTagline.replace(/\${STORY_MAP}/g,"Story Map")},social:{enabled:!0}}}},{key:"SHARED_STYLE_HEADER_SETTINGS",get:function(){if(!app.portal.isOrganization)return null;var e=p.default.getObject("portal.portalProperties.sharedTheme.logo.small",!1,app),t=p.default.getObject("portal.portalProperties.sharedTheme.logo.link",!1,app);return e?{logo:{enabled:!0,url:e,link:t},link:{url:"https://storymaps.arcgis.com",title:f.default.viewer.headerFromCommon.defaultTagline.replace(/\${STORY_MAP}/g,"Story Map")},social:{enabled:!0}}:null}},{key:"THEME_COLOR_OPTIONS",get:function(){var e=[{id:"black-on-white-1",label:f.default.viewer.theme.lightLabel,themeMajor:"light",themeContrast:"dark",bgMain:"white",textMain:"#4c4c4c"},{id:"white-on-black-1",label:f.default.viewer.theme.darkLabel,themeMajor:"dark",themeContrast:"light",bgMain:"#0E0E0E",textMain:"#DDD"}],t=p.default.getObject("app.data.appItem.data.values.settings.theme.colors");if(t){e.some(function(e){return e.id===t.id})||e.push(p.default.clone(t))}return e}},{key:"THEME_DEFAULT_COLORS",get:function(){var e=this.THEME_COLOR_OPTIONS,t=void 0;return e.some(function(e){return"black-on-white-1"===e.id&&(t=e,!0)}),t||{}}},{key:"THEME_FONT_OPTIONS",get:function(){var e=[{label:"Open Sans",fontFamily:"'open_sans', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif"},{label:"Noto Serif",fontFamily:"'noto_serif', 'Georgia', 'Hoefler Text', 'Palatino', cursive"},{label:"Georgia",fontFamily:"'Georgia', 'Hoefler Text', 'Palatino', serif"},{label:"Arial",fontFamily:"'Arial', 'Helvetica Neue', 'Helvetica', sans-serif"}],t=p.default.getObject("app.data.appItem.data.values.settings.theme.fonts");if(t){t.titleFont&&(e.some(function(e){return e.label===t.titleFont.label})||e.push(p.default.clone(t.titleFont))),t.bodyFont&&(e.some(function(e){return e.label===t.bodyFont.label})||e.push(p.default.clone(t.bodyFont)))}return e}},{key:"THEME_DEFAULT_FONTS",get:function(){var e=this.THEME_FONT_OPTIONS,t=void 0,n=void 0;return e.forEach(function(e){"Noto Serif"===e.label&&(t=p.default.clone(e)),"Open Sans"===e.label&&(n=p.default.clone(e))}),{bodyFont:t,titleFont:n}}}]),e}();t.default=_,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/Media",[],function(){}),define("storymaps-react/tpl/print/media/Media",["module","exports","react","storymaps/tpl/utils/CommonHelper","storymaps-react/tpl/view/media/Media","lib-build/less!../styles/Media"],function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=o(r),c=o(i),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:"addToken",value:function(e){return c.default.addToken(e)}},{key:"getPosition",value:function(e){if(!e)return null;var t=e.placement;if(!t||!t.fill||"fill"!==t.type)return null;var n=t.fill;return(100*n.x).toFixed(2)+"% "+(100*n.y).toFixed(2)+"%"}},{key:"getSizeUrl",value:function(e){if(!this.props.media)return null;if(!this.props.media.sizes)return null;var t=u.default.findASize(this.props.media.sizes,e);return t=u.default.fixSizeUrls([t]),t[0].url}},{key:"getFitClass",value:function(e){if(!e)return null;if("large"===e.size&&e.fitHeight)return"crop";var t=e.placement;return t&&t.fit&&"fit"===t.type?"contain":null}},{key:"getBackgroundColor",value:function(e){if(!e)return"";var t=e.placement;return t&&(t=t.fit)&&(t=t.color)}}]),t}(n.Component);t.default=p,e.exports=t.default}),define("storymaps-react/tpl/print/media/ImageBackground",["module","exports","react","./Media"],function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=i(n),u=i(r),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"renderBlankBackground",value:function(){return l.default.createElement("div",{className:"media-background"},l.default.createElement("img",{alt:"blank",src:"resources/tpl/builder/icons/immersive/background-placeholder.jpg"}))}},{key:"getStyleOptions",value:function(e){return{objectPosition:this.getPosition(e.options)||"50% 50%",backgroundColor:this.getBackgroundColor(e.options)||""}}},{key:"render",value:function(){var e=this.props.media;if(!e||!e.url)return this.renderBlankBackground();var t=this.getSizeUrl()||e.url,n=this.getStyleOptions(e);return l.default.createElement("div",{className:"media-background "+(this.props.themeClass||"")},l.default.createElement("img",{src:this.addToken(t),alt:"",className:this.getFitClass(e.options)||"",style:n}))}}],[{key:"isDuplicate",value:function(e,t){var n=e.options?e.options.placement:null,r=t.options?t.options.placement:null;return!n&&!r||!(!n||!r)&&(n.type===r.type&&("fit"===n.type?n.fit.color===r.fit.color:n.fill.x===r.fill.x&&n.fill.y===r.fill.y))}}]),t}(u.default);t.default=d,e.exports=t.default}),define("storymaps-react/tpl/print/media/Text",["module","exports","react"],function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"createMarkup",value:function(e){var t=this;return e&&e.trim()?{__html:e.replace(/background-color: rgba?\([^;]*;/g,"").replace(/color: rgb\([^;]*/g,function(e){return t.maybeAddTextShadow(e)}).replace(/<\/?script>/g,"")}:{__html:""}}},{key:"maybeAddTextShadow",value:function(e){var t=this.getYIQ(e);return null===t||t<220?e:e+"; text-shadow: 0 0 8px #000"}},{key:"getYIQ",value:function(e){var t=e.match(/[0-9]*,\s?[0-9]*,\s?[0-9]*/);if(!t)return e;var n=t[0].split(",");return(299*n[0]+587*n[1]+114*n[2])/1e3}},{key:"render",value:function(){var e=this.createMarkup(this.props.text);return"figcaption"===this.props.tag?a.default.createElement("figcaption",{dangerouslySetInnerHTML:e}):a.default.createElement("div",{className:"text-block",dangerouslySetInnerHTML:e})}}]),t}(n.Component);t.default=l,e.exports=t.default}),define("storymaps-react/tpl/print/media/ImageBlock",["module","exports","react","./Media","./Text"],function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=o(n),c=o(r),d=o(i),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),p(t,[{key:"getHeightClass",value:function(e){if(!e.height||!e.width)return"";var t=[],n=e.height/e.width;return n>1.25&&t.push("img-portrait"),n>1.4&&t.push("img-tall"),t.join(" ")}},{key:"getWidthClass",value:function(e){return e.options&&e.options.size?"media-"+e.options.size:""}},{key:"getTargetWidth",value:function(e){if(!e.options||!e.options.size||"large"===e.options.size)return null;var t=$("body").width();return"small"===e.options.size?Math.round(.6*t):"medium"===e.options.size?Math.round(.8*t):null}},{key:"render",value:function(){var e=this.props.media,t=this.getTargetWidth(e),n=this.getSizeUrl(t)||e.url,r=this.addToken(n),i=this.getWidthClass(e)+" "+this.getHeightClass(e),o=this.getFitClass(e.options)||"",a=this.props.themeClass||"";return u.default.createElement("div",{className:"media-wrapper "+i},u.default.createElement("figure",{className:a},u.default.createElement("img",{src:r,alt:"",className:o}),e.caption?u.default.createElement(d.default,{text:e.caption,tag:"figcaption"}):null))}}]),t}(c.default);t.default=h,e.exports=t.default}),define("storymaps-react/tpl/print/media/Video",["module","exports","react","./ImageBlock","./ImageBackground","lib-build/i18n!resources/tpl/viewer/nls/app"],function(e,t,n,r,i,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(i),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=o.print.media,m=function(e){function t(e){s(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={videoScreenshot:null,altMediaUrl:n.props.altMedia?n.props.altMedia.url:null,videoUrl:null,shortUrl:null,youtubeKey:"AIzaSyDevTFP16nz6sA-akiOVi6wWXiplJnQ4qw"},n}return u(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this.props.media;"youtube"===e.source?this.getYoutubeInfo(e.id):"vimeo"===e.source&&this.getVimeoVideoInfo(e.id)}},{key:"getYoutubeInfo",value:function(e){var t=this,n={videoScreenshot:this.state.videoScreenshot||"//img.youtube.com/vi/"+e+"/0.jpg",videoUrl:"//www.youtube.com/embed/"+e+"?wmode=opaque&rel=0&showinfo=0",shortUrl:"www.youtube.com/watch?v="+e};if(this.state.videoScreenshot)return void this.onRequestReturn(n);var r="https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+e+"&key="+this.state.youtubeKey;this.sendRequest(r).then(function(e){var r=JSON.parse(e);if(r.error||!r.items)return void t.onRequestReturn(n);var i=r.items[0];if(!i.snippet||!i.snippet.thumbnails)return void t.onRequestReturn(n);var o=i.snippet.thumbnails,a=o.maxres||o.standard||o.high||o.medium,s=a.url;t.onRequestReturn(Object.assign(n,{videoScreenshot:s}))})}},{key:"getVimeoVideoInfo",value:function(e){var t=this,n={videoScreenshot:this.state.videoScreenshot||null,videoUrl:"//player.vimeo.com/video/"+e,shortUrl:"vimeo.com/"+e},r=["title=0","byline=0"];if(this.state.videoScreenshot)return n.videoUrl+="?"+r.join("&"),void this.onRequestReturn(n);var i="https://vimeo.com/api/v2/video/"+e+".json";this.sendRequest(i).then(function(i){var o=void 0;try{o=JSON.parse(i),o=o[0];var a=o.url;a.match(/\?/)?a+="&"+r.join("&"):a+="?"+r.join("&"),t.onRequestReturn(Object.assign(n,{videoScreenshot:o.thumbnail_large,videoUrl:a}))}catch(i){var s="//vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+e;t.sendRequest(s).then(function(e){try{o=JSON.parse(e),n.shortUrl=n.videoUrl.substr(2),n.videoUrl+="?"+r.join("&"),t.onRequestReturn(Object.assign(n,{videoScreenshot:o.thumbnail_url}))}catch(e){n.videoUrl+="?"+r.join("&"),t.onRequestReturn(n)}})}})}},{key:"sendRequest",value:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.response&&t(n.response)},n.open("GET",e,!0),n.send()})}},{key:"onRequestReturn",value:function(e){this.setState(e)}},{key:"isBackground",value:function(){var e=this.props.media;if(e&&e.options&&"background"===e.options.size)return!0}},{key:"renderVideo",value:function(){var e=c.default.createElement("iframe",{src:this.state.videoUrl,title:"Video in section "+this.state.index}),t=void 0;return t=this.isBackground()?"media-background":"media-wrapper media-"+this.props.media.options.size,c.default.createElement("div",{className:"video"},c.default.createElement("div",{className:t},e,this.renderVideoCaption()))}},{key:"renderImage",value:function(){var e={url:this.state.altMediaUrl||this.state.videoScreenshot,options:this.props.media.options,caption:this.props.media.caption};return this.isBackground()?c.default.createElement("div",{className:"video"},c.default.createElement(p.default,{media:e}),this.renderVideoCaption()):c.default.createElement("div",{className:"video"},c.default.createElement(d.default,{media:e}),this.renderVideoCaption())}},{key:"renderVideoCaption",value:function(){var e=this.state.shortUrl||this.state.videoUrl;return c.default.createElement("figcaption",{className:"video-url"},f.videoLabel,"Â ",c.default.createElement("a",{href:"//"+e,target:"_blank",rel:"noopener noreferrer"},e))}},{key:"render",value:function(){return this.state?this.state.altMediaUrl||this.state.videoScreenshot?this.renderImage():this.renderVideo():null}}]),t}(n.Component);t.default=m,e.exports=t.default}),define("storymaps-react/tpl/print/media/Audio",["module","exports","react","./Media","lib-build/i18n!resources/tpl/viewer/nls/app"],function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=o(n),c=o(r),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=i.print.media,h=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),d(t,[{key:"getMimeType",value:function(e){var t=e.slice(e.lastIndexOf(".")+1).toLowerCase();switch(t){case"mp3":return"audio/mpeg";case"m4a":return"audio/mp4";case"wav":default:return"audio/"+t}}},{key:"componentDidMount",value:function(){this.audioEl&&this.audioEl.setAttribute("controlsList","nodownload")}},{key:"render",value:function(){var e=this,t=this.props.media,n=this.addToken(t.url),r=this.getMimeType(n);return u.default.createElement("div",{className:"media-wrapper media-"+t.options.size},u.default.createElement("figure",null,u.default.createElement("audio",{type:r,preload:"metadata",controls:!0,ref:function(t){e.audioEl=t},src:n}),u.default.createElement("figcaption",{className:"video-url"},u.default.createElement("a",{href:"//"+n,target:"_blank",rel:"noopener noreferrer"},p.audioLabel," ",n))))}}]),t}(c.default);t.default=h,e.exports=t.default}),define("storymaps-react/tpl/print/media/Webpage",["module","exports","react","lib-build/i18n!resources/tpl/viewer/nls/app"],function(e,t,n,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){return e&&e.__esModule?e:{default:e}}(n),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r.print.media,c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"getShortenedUrl",value:function(e){var t=this;$.getJSON("https://arcg.is/prod/shorten?callback=?",{longUrl:e},function(e){e&&e.data&&e.data.url&&(t.shortLink.innerHTML=e.data.url)})}},{key:"componentDidMount",value:function(){var e=this.props.media.url;(e.match("maps.arcgis.com")||e.match(".esri.com"))&&this.getShortenedUrl(e)}},{key:"getIframe",value:function(e){return e.height?s.default.createElement("iframe",{title:"A webpage",src:e.url,height:e.height,className:"set-height"}):s.default.createElement("iframe",{title:"A webpage",src:e.url})}},{key:"render",value:function(){var e=this,t=this.props.media;return s.default.createElement("div",{className:"webpage-wrapper"},this.getIframe(t),s.default.createElement("figcaption",null,u.websiteLabel,"Â ",s.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.url,ref:function(t){e.shortLink=t}},t.url)))}}]),t}(n.Component);t.default=c,e.exports=t.default}),define("lib-build/hbars!storymaps-react/tpl/view/media/WebMapBlock",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,o,a=t.helperMissing,s=this.escapeExpression,l='<div id="'+s((o=null!=(o=t.id||(null!=e?e.id:e))?o:a,"function"==typeof o?o.call(e,{name:"id",hash:{},data:r}):o))+'" class="'+s((o=null!=(o=t.classes||(null!=e?e.classes:e))?o:a,"function"==typeof o?o.call(e,{name:"classes",hash:{},data:r}):o))+'" contenteditable="false">\n  <div class="block-media-wrapper">\n    <figure class="block-media">\n      <div class="media-loading">\n        <span class="large-loader"></span>\n      </div>\n      <div class="media-media media-item map" data-builder-invite="" data-id="'+s((o=null!=(o=t.webmapId||(null!=e?e.webmapId:e))?o:a,"function"==typeof o?o.call(e,{name:"webmapId",hash:{},data:r}):o))+'" data-options="'+s((o=null!=(o=t.options||(null!=e?e.options:e))?o:a,"function"==typeof o?o.call(e,{name:"options",hash:{},data:r}):o))+'" aria-label="'+s((o=null!=(o=t.altText||(null!=e?e.altText:e))?o:a,"function"==typeof o?o.call(e,{name:"altText",hash:{},data:r}):o))+'"></div>\n      <div class="interaction-container">\n        <button class="btn btn-default btn-sm">\n          <span class="int-container-disabled">\n            <span class="glyphicon glyphicon-fullscreen"></span>\n            '+s((o=null!=(o=t.labelExploreStart||(null!=e?e.labelExploreStart:e))?o:a,"function"==typeof o?o.call(e,{name:"labelExploreStart",hash:{},data:r}):o))+'\n          </span>\n          <span class="int-container-enabled">\n            '+s((o=null!=(o=t.labelExploreStop||(null!=e?e.labelExploreStop:e))?o:a,"function"==typeof o?o.call(e,{name:"labelExploreStop",hash:{},data:r}):o))+'\n          </span>\n        </button>\n      </div>\n      <div class="builder-ui media-cfg-invite"></div>\n      <div class="builder-ui media-delete"></div>\n      <div class="layer-list-container"></div>\n    </figure>\n  </div>\n  <figcaption class="block-caption" data-placeholder="'+s((o=null!=(o=t.placeholder||(null!=e?e.placeholder:e))?o:a,"function"==typeof o?o.call(e,{name:"placeholder",hash:{},data:r}):o))+'" contenteditable="'+s((o=null!=(o=t.captionEditable||(null!=e?e.captionEditable:e))?o:a,"function"==typeof o?o.call(e,{name:"captionEditable",hash:{},data:r}):o))+'">';return o=null!=(o=t.caption||(null!=e?e.caption:e))?o:a,i="function"==typeof o?o.call(e,{name:"caption",hash:{},data:r}):o,null!=i&&(l+=i),l+'</figcaption>\n  <div class="builder-ui media-cfg-panel"></div>\n</div>\n'},useData:!0})}),define("lib-build/hbars!storymaps-react/tpl/view/media/WebMapBackground",["Handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,o=t.helperMissing,a=this.escapeExpression;return'<div class="media-loading">\n  <span class="large-loader"></span>\n</div>\n<div class="media-media media-item map" data-id="'+a((i=null!=(i=t.webmapId||(null!=e?e.webmapId:e))?i:o,"function"==typeof i?i.call(e,{name:"webmapId",hash:{},data:r}):i))+'" aria-label="'+a((i=null!=(i=t.altText||(null!=e?e.altText:e))?i:o,"function"==typeof i?i.call(e,{name:"altText",hash:{},data:r}):i))+'"></div>\n<div class="interaction-container">\n  <button class="btn btn-default btn-sm">\n    <span class="int-container-disabled">\n      <span class="glyphicon glyphicon-fullscreen"></span>\n      '+a((i=null!=(i=t.labelExploreStart||(null!=e?e.labelExploreStart:e))?i:o,"function"==typeof i?i.call(e,{name:"labelExploreStart",hash:{},data:r}):i))+'\n    </span>\n    <span class="int-container-enabled">\n      '+a((i=null!=(i=t.labelExploreStop||(null!=e?e.labelExploreStop:e))?i:o,"function"==typeof i?i.call(e,{name:"labelExploreStop",hash:{},data:r}):i))+'\n    </span>\n  </button>\n</div>\n<div class="builder-ui media-cfg-invite"></div>\n<div class="builder-ui media-cfg-panel"></div>\n<div class="layer-list-container"></div>\n'},useData:!0})}),define("lib-build/css!storymaps/tpl/view/media/arcgis/WebMapCommand",[],function(){}),define("storymaps/tpl/view/media/arcgis/WebMapCommand",["lib-build/css!./WebMapCommand","dojo/has","esri/geometry/Point","dojo/on","esri/symbols/PictureMarkerSymbol","esri/layers/GraphicsLayer","esri/graphic","esri/config"],function(e,t,n,r,i,o,a,s){return function(e,r,l,u){function c(t){if(t)$(e.container).find(".mapCommandHomeBtn").addClass("loading"),f=Date.now();else{var n=Date.now()-f,r=0;n<450&&(r=450-n),setTimeout(function(){$(e.container).find(".mapCommandHomeBtn").removeClass("loading"),f=0},r)}}function d(){navigator.geolocation.getCurrentPosition(function(t){var r=new n(t.coords.longitude,t.coords.latitude);if(l&&"function"==typeof l&&l(!0,r,t),102100!=e.spatialReference.wkid&&4326!=e.spatialReference.wkid)return void s.defaults.geometryService.project([r],e.spatialReference,function(e){e&&e[0]&&p(e[0])});p(r)},h,{timeout:2e3})}function p(e){v.clear(),v.add(new a(e,g)),setTimeout(function(){$("#locateLayer_layer image").fadeOut({duration:800})},1e4)}function h(e){l(!1,e)}var f=0,m=$('<div class="esriSimpleSliderIncrementButton"><div class="mapCommandHomeBtn"><i class="fa fa-home" aria-hidden="true"></i></div></div>'),g=new i("app/storymaps/common/_resources/icons/mapcommand-location-marker.png",21,21),v=new o({id:"locateLayer"});m.click(function(){0!==f&&$("body").hasClass("mobile-view")||(r&&"function"==typeof r?r(e._params.extent):e.setExtent(e._params.extent))}),$(e.container).find(".esriSimpleSlider div:nth-child(1)").after(m),this.setMobile=function(t){$(".esriSimpleSlider, .mapCommandHomeBtn",e.container).toggleClass("touch",t)},this.destroy=function(){$(e.container).find(".esriSimpleSliderIncrementButton").remove(),$(e.container).find(".mapCommandLocation").remove()},this.startLoading=function(){c(!0)},this.stopLoading=function(){c(!1)},this.toggleLocationButton=function(t){$(".mapCommandLocation",e.container).toggleClass("hidden",!t)},this.hideHomeButton=function(){m.toggleClass("hidden",!0)},this.showHomeButton=function(){m.toggleClass("hidden",!1)},
navigator&&navigator.geolocation&&($(".esriSimpleSlider",e.container).after('<div class="esriSimpleSlider esriSimpleSliderVertical mapCommandLocation"><i class="fa fa-crosshairs" aria-hidden="true"></i></div>'),$(".mapCommandLocation",e.container).click(d),this.toggleLocationButton(u),e.addLayer(v)),this.setMobile(!!t("touch"))}}),define("lib-build/less!storymaps-react/tpl/view/media/WebMap",[],function(){}),define("storymaps-react/tpl/view/media/WebMap",["module","exports","./Media","lib-build/hbars!./WebMapBlock","lib-build/hbars!./WebMapBackground","lib-build/i18n!resources/tpl/viewer/nls/app","storymaps/tpl/view/media/arcgis/WebMapCommand","esri/arcgis/utils","esri/geometry/Extent","esri/symbols/SimpleMarkerSymbol","esri/geometry/webMercatorUtils","esri/geometry/Point","esri/tasks/query","esri/tasks/QueryTask","esri/config","dojo/_base/lang","dojo/Deferred","storymaps/tpl/utils/UI","lib-build/less!./WebMap"],function(e,t,n,r,i,o,a,s,l,u,c,d,p,h,f,m,g,v){"use strict";function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var C=y(n),E=y(r),x=y(i),T=y(o),S=y(a),I=y(s),k=y(l),P=y(u),M=y(c),O=y(d),A=y(p),R=y(h),N=y(f),j=y(m),L=y(g),D=y(v),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),F=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},H="resources/tpl/builder/icons/media-placeholder/map.png",B="resources/tpl/builder/icons/immersive-panel/map.png",W=function(e){function t(e){b(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"webmap",id:e.id,previewThumb:H,previewIcon:B}));return n._webmap=e,n._bookmarks=null,n._placement=null,n._transition=null,n._swipeLayersNodes=[],n._swipePreviousWebMapLayers=null,n._lastScrollPosition=null,n._webmap.options||(n._webmap.options={interaction:"enabled"}),n._webmap.extras||(n._webmap.extras={locate:{enabled:!1},search:{enabled:!1},legend:{enabled:!1}}),n}return w(t,e),U(t,[{key:"render",value:function(e){var t="";if(!this._webmap||!e)return t;if(this._placement=e.placement,"block"==this._placement){var n=JSON.stringify({extent:this._webmap.extent,layers:this._webmap.layers,legend:this._webmap.legend,layers2:this._webmap.layers2}),r=["block","block-type-webmap"];t+=(0,E.default)({id:this._domID,webmapId:this.id,classes:r.join(" "),options:n,caption:this._webmap.caption,altText:this._webmap.altText,placeholder:T.default.viewer.media.captionPlaceholder,captionEditable:app.isInBuilder,labelExploreStart:T.default.viewer.media.exploreMap,labelExploreStop:T.default.viewer.media.exploreStop})}else t+=(0,x.default)({webmapId:this.id,altText:this._webmap.altText,labelExploreStart:T.default.viewer.media.exploreMap,labelExploreStop:T.default.viewer.media.exploreStop});return t}},{key:"_applyConfig",value:function(){var e=this._webmap.options;F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_applyConfig",this).call(this,e),this._applyInteraction();var n=!(!this._webmap.extent&&!app.isInBuilder);this.performAction({allowExtentUpdate:n}).then(function(){app.isInBuilder&&this._configTabWebMap&&this._configTabWebMap.attachEvents()}.bind(this),function(){})}},{key:"_applyInteraction",value:function(e){var t=this._webmap.options.interaction;if("enabled"===t&&(app.isMobileView||D.default.isMobileBrowser())&&(t="button"),e&&e.isBuilder&&e.builderConfigOpen&&(t="enabled"),this._webmap.options.interaction){var n=$.map(this._node.attr("class").split(" "),function(e){return e.match(/interaction-/)?e:null}).join(" ");this._node.removeClass(n).addClass("interaction-"+t),this._node.find(".interaction-container").removeClass("enabled")}var r=this._cache[this.id]?this._cache[this.id].map:null;r&&("disabled"===t||"button"===t?this._disableMapEvents(r):this._enableMapEvents(r))}},{key:"_preventMapClick",value:function(e){e.stopPropagation()}},{key:"_enableMapEvents",value:function(e){e.enableMapNavigation(),e.disableScrollWheelZoom(),e.disableKeyboardNavigation(),this._node.find(".media-item.map")[0].removeEventListener("click",this._preventMapClick,!0)}},{key:"_disableMapEvents",value:function(e){e.disableMapNavigation(),this._node.find(".media-item.map")[0].addEventListener("click",this._preventMapClick,!0)}},{key:"_onEnableButtonClick",value:function(e,n){F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_onEnableButtonClick",this).call(this,e),this._node.hasClass("interaction-enabled")?this._enableMapEvents(n):this._disableMapEvents(n)}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new L.default;if(this._node&&!this._isLoaded)return this._isLoaded=!0,this.loadMap(this._node.find(".map")[0],t,e),t}},{key:"postCreate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"postCreate",this).call(this,e),e.container&&("block"==this._placement?this._node=e.container.find("#"+this._domID):this._node=e.container.find('.map[data-id="'+this.id+'"]').parent(),this._applyConfig())}},{key:"getNode",value:function(){return this._node}},{key:"resize",value:function(){}},{key:"performAction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new L.default,r=this._cache[this.id]?this._cache[this.id].map:null;if(!1!==e.isActive||e.isNewView){if(!r)return n.reject(),n;e.scrollPositionView&&(this._lastScrollPosition=e.scrollPositionView),e.transition&&(this._transition=e.transition),r.infoWindow&&r.infoWindow.hide();var i=this._webmap,o=!1;if(!0===e.allowExtentUpdate||void 0===e.allowExtentUpdate){var a=null;if(a=i.extent?new k.default(i.extent):this._getWebMapExtentFromItemExtent(this._cache[this.id].itemInfo.item.extent),JSON.stringify(a.toJson())!=this._cache[this.id].lastExtentApplied||e.forceSetExtent){this._cache[this.id].lastExtentApplied=JSON.stringify(a.toJson()),o=!0;var s=function(e){r.setExtent(e,!1).then(function(){i.popup&&t._applyPopupConfiguration(r,i.popup),n.resolve()}.bind(this),function(){n.resolve()})}.bind(this);r.spatialReference.wkid==a.spatialReference.wkid?s(a):N.default.defaults.geometryService.project([a],r.spatialReference,function(e){e&&e[0]&&s(e[0])}.bind(this))}}else n.resolve();if(i.popup&&!o&&t._applyPopupConfiguration(r,i.popup),JSON.stringify(i.layers)!=this._cache[this.id].lastLayersApplied){this._cache[this.id].lastLayersApplied=JSON.stringify(i.layers);var l=i.layers||[],u=this._cache[i.id].itemInfo.itemData.operationalLayers;$.each(u,function(e,t){var n;t.layerObject?(n=$(l).filter(function(e,n){return n.id==t.layerObject.id}),t.layerObject.setVisibility(n.length?n[0].visibility:t.visibility)):t.featureCollection&&t.featureCollection.layers&&$.each(t.featureCollection.layers,function(e,t){n=$(l).filter(function(e,n){return n.id.split("_").slice(0,-1).join("_")==t.layerObject.id.split("_").slice(0,-1).join("_")}),t.layerObject.setVisibility(n.length?n[0].visibility:t.visibility)})})}if("swipe-vertical"==this._transition||"swipe-horizontal"==this._transition){if(this._swipeLayersNodes&&this._swipeLayersNodes.length){var c=app.display.windowHeight;app.isInBuilder&&(c-=125);var d=c-1.3*this._lastScrollPosition,p=!0,h=!1,f=void 0;try{for(var m,g=this._swipeLayersNodes[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var v=m.value,y=v.node,b=d,_=app.display.windowWidth,w=app.display.windowHeight,C=0;if(!v.isSVGLayer){var E=y.position();b+=-E.top,_+=-E.left,w+=-E.top,C+=-E.left}y.css("clip","rect("+b+"px,"+_+"px,"+w+"px,"+C+"px)"),y.data("sm-swipe-pos",d)}}catch(e){h=!0,f=e}finally{try{!p&&g.return&&g.return()}finally{if(h)throw f}}}}else this.resetSwipe();e.doNotApplyInteraction||this._applyInteraction();var x=!1;return this._webmap.extras&&this._webmap.extras.locate&&this._webmap.extras.locate.enabled&&(x=!0),this._cache[this.id].mapCommand.toggleLocationButton(x),n}}},{key:"resetSwipe",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._swipeLayersNodes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=o.node;a.css("clip",""),a.data("sm-swipe-pos","")}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"loadMap",value:function(e,t,n){var r=this,i={mapOptions:{smartNavigation:!1},usePopupManager:!0,editable:!1,bingMapsKey:app.cfg.BING_MAPS_KEY,layerMixins:app.data.appProxies||null};this._webmap.extent&&(i.mapOptions.extent=new k.default(this._webmap.extent)),this._node.addClass("media-is-loading"),$(e).css("pointer-events","none"),I.default.createMap(this.id,e,i).then(j.default.hitch(this,function(r){var i=this,o=r.map;this._fadeInMedia(),$(e).css("pointer-events",""),o.disableScrollWheelZoom(),o.disableKeyboardNavigation(),o.reposition(),o.resize(),$(e).find(".esriAttribution ~ div, .esriSimpleSlider div").attr("tabindex","-1"),this._cache[this.id]=r,app.isInBuilder&&this._onWebMapLoaded(),this._bookmarks=r.itemInfo.itemData.bookmarks,o.infoWindow&&(o.infoWindow.markerSymbol=(new P.default).setSize(0)),t.resolve(this.id),this._node.find(".interaction-container").click(function(e){i._onEnableButtonClick(e,o)}),this._cache[this.id].mapCommand=new S.default(o,this._onMapCommandHomeClick.bind(this),this._zoomToBrowserLocation.bind(this),!1),n&&!1===n.isUniqueInSection&&this.hideHomeButton(),this._cache[this.id].lastExtentApplied=null,this._cache[this.id].lastLayersApplied=null,this._applyConfig()}),function(e){console.warn("on loading webmap "+r.id+", err",e),r._node.removeClass("media-is-loading").find(".media-loading").hide(),app.builder?r.setError({showLoadingError:!0}):r.setError({minimizeInViewer:!0})})}},{key:"postLoad",value:function(){var e=this._cache[this.id].map;this.computeSwipeLayers(this._swipePreviousWebMapLayers),e.on("pan",function(){if(this._swipeLayersNodes&&this._isActive){var e=!0,t=!1,n=void 0;try{for(var r,i=this._swipeLayersNodes[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value,a=o.node,s=a.data("sm-swipe-pos"),l=s,u=app.display.windowWidth,c=app.display.windowHeight,d=0;if(!o.isSVGLayer){var p=a.position();l+=-p.top,u+=-p.left,c+=-p.top,d+=-p.left}a.css("clip","rect("+l+"px,"+u+"px,"+c+"px,"+d+"px)")}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}})}},{key:"_zoomToBrowserLocation",value:function(e,t){var n=this._cache[this.id]?this._cache[this.id].map:null;e&&(102100!=n.spatialReference.wkid&&4326!=n.spatialReference.wkid?N.default.defaults.geometryService.project([t],n.spatialReference,function(e){e&&e[0]&&(n.extent.contains(e[0])||n.centerAt(e[0]))}):n.extent.contains(t)||n.centerAt(t))}},{key:"_onMapCommandHomeClick",value:function(){this.performAction({doNotApplyInteraction:!0,forceSetExtent:!0})}},{key:"computeSwipeLayers",value:function(e){if(this._swipeLayersNodes=[],this._swipePreviousWebMapLayers=[],e=e||[],this._webmap.layers=this._webmap.layers||[],!this._cache[this.id])return void(this._swipePreviousWebMapLayers=j.default.clone(e));var t=[],n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;t.push(JSON.stringify(l))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}var u=!0,c=!1,d=void 0;try{for(var p,h=this._webmap.layers[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var f=p.value;n.push(JSON.stringify(f))}}catch(e){c=!0,d=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}var m=!0,g=!1,v=void 0;try{for(var y,b=t[Symbol.iterator]();!(m=(y=b.next()).done);m=!0){var _=y.value;if(-1==n.indexOf(_)){var w=JSON.parse(_);!1===w.visibility&&n.push(JSON.stringify({id:w.id,visibility:!0}))}}}catch(e){g=!0,v=e}finally{try{!m&&b.return&&b.return()}finally{if(g)throw v}}var C=new Set(t),E=n.filter(function(e){return!C.has(e)}),x=!0,T=!0,S=!1,I=void 0;try{for(var k,P=E[Symbol.iterator]();!(T=(k=P.next()).done);T=!0){var M=k.value,O=JSON.parse(M).id,A=this._cache[this.id].map.getLayer(O);if(A){var R=A._div,N=!1;if(R&&R.rawNode){if(!x)continue;R=$(R.rawNode).parent()[0],N=!0,x=!1}this._swipeLayersNodes.push({node:$(R),isSVGLayer:N})}}}catch(e){S=!0,I=e}finally{try{!T&&P.return&&P.return()}finally{if(S)throw I}}}},{key:"serialize",value:function(e){return F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"serialize",this).call(this,"webmap",this._webmap,e)}},{key:"getAuthorizedTransitionsWith",value:function(e){if(!e||e.id!=this.id)return[];var t=this.serialize(!1).webmap,n=JSON.stringify(t.extent)||"null",r=JSON.stringify(t.layers)||"[]",i=JSON.stringify(t.popup)||"null",o=e.serialize(!1).webmap,a=JSON.stringify(o.extent)||"null",s=JSON.stringify(o.layers)||"[]";return i!=(JSON.stringify(o.popup)||"null")||n!=a?[]:r==s?[]:["swipe-vertical"]}},{key:"getLayersConfiguration",value:function(){return this._webmap.layers}},{key:"_getWebMapExtentFromItemExtent",value:function(e){if(!e||2!=e.length)return null;var t=M.default.geographicToWebMercator(new O.default(e[0][0],e[0][1])),n=M.default.geographicToWebMercator(new O.default(e[1][0],e[1][1]));return new k.default({xmax:n.x,xmin:t.x,ymax:n.y,ymin:t.y,spatialReference:{wkid:102100}})}},{key:"hideHomeButton",value:function(){this._cache[this.id]&&this._cache[this.id].mapCommand&&this._cache[this.id].mapCommand.hideHomeButton()}},{key:"showHomeButton",value:function(){this._cache[this.id]&&this._cache[this.id].mapCommand&&this._cache[this.id].mapCommand.showHomeButton()}}],[{key:"_applyPopupConfiguration",value:function(e,n){if(e.infoWindow.hide(),n){var r=e.getLayer(n.layerId),i=n.layerId?n.layerId.split("_").slice(0,-1).join("_"):"",o=e.getLayer(i);if(e.infoWindow.clearFeatures(),r)if(r.updating)var a=r.on("update-end",function(){a.remove(),t._applyPopupConfigurationStep2(e,n)});else t._applyPopupConfigurationStep2(e,n);else if(o){var s=n.layerId.split("_").slice(-1).join("_"),l=o.url+"/"+s;t._applyPopupConfigurationStep2Alt(e,n,i,s,l)}else var u=e.on("update-end",function(){u.remove(),t._applyPopupConfiguration(e,n)})}}},{key:"_applyPopupConfigurationStep2",value:function(e,n){var r=new A.default,i=e.getLayer(n.layerId);i&&(r.objectIds=[n.fieldValue],i._collection||(r.returnGeometry=!0,r.outFields=["*"],r.outSpatialReference=e.spatialReference),i.queryFeatures&&i.queryFeatures(r).then(function(r){t._applyPopupConfigurationStep3(e,n,r.features)}.bind(this)))}},{key:"_applyPopupConfigurationStep2Alt",value:function(e,n,r,i,o){var a=new R.default(o),s=new A.default;e.getLayer(r)&&(s.objectIds=[n.fieldValue],s.returnGeometry=!0,s.outFields=["*"],s.outSpatialReference=e.spatialReference,a.execute(s,function(o){t._applyPopupConfigurationStep3(e,n,o.features,r,i)}.bind(this)))}},{key:"_applyPopupConfigurationStep3",value:function(e,t,n,r,i){if(e&&t&&n&&n.length){var o=n[0].geometry,a=null;a=t.anchorPoint?new O.default(t.anchorPoint):o.getExtent()?o.getExtent().getCenter():o,r?(n[0].infoTemplate=e.getLayer(r).infoTemplates[i].infoTemplate,e.infoWindow.setContent(n[0].getContent())):e.infoWindow.setFeatures(n),e.infoWindow.show(a),e.extent.contains(a)||e.centerAt(a)}}}]),t}(C.default);t.default=W,e.exports=t.default}),define("storymaps-react/tpl/print/media/Webmap",["module","exports","react","./Text","esri/arcgis/utils","esri/geometry/Extent","esri/symbols/SimpleMarkerSymbol","storymaps-react/tpl/view/media/WebMap"],function(e,t,n,r,i,o,a,s){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var p=l(n),h=l(r),f=l(i),m=l(o),g=l(a),v=l(s),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loadStarted:!1,mapLoaded:!1},n.map=null,n}return d(t,e),y(t,[{key:"componentDidMount",value:function(){this.loadMap()}},{key:"loadMap",value:function(){var e=this,t=this.props.media,n={usePopupManager:!0,editable:!1,bingMapsKey:app.cfg.BING_MAPS_KEY,layerMixins:app.data.appProxies||null,mapOptions:{smartNavigation:!1}};t.extent&&(n.mapOptions.extent=new m.default(t.extent)),this.setState({loadStarted:!0}),f.default.createMap(t.id,this.mapContainer,n).then(function(n){e.handleMapResponse(n,t)})}},{key:"handleMapResponse",value:function(e,t){this.setState({mapLoaded:!0});var n=e.map;if(n.disableScrollWheelZoom(),n.disableKeyboardNavigation(),n.reposition(),n.resize(),t.layers&&t.layers.length){e.itemInfo.itemData.operationalLayers.forEach(function(e){var n=void 0;e.layerObject?(t.layers.some(function(t){return t.id===e.layerObject.id&&(n=t.visibility,!0)}),e.layerObject.setVisibility(void 0!==n?n:e.visibility)):e.featureCollection&&e.featureCollection.layers&&e.featureCollection.layers.forEach(function(r){var i=r.layerObject.id.split("_").slice(0,-1).join("_");t.layers.some(function(e){return e.id.split("_").slice(0,-1).join("_")===i&&(n=e.visibility,!0)}),r.layerObject.setVisibility(void 0!==n?n:e.visibility)})})}t.popup&&v.default._applyPopupConfiguration(n,t.popup),n.infoWindow&&(n.infoWindow.markerSymbol=(new g.default).setSize(0)),this.map=n}},{key:"render",value:function(){var e=this,t=this.props.media,n="media-wrapper";return t.options.size&&(n+=" media-"+t.options.size),p.default.createElement("div",{className:n},p.default.createElement("div",{ref:function(t){e.mapContainer=t},className:"map-view"},this.state.loadStarted?null:p.default.createElement("button",{onClick:function(){return e.loadMap()},className:"loading"},"Reload webmap")),t.caption?p.default.createElement(h.default,{text:t.caption,tag:"figcaption"}):null)}},{key:"componentWillUnmount",value:function(){this.map&&this.map.destroy()}}],[{key:"isDuplicate",value:function(e,t){var n=e.layers?e.layers.length:0,r=t.layers?t.layers.length:0,i=!1,o=!1,a=!1;if(n||r||(i=!0),n!==r&&(i=!1),e.extent||t.extent)if(e.extent&&t.extent){var s=e.extent,l=t.extent;o=s.xmin===l.xmin&&s.xmax===l.xmax&&s.ymin===l.ymin&&s.ymax===l.ymax}else o=!1;else o=!0;if(e.popup||t.popup)if(e.popup&&t.popup){var u=e.popup,c=t.popup;a=u.layerId===c.layerId&&u.fieldName===c.fieldName&&u.fieldValue===c.fieldValue}else a=!1;else a=!0;return i&&o&&a}}]),t}(n.Component);t.default=b,e.exports=t.default}),define("storymaps-react/tpl/print/media/Webscene",["module","exports","react","./Text","esri/IdentityManager"],function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=o(n),c=o(r),d=o(i),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={sceneStarted:!1,sceneLoaded:!1},n.loadJsapi4(),n.sceneView=null,n}return l(t,e),p(t,[{key:"loadJsapi4",value:function(){require(["esri4/config","esri4/core/urlUtils","esri4/identity/IdentityManager","esri4/identity/OAuthInfo","esri4/views/SceneView","esri4/portal/PortalItem","esri4/WebScene","esri4/core/watchUtils","lib-build/css!esri4/css/main.css"],function(e,t,n,r,i,o,a,s){this.esriConfig4=e,this.urlUtils4=t,this.IdentityManager4=n,this.OAuthInfo4=r,this.SceneView4=i,this.PortalItem4=o,this.WebScene4=a,this.watchUtils4=s,this.transferStuffToJsapi4(),this.loadWebscene()}.bind(this))}},{key:"transferStuffToJsapi4",value:function(){var e=app.indexCfg.sharingurl.split("/sharing/")[0];this.transferPortalUrl(e),this.setupWorkers(),this.transferProxySettings(),this.initPortal(e)}},{key:"transferPortalUrl",value:function(e){this.esriConfig4.portalUrl=e}},{key:"setupWorkers",value:function(){this.esriConfig4.workers.loaderUrl=app.pathJSAPI4+"dojo/dojo.js",this.esriConfig4.workers.loaderConfig={baseUrl:app.pathJSAPI4+"dojo",packages:[{name:"esri4",location:"../esri"},{name:"esri",location:"../esri"},{name:"dojo",location:"."},{name:"dojox",location:"../dojox"},{name:"dstore",location:"../dstore"},{name:"moment",location:"../moment"},{name:"@dojo",location:"../@dojo"},{name:"cldrjs",location:"../cldrjs",main:"dist/cldr"},{name:"globalize",location:"../globalize",main:"dist/globalize"},{name:"maquette",location:"../maquette",main:"dist/maquette.umd"},{name:"maquette-css-transitions",location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",location:"../maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",location:"../tslib",main:"tslib"}]}}},{key:"transferProxySettings",value:function(){this.esriConfig4.request.proxyUrl=location.protocol+app.indexCfg.proxyUrl,app.cfg.PROXY_RULES&&app.cfg.PROXY_RULES.length&&$.each(app.cfg.PROXY_RULES,function(e,t){t&&t.urlPrefix&&t.proxyUrl&&this.urlUtils4.addProxyRule(t)})}},{key:"initPortal",value:function(e){var t=new this.OAuthInfo4({appId:app.indexCfg.oAuthAppId,popup:!1,portalUrl:"https:"+e});this.IdentityManager4.registerOAuthInfos([t])}},{key:"transferCredentials",value:function(){var e=d.default.toJson().credentials,t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.IdentityManager4.registerToken(a)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"loadWebscene",value:function(){var e=this;this.setState({sceneStarted:!0});var t=this.props.media,n=new this.WebScene4({portalItem:new this.PortalItem4({id:t.id})});this.sceneView=new this.SceneView4({map:n,container:this.sceneContainer}),this.sceneView.when(function(){e.sceneView.ui.move("zoom","bottom-right"),e.sceneView.ui.move("compass","bottom-right"),e.sceneView.ui.remove("navigation-toggle"),void 0!==t.slide&&-1!==t.slide&&e.watchUtils4.init(n,"presentation.slides",function(n){n&&n.items&&n.items.length&&e.sceneView.when(function(){n.items[t.slide].applyTo(e.sceneView,{animate:!1})})})}),this.sceneView.surface.addEventListener("wheel",function(e){e.stopImmediatePropagation()},!0)}},{key:"render",value:function(){var e=this,t=this.props.media,n="media-wrapper";return t.options.size&&(n+=" media-"+t.options.size),u.default.createElement("div",{className:n},u.default.createElement("div",{ref:function(t){e.sceneContainer=t},className:"scene-view"}),t.caption?u.default.createElement(c.default,{text:t.caption,tag:"figcaption"}):null)}}],[{key:"isDuplicate",value:function(e,t){var n=!1,r=void 0===e.slide||e.slide<0,i=void 0===t.slide||t.slide<0;return r&&i?n=!0:r||i?n=!1:e.slide===t.slide&&(n=!0),n}}]),t}(n.Component);t.default=h,e.exports=t.default}),define("storymaps-react/tpl/print/media/MediaFactory",["module","exports","react","./ImageBackground","./ImageBlock","./Video","./Audio","./Webpage","./Webmap","./Webscene"],function(e,t,n,r,i,o,a,s,l,u){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=c(n),m=c(r),g=c(i),v=c(o),y=c(a),b=c(s),_=c(l),w=c(u),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),C(t,[{key:"renderDevError",value:function(e,t){return f.default.createElement("div",{className:"missing-type-error"},"MISSING: Media type ",t)}},{key:"render",value:function(){var e=this.props.media;if(!e)return null;this.props.useAltMedia&&e.alternate&&e.alternate.type&&(e=e.alternate[e.alternate.type]||e.alternate);var t=e.type,n=e[t]||e,r=n.options.size;return"image"===t?"background"===r?f.default.createElement(m.default,{media:n,themeClass:this.props.themeClass||null}):f.default.createElement(g.default,{media:n,themeClass:this.props.themeClass||null}):"video"===t?f.default.createElement(v.default,{media:n,themeClass:this.props.themeClass||null}):"audio"===t?f.default.createElement(y.default,{media:n}):"webpage"===t?f.default.createElement(b.default,{media:n}):"webmap"===t?f.default.createElement(_.default,{media:n}):"webscene"===t?f.default.createElement(w.default,{media:n}):(console.warn("media type not found?",e,n),this.renderDevError(e,t))}}]),t}(n.Component);t.default=E,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/SectionNumber",[],function(){}),define("storymaps-react/tpl/print/section/SectionNumber",["module","exports","react","lib-build/i18n!resources/tpl/viewer/nls/app","lib-build/less!../styles/SectionNumber"],function(e,t,n,r){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){return e&&e.__esModule?e:{default:e}}(n),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r.print.sections,c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=u.sectionLabel.replace("${SECTION_NUMBER}",this.props.num);return s.default.createElement("div",{className:"section-number"},e)}}]),t}(n.Component);t.default=c,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/Cover",[],function(){}),define("storymaps-react/tpl/print/section/Cover",["module","exports","react","../media/MediaFactory","./SectionNumber","storymaps-react/tpl/view/media/Media","lib-build/less!../styles/Cover"],function(e,t,n,r,i,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=a(n),d=a(r),p=a(i),h=a(o),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"renderHeader",value:function(){var e=this.props.header,t=null,n=null;if(e.logo&&e.logo.enabled){var r=h.default.addToken(e.logo.url),i="logo-img"+(r.match("esri-logo")?"":" not-esri");t=c.default.createElement("a",{className:"logoLink",href:e.logo.link,target:"_blank",alt:"Link to organization"},c.default.createElement("img",{className:i,src:r,alt:"Logo"}))}return e.link&&(n=c.default.createElement("a",{className:"tagline",href:e.link.url,target:"_blank",alt:"Secondary organizational link"},e.link.title)),c.default.createElement("div",{className:"cover-header"},t,n)}},{key:"render",value:function(){var e=this.props.section,t=e.foreground,n=e.background,r=t.options.titleStyle,i=n[n.type]||n;i.type=i.type||n.type,n.alternate&&(i.alternate=n.alternate[n.alternate.type]||n.alternate,i.alternate.options=i.alternate.options||{},Object.assign(i.alternate.options,{size:"background"})),i.options=i.options||{},Object.assign(i.options,{size:"background"});var o="text-"+r.text+" "+(r.shadow?"text-shadow":"");return c.default.createElement("div",{className:"cover"},c.default.createElement(p.default,{num:this.props.index}),c.default.createElement(d.default,{media:i,useAltMedia:this.props.useAltMedia,themeClass:this.props.appThemeClass}),this.renderHeader(),c.default.createElement("div",{className:"cover-text bg-"+(r.background||"none")},c.default.createElement("h1",{className:"title "+o},t.title),t.subtitle?c.default.createElement("h2",{className:"subtitle "+o},t.subtitle):null))}}]),t}(n.Component);t.default=m,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/Title",[],function(){}),define("storymaps-react/tpl/print/section/Title",["module","exports","react","../media/ImageBackground","./SectionNumber","lib-build/less!../styles/Title"],function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){
if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=o(n),c=o(r),d=o(i),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),p(t,[{key:"getTextClasses",value:function(e,t){return t?["title","bg-"+(e.background||"none"),"text-"+e.text,e.shadow?"text-shadow":""].join(" "):"title"}},{key:"render",value:function(){var e=this.props.section,t=e.background,n=e.foreground,r=n.options.titleStyle,i=n.title;return u.default.createElement("div",{className:"title-section"},u.default.createElement(d.default,{num:this.props.index}),u.default.createElement(c.default,{media:t.image,themeClass:this.props.appThemeClass||null}),u.default.createElement("div",{className:"title-text"},u.default.createElement("h1",{className:this.getTextClasses(r,i)},i)))}}]),t}(n.Component);t.default=h,e.exports=t.default}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return Z.call(t,e)>-1!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(_e)||[],function(e,n){t[n]=!0}),t}function a(){Q.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),oe.ready()}function s(){this.expando=oe.expando+s.uid++}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ie,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Se.test(n)?oe.parseJSON(n):n)}catch(e){}Te.set(e,t,n)}else n=void 0;return n}function u(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return oe.css(e,t,"")},l=s(),u=n&&n[3]||(oe.cssNumber[t]?"":"px"),c=(oe.cssNumber[t]||"px"!==u&&+l)&&Pe.exec(oe.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{o=o||".5",c/=o,oe.style(e,t,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function c(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function d(e,t){for(var n=0,r=e.length;r>n;n++)xe.set(e[n],"globalEval",!t||xe.get(t[n],"globalEval"))}function p(e,t,n,r,i){for(var o,a,s,l,u,p,h=t.createDocumentFragment(),f=[],m=0,g=e.length;g>m;m++)if((o=e[m])||0===o)if("object"===oe.type(o))oe.merge(f,o.nodeType?[o]:o);else if(Le.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(Re.exec(o)||["",""])[1].toLowerCase(),l=je[s]||je._default,a.innerHTML=l[1]+oe.htmlPrefilter(o)+l[2],p=l[0];p--;)a=a.lastChild;oe.merge(f,a.childNodes),a=h.firstChild,a.textContent=""}else f.push(t.createTextNode(o));for(h.textContent="",m=0;o=f[m++];)if(r&&oe.inArray(o,r)>-1)i&&i.push(o);else if(u=oe.contains(o.ownerDocument,o),a=c(h.appendChild(o),"script"),u&&d(a),n)for(p=0;o=a[p++];)Ne.test(o.type||"")&&n.push(o);return h}function h(){return!0}function f(){return!1}function m(){try{return Q.activeElement}catch(e){}}function g(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)g(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=f;else if(!i)return e;return 1===o&&(a=i,i=function(e){return oe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,i,r,n)})}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=ze.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(xe.hasData(e)&&(o=xe.access(e),a=xe.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)oe.event.add(t,i,u[i][n])}Te.hasData(e)&&(s=Te.access(e),l=oe.extend({},s),Te.set(t,l))}}function w(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ae.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function C(e,t,n,r){t=X.apply([],t);var i,o,a,s,l,u,d=0,h=e.length,f=h-1,m=t[0],g=oe.isFunction(m);if(g||h>1&&"string"==typeof m&&!re.checkClone&&We.test(m))return e.each(function(i){var o=e.eq(i);g&&(t[0]=m.call(this,i,o.html())),C(o,t,n,r)});if(h&&(i=p(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=oe.map(c(i,"script"),y),s=a.length;h>d;d++)l=i,d!==f&&(l=oe.clone(l,!0,!0),s&&oe.merge(a,c(l,"script"))),n.call(e[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,oe.map(a,b),d=0;s>d;d++)l=a[d],Ne.test(l.type||"")&&!xe.access(l,"globalEval")&&oe.contains(u,l)&&(l.src?oe._evalUrl&&oe._evalUrl(l.src):oe.globalEval(l.textContent.replace(Ve,"")))}return e}function E(e,t,n){for(var r,i=t?oe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||oe.cleanData(c(r)),r.parentNode&&(n&&oe.contains(r.ownerDocument,r)&&d(c(r,"script")),r.parentNode.removeChild(r));return e}function x(e,t){var n=oe(t.createElement(e)).appendTo(t.body),r=oe.css(n[0],"display");return n.detach(),r}function T(e){var t=Q,n=qe[e];return n||(n=x(e,t),"none"!==n&&n||(Ge=(Ge||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ge[0].contentDocument,t.write(),t.close(),n=x(e,t),Ge.detach()),qe[e]=n),n}function S(e,t,n){var r,i,o,a,s=e.style;return n=n||Qe(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),n&&!re.pixelMarginRight()&&$e.test(a)&&Ye.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e){if(e in nt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}function P(e,t,n){var r=Pe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function M(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=oe.css(e,n+Me[o],!0,i)),r?("content"===n&&(a-=oe.css(e,"padding"+Me[o],!0,i)),"margin"!==n&&(a-=oe.css(e,"border"+Me[o]+"Width",!0,i))):(a+=oe.css(e,"padding"+Me[o],!0,i),"padding"!==n&&(a+=oe.css(e,"border"+Me[o]+"Width",!0,i)));return a}function O(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Qe(e),a="border-box"===oe.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=S(e,t,o),(0>i||null==i)&&(i=e.style[t]),$e.test(i))return i;r=a&&(re.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+M(e,t,n||(a?"border":"content"),r,o)+"px"}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=xe.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Oe(r)&&(o[a]=xe.access(r,"olddisplay",T(r.nodeName)))):(i=Oe(r),"none"===n&&i||xe.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function R(e,t,n,r,i){return new R.prototype.init(e,t,n,r,i)}function N(){return e.setTimeout(function(){rt=void 0}),rt=oe.now()}function j(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=Me[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(F.tweeners[t]||[]).concat(F.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function D(e,t,n){var r,i,o,a,s,l,u,c=this,d={},p=e.style,h=e.nodeType&&Oe(e),f=xe.get(e,"fxshow");n.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=oe.css(e,"display"),"inline"===("none"===u?xe.get(e,"olddisplay")||T(e.nodeName):u)&&"none"===oe.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],ot.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!f||void 0===f[r])continue;h=!0}d[r]=f&&f[r]||oe.style(e,r)}else u=void 0;if(oe.isEmptyObject(d))"inline"===("none"===u?T(e.nodeName):u)&&(p.display=u);else{f?"hidden"in f&&(h=f.hidden):f=xe.access(e,"fxshow",{}),o&&(f.hidden=!h),h?oe(e).show():c.done(function(){oe(e).hide()}),c.done(function(){var t;xe.remove(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(r in d)a=L(h?f[r]:0,r,c),r in f||(f[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function U(e,t){var n,r,i,o,a;for(n in e)if(r=oe.camelCase(n),i=t[r],o=e[n],oe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=oe.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function F(e,t,n){var r,i,o=0,a=F.prefilters.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=rt||N(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||N(),duration:n.duration,tweens:[],createTween:function(t,n){var r=oe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(U(c,u.opts.specialEasing);a>o;o++)if(r=F.prefilters[o].call(u,e,c,u.opts))return oe.isFunction(r.stop)&&(oe._queueHooks(u.elem,u.opts.queue).stop=oe.proxy(r.stop,r)),r;return oe.map(c,L,u),oe.isFunction(u.opts.start)&&u.opts.start.call(e,u),oe.fx.timer(oe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(_e)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function W(e,t,n,r){function i(s){var l;return o[s]=!0,oe.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Tt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function z(e,t){var n,r,i=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&oe.extend(!0,e,r),e}function V(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function G(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function q(e,t,n,r){var i;if(oe.isArray(t))oe.each(t,function(t,i){n||Pt.test(e)?r(e,i):q(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==oe.type(t))r(e,t);else for(i in t)q(e+"["+i+"]",t[i],n,r)}function Y(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var $=[],Q=e.document,K=$.slice,X=$.concat,J=$.push,Z=$.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},ie="2.2.4",oe=function(e,t){return new oe.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ie,constructor:oe,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:$.sort,splice:$.splice},oe.extend=oe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(oe.isPlainObject(r)||(i=oe.isArray(r)))?(i?(i=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},a[t]=oe.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},oe.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=oe.trim(e))&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(le,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;r>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):J.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;o>i;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;i>a;a++)null!=(o=t(e[a],a,r))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,r))&&s.push(o);return X.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e)?(r=K.call(arguments,2),i=function(){return e.apply(t||this,r.concat(K.call(arguments)))},i.guid=e.guid=e.guid||oe.guid++,i):void 0},now:Date.now,support:re}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=$[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,r){var i,o,a,s,u,d,p,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:U)!==M&&P(t),t=t||M,A)){if(11!==m&&(d=me.exec(e)))if(i=d[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&L(t,a)&&a.id===i)return n.push(a),n}else{if(d[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=d[3])&&b.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(b.qsa&&!z[e+" "]&&(!R||!R.test(e))){if(1!==m)f=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ve,"\\$&"):t.setAttribute("id",s=D),p=E(e),o=p.length,u=ce.test(s)?"#"+s:"[id='"+s+"']";o--;)p[o]=u+" "+c(p[o]);h=p.join(","),f=ge.test(e)&&l(t.parentNode)||t}if(h)try{return K.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{s===D&&t.removeAttribute("id")}}}return T(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[D]=!0,e}function i(e){var t=M.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function c(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=H++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u,c=[F,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[D]||(t[D]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[r])&&s[0]===F&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function f(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[D]&&(i=m(i)),o&&!o[D]&&(o=m(o,a)),r(function(r,a,s,l){var u,c,d,p=[],m=[],g=a.length,v=r||h(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:f(v,p,e,s,l),b=n?o||(r?e:g||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=f(b,m),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[m[c]]=!(y[m[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?J(r,d):p[c])>-1&&(r[u]=!(a[u]=d))}}else b=f(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function g(e){for(var t,n,r,i=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,l=d(function(e){return e===t},a,!0),u=d(function(e){return J(t,e)>-1},a,!0),h=[function(e,n,r){var i=!o&&(r||n!==S)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>s;s++)if(n=_.relative[e[s].type])h=[d(p(h),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[D]){for(r=++s;i>r&&!_.relative[e[r].type];r++);return m(s>1&&p(h),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,r>s&&g(e.slice(s,r)),i>r&&g(e=e.slice(r)),i>r&&c(e))}h.push(n)}return p(h)}function v(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,p,h=0,m="0",g=r&&[],v=[],y=S,b=r||o&&_.find.TAG("*",u),w=F+=null==y?1:Math.random()||.1,C=b.length;for(u&&(S=a===M||a||u);m!==C&&null!=(c=b[m]);m++){if(o&&c){for(d=0,a||c.ownerDocument===M||(P(c),s=!A);p=e[d++];)if(p(c,a||M,s)){l.push(c);break}u&&(F=w)}i&&((c=!p&&c)&&h--,r&&g.push(c))}if(h+=m,i&&m!==h){for(d=0;p=n[d++];)p(g,v,a,s);if(r){if(h>0)for(;m--;)g[m]||v[m]||(v[m]=$.call(l));v=f(v)}K.apply(l,v),u&&!r&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return u&&(F=w,S=y),g};return i?r(a):a}var y,b,_,w,C,E,x,T,S,I,k,P,M,O,A,R,N,j,L,D="sizzle"+1*new Date,U=e.document,F=0,H=0,B=n(),W=n(),z=n(),V=function(e,t){return e===t&&(k=!0),0},G=1<<31,q={}.hasOwnProperty,Y=[],$=Y.pop,Q=Y.push,K=Y.push,X=Y.slice,J=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(re),ce=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_e=function(){P()};try{K.apply(Y=X.call(U.childNodes),U.childNodes),Y[U.childNodes.length].nodeType}catch(e){K={apply:Y.length?function(e,t){Q.apply(e,X.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}b=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:U;return r!==M&&9===r.nodeType&&r.documentElement?(M=r,O=M.documentElement,A=!C(M),(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=fe.test(M.getElementsByClassName),b.getById=i(function(e){return O.appendChild(e).id=D,!M.getElementsByName||!M.getElementsByName(D).length}),b.getById?(_.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}},_.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(ye,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},_.find.CLASS=b.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&A?t.getElementsByClassName(e):void 0},N=[],R=[],(b.qsa=fe.test(M.querySelectorAll))&&(i(function(e){O.appendChild(e).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+D+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+D+"+*").length||R.push(".#.+[+~]")}),i(function(e){var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(b.matchesSelector=fe.test(j=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){b.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),N.push("!=",re)}),R=R.length&&new RegExp(R.join("|")),N=N.length&&new RegExp(N.join("|")),t=fe.test(O.compareDocumentPosition),L=t||fe.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return k=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===M||e.ownerDocument===U&&L(U,e)?-1:t===M||t.ownerDocument===U&&L(U,t)?1:I?J(I,e)-J(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return k=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===M?-1:t===M?1:i?-1:o?1:I?J(I,e)-J(I,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===U?-1:l[r]===U?1:0},M):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&P(e),n=n.replace(le,"='$1']"),b.matchesSelector&&A&&!z[n+" "]&&(!N||!N.test(n))&&(!R||!R.test(n)))try{var r=j.call(e,n);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&P(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&P(e);var n=_.attrHandle[t.toLowerCase()],r=n&&q.call(_.attrHandle,t.toLowerCase())?n(e,t,!A):void 0;return void 0!==r?r:b.attributes||!A?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(k=!b.detectDuplicates,I=!b.sortStable&&e.slice(0),e.sort(V),k){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return I=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},_=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,h,f,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&y){for(p=g,d=p[D]||(p[D]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],h=u[0]===F&&u[1],b=h&&u[2],p=h&&g.childNodes[h];p=++h&&p&&p[m]||(b=h=0)||f.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[F,h,b];break}}else if(y&&(p=t,d=p[D]||(p[D]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],h=u[0]===F&&u[1],b=h),!1===b)for(;(p=++h&&p&&p[m]||(b=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&(d=p[D]||(p[D]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),c[e]=[F,b]),p!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[D]?o(n):o.length>1?(i=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=J(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=x(e.replace(oe,"$1"));return i[D]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,be),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,be).toLowerCase(),function(t){var n;do{
if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[0>n?n+t:n]}),even:s(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},_.pseudos.nth=_.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})_.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return u.prototype=_.filters=_.pseudos,_.setFilters=new u,E=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=_.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in _.filter)!(i=de[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},x=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=g(t[n]),o[D]?r.push(o):i.push(o);o=z(e,v(i,r)),o.selector=e}return o},T=t.select=function(e,t,n,r){var i,o,a,s,u,d="function"==typeof e&&e,p=!r&&E(e=d.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&A&&_.relative[o[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(ye,be),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!_.relative[s=a.type]);)if((u=_.find[s])&&(r=u(a.matches[0].replace(ye,be),ge.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&c(o)))return K.apply(n,r),n;break}}return(d||x(e,p))(r,t,!A,n,!t||ge.test(e)&&l(t.parentNode)||t),n},b.sortStable=D.split("").sort(V).join("")===D,b.detectDuplicates=!!k,P(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var de=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&oe(e).is(n))break;r.push(e)}return r},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},he=oe.expr.match.needsContext,fe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;n>t;t++)if(oe.contains(i[t],this))return!0}));for(t=0;n>t;t++)oe.find(e,i[t],r);return r=this.pushStack(n>1?oe.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&he.test(e)?oe(e):e||[],!1).length}});var ge,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(oe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ge,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),fe.test(r[1])&&oe.isPlainObject(t))for(r in t)oe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=Q.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))}).prototype=oe.fn,ge=oe(Q);var ye=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=he.test(e)||"string"!=typeof e?oe(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Z.call(oe(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,n){return de(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,n){return de(e,"nextSibling",n)},prevUntil:function(e,t,n){return de(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,r){var i=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(be[e]||oe.uniqueSort(i),ye.test(e)&&i.reverse()),this.pushStack(i)}});var _e=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,r,i,a=[],s=[],l=-1,u=function(){for(i=e.once,r=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function t(n){oe.each(n,function(n,r){oe.isFunction(r)?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==oe.type(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?oe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var a=oe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},i={};return r.pipe=r.then,oe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=K.call(arguments),a=o.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?K.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().progress(u(i,n,t)).done(u(i,r,o)).fail(l.reject):--s;return s||l.resolveWith(r,o),l.promise()}});var we;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(!0===e?--oe.readyWait:oe.isReady)||(oe.isReady=!0,!0!==e&&--oe.readyWait>0||(we.resolveWith(Q,[oe]),oe.fn.triggerHandler&&(oe(Q).triggerHandler("ready"),oe(Q).off("ready"))))}}),oe.ready.promise=function(t){return we||(we=oe.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?e.setTimeout(oe.ready):(Q.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),we.promise(t)},oe.ready.promise();var Ce=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===oe.type(n)){i=!0;for(s in n)Ce(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,oe.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(oe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},Ee=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Ee(e))return{};var t=e[this.expando];return t||(t={},Ee(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?r=t.concat(t.map(oe.camelCase)):(i=oe.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(_e)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var xe=new s,Te=new s,Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/[A-Z]/g;oe.extend({hasData:function(e){return Te.hasData(e)||xe.hasData(e)},data:function(e,t,n){return Te.access(e,t,n)},removeData:function(e,t){Te.remove(e,t)},_data:function(e,t,n){return xe.access(e,t,n)},_removeData:function(e,t){xe.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Te.get(o),1===o.nodeType&&!xe.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),l(o,r,i[r])));xe.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Te.set(this,e)}):Ce(this,function(t){var n,r;if(o&&void 0===t){if(void 0!==(n=Te.get(o,e)||Te.get(o,e.replace(Ie,"-$&").toLowerCase())))return n;if(r=oe.camelCase(e),void 0!==(n=Te.get(o,r)))return n;if(void 0!==(n=l(o,r,void 0)))return n}else r=oe.camelCase(e),this.each(function(){var n=Te.get(this,r);Te.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&Te.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Te.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=xe.get(e,t),n&&(!r||oe.isArray(n)?r=xe.access(e,t,oe.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),r=n.length,i=n.shift(),o=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return xe.get(e,n)||xe.access(e,n,{empty:oe.Callbacks("once memory").add(function(){xe.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=oe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=xe.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),Me=["Top","Right","Bottom","Left"],Oe=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Ae=/^(?:checkbox|radio)$/i,Re=/<([\w:-]+)/,Ne=/^$|\/(?:java|ecma)script/i,je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td;var Le=/<|&#?\w+;/;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var De=/^key/,Ue=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Fe=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,h,f,m,g=xe.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=oe.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(_e)||[""],u=t.length;u--;)s=Fe.exec(t[u])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h&&(d=oe.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=oe.event.special[h]||{},c=oe.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&oe.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&!1!==d.setup.call(e,r,f,a)||e.addEventListener&&e.addEventListener(h,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),oe.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,h,f,m,g=xe.hasData(e)&&xe.get(e);if(g&&(l=g.events)){for(t=(t||"").match(_e)||[""],u=t.length;u--;)if(s=Fe.exec(t[u])||[],h=m=s[1],f=(s[2]||"").split(".").sort(),h){for(d=oe.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,p=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||oe.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)oe.event.remove(e,h+t[u],n,r,!0);oe.isEmptyObject(l)&&xe.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,r,i,o,a=[],s=K.call(arguments),l=(xe.get(this,"events")||{})[e.type]||[],u=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=oe.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((oe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?oe(i,this).index(l)>-1:oe.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Q,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ue.test(i)?this.mouseHooks:De.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new oe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?h:f):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||oe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,r){return g(this,e,t,n,r)},one:function(e,t,n,r){return g(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=f),this.each(function(){oe.event.remove(this,e,n,t)})}});var He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Be=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(He,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=c(s),o=c(e),r=0,i=o.length;i>r;r++)w(o[r],a[r]);if(t)if(n)for(o=o||c(e),a=a||c(s),r=0,i=o.length;i>r;r++)_(o[r],a[r]);else _(e,s);return a=c(s,"script"),a.length>0&&d(a,!l&&c(e,"script")),s},cleanData:function(e){for(var t,n,r,i=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(Ee(n)){if(t=n[xe.expando]){if(t.events)for(r in t.events)i[r]?oe.event.remove(n,r):oe.removeEvent(n,r,t.handle);n[xe.expando]=void 0}n[Te.expando]&&(n[Te.expando]=void 0)}}}),oe.fn.extend({domManip:C,detach:function(e){return E(this,e,!0)},remove:function(e){return E(this,e)},text:function(e){return Ce(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){v(this,e).appendChild(e)}})},prepend:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!je[(Re.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return C(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,r=[],i=oe(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),oe(i[a])[t](n),J.apply(r,n.get());return this.pushStack(r)}});var Ge,qe={HTML:"block",BODY:"block"},Ye=/^margin/,$e=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),Qe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ke=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Xe=Q.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Xe.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Xe.removeChild(a)}var n,r,i,o,a=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),oe.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),i},reliableMarginLeft:function(){return null==r&&t(),o},reliableMarginRight:function(){var t,n=s.appendChild(Q.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Xe.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Xe.removeChild(a),s.removeChild(n),t}}))}();var Je=/^(none|table(?!-c[ea]).+)/,Ze={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"},tt=["Webkit","O","Moz","ms"],nt=Q.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=S(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=oe.camelCase(t),l=e.style;return t=oe.cssProps[s]||(oe.cssProps[s]=k(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=Pe.exec(n))&&i[1]&&(n=u(e,t,i),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(oe.cssNumber[s]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=k(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=S(e,t,r)),"normal"===i&&t in et&&(i=et[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,r){return n?Je.test(oe.css(e,"display"))&&0===e.offsetWidth?Ke(e,Ze,function(){return O(e,t,r)}):O(e,t,r):void 0},set:function(e,n,r){var i,o=r&&Qe(e),a=r&&M(e,t,r,"border-box"===oe.css(e,"boxSizing",!1,o),o);return a&&(i=Pe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),P(e,n,a)}}}),oe.cssHooks.marginLeft=I(re.reliableMarginLeft,function(e,t){return t?(parseFloat(S(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=I(re.reliableMarginRight,function(e,t){return t?Ke(e,{display:"inline-block"},S,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Me[r]+t]=o[r]||o[r-2]||o[0];return i}},Ye.test(e)||(oe.cssHooks[e+t].set=P)}),oe.fn.extend({css:function(e,t){return Ce(this,function(e,t,n){var r,i,o={},a=0;if(oe.isArray(t)){for(r=Qe(e),i=t.length;i>a;a++)o[t[a]]=oe.css(e,t[a],!1,r);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Oe(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=R,R.prototype={constructor:R,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=R.prototype.init,oe.fx.step={};var rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;oe.Animation=oe.extend(F,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Pe.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(_e);for(var n,r=0,i=e.length;i>r;r++)n=e[r],F.tweeners[n]=F.tweeners[n]||[],F.tweeners[n].unshift(t)},prefilters:[D],prefilter:function(e,t){t?F.prefilters.unshift(e):F.prefilters.push(e)}}),oe.speed=function(e,t,n){var r=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){
var i=oe.isEmptyObject(e),o=oe.speed(t,n,r),a=function(){var t=F(this,oe.extend({},e),o);(i||xe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=oe.timers,a=xe.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&at.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||oe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=xe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=oe.timers,a=r?r.length:0;for(n.finish=!0,oe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,r,i)}}),oe.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers;for(rt=oe.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),rt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){it||(it=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(it),it=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),n=t.appendChild(Q.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var st,lt=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return Ce(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),i=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?st:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=oe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(_e);if(o&&1===e.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),st={set:function(e,t,n){return!1===t?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||oe.find.attr;lt[t]=function(e,t,r){var i,o;return r||(o=lt[t],lt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,lt[t]=o),i}});var ut=/^(?:input|select|textarea|button)$/i,ct=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Ce(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,i=oe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),re.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var dt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[l++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace(dt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=oe.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[l++];)if(i=H(n),r=1===n.nodeType&&(" "+i+" ").replace(dt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=oe.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,H(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=oe(this),o=e.match(_e)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=H(this),t&&xe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":xe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+H(n)+" ").replace(dt," ").indexOf(t)>-1)return!0;return!1}});var pt=/\r/g,ht=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=oe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,oe(this).val()):e,null==i?i="":"number"==typeof i?i+="":oe.isArray(i)&&(i=oe.map(i,function(e){return null==e?"":e+""})),(t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=oe.valHooks[i.type]||oe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(pt,""):null==n?"":n)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(ht," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],(n.selected||l===i)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=oe.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=oe.inArray(oe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>-1:void 0}},re.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ft=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,r,i){var o,a,s,l,u,c,d,p=[r||Q],h=ne.call(t,"type")?t.type:t,f=ne.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!ft.test(h+oe.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),u=h.indexOf(":")<0&&"on"+h,t=t[oe.expando]?t:new oe.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:oe.makeArray(n,[t]),d=oe.event.special[h]||{},i||!d.trigger||!1!==d.trigger.apply(r,n))){if(!i&&!d.noBubble&&!oe.isWindow(r)){for(l=d.delegateType||h,ft.test(l+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||Q)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||h,c=(xe.get(a,"events")||{})[t.type]&&xe.get(a,"handle"),c&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Ee(a)&&(t.result=c.apply(a,n),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),n)||!Ee(r)||u&&oe.isFunction(r[h])&&!oe.isWindow(r)&&(s=r[u],s&&(r[u]=null),oe.event.triggered=h,r[h](),oe.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(r,null,t)}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=xe.access(r,t);i||r.addEventListener(e,n,!0),xe.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=xe.access(r,t)-1;i?xe.access(r,t,i):(r.removeEventListener(e,n,!0),xe.remove(r,t))}}});var mt=e.location,gt=oe.now(),vt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var yt=/#.*$/,bt=/([?&])_=[^&]*/,_t=/^(.*?):[ \t]*([^\r\n]*)$/gm,wt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ct=/^(?:GET|HEAD)$/,Et=/^\/\//,xt={},Tt={},St="*/".concat("*"),It=Q.createElement("a");It.href=mt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt.href,type:"GET",isLocal:wt.test(mt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":St,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,oe.ajaxSettings),t):z(oe.ajaxSettings,e)},ajaxPrefilter:B(xt),ajaxTransport:B(Tt),ajax:function(t,n){function r(t,n,r,s){var u,d,y,b,w,E=n;2!==_&&(_=2,l&&e.clearTimeout(l),i=void 0,a=s||"",C.readyState=t>0?4:0,u=t>=200&&300>t||304===t,r&&(b=V(p,C,r)),b=G(p,b,C,u),u?(p.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(oe.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(oe.etag[o]=w)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=b.state,d=b.data,y=b.error,u=!y)):(y=E,!t&&E||(E="error",0>t&&(t=0))),C.status=t,C.statusText=(n||E)+"",u?m.resolveWith(h,[d,E,C]):m.rejectWith(h,[C,E,y]),C.statusCode(v),v=void 0,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?d:y]),g.fireWith(h,[C,E]),c&&(f.trigger("ajaxComplete",[C,p]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,l,u,c,d,p=oe.ajaxSetup({},n),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?oe(h):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=p.statusCode||{},y={},b={},_=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!s)for(s={};t=_t.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return _||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)v[t]=[v[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(m.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((t||p.url||mt.href)+"").replace(yt,"").replace(Et,mt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(_e)||[""],null==p.crossDomain){u=Q.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=It.protocol+"//"+It.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional)),W(xt,p,n,C),2===_)return C;c=oe.event&&p.global,c&&0==oe.active++&&oe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ct.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(vt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=bt.test(o)?o.replace(bt,"$1_="+gt++):o+(vt.test(o)?"&":"?")+"_="+gt++)),p.ifModified&&(oe.lastModified[o]&&C.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&C.setRequestHeader("If-None-Match",oe.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+St+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)C.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,C,p)||2===_))return C.abort();w="abort";for(d in{success:1,error:1,complete:1})C[d](p[d]);if(i=W(Tt,p,n,C)){if(C.readyState=1,c&&f.trigger("ajaxSend",[C,p]),2===_)return C;p.async&&p.timeout>0&&(l=e.setTimeout(function(){C.abort("timeout")},p.timeout));try{_=1,i.send(y,r)}catch(e){if(!(2>_))throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,r,i){return oe.isFunction(n)&&(i=i||r,r=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:i,data:n,success:r},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var kt=/%20/g,Pt=/\[\]$/,Mt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,r=[],i=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){i(this.name,this.value)});else for(n in e)q(n,e[n],t,i);return r.join("&").replace(kt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&At.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Rt={0:200,1223:204},Nt=oe.ajaxSettings.xhr();re.cors=!!Nt&&"withCredentials"in Nt,re.ajax=Nt=!!Nt,oe.ajaxTransport(function(t){var n,r;return re.cors||Nt&&!t.crossDomain?{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Rt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){n&&n()}}}});var jt=[],Lt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||oe.expando+"_"+gt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Lt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Lt,"$1"+i):!1!==t.jsonp&&(t.url+=(vt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||oe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?oe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,jt.push(i)),a&&oe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Q;var r=fe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=p([e],t,i),i&&i.length&&oe(i).remove(),oe.merge([],r.childNodes))};var Dt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Dt)return Dt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=oe.trim(e.slice(s)),e=e.slice(0,s)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&oe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=oe.css(e,"position"),d=oe(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,oe.contains(t,r)?(i=r.getBoundingClientRect(),n=Y(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(n,"marginTop",!0),left:t.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Xe})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(r){return Ce(this,function(e,r,i){var o=Y(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=I(re.pixelPosition,function(e,n){return n?(n=S(e,t),$e.test(n)?oe(e).position()[t]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){oe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Ce(this,function(t,n,r){var i;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?oe.css(t,n,a):oe.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Ut=e.jQuery,Ft=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=Ft),t&&e.jQuery===oe&&(e.jQuery=Ut),oe},t||(e.jQuery=e.$=oe),oe}),define("lib/jquery/dist/jquery.min",function(){});var g_ugFunctions=new UGFunctions;jQuery.fn.unitegallery=function(e){var t=jQuery(this),n="#"+t.attr("id");if(!e)var e={};var r=new UniteGalleryMain;return r.run(n,e),new UG_API(r)},void 0!==g_ugFunctions?g_ugFunctions.registerTheme("tiles"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tiles")}),define("storymaps/tpl/utils/UniteGallery",function(){}),define("storymaps-react/tpl/print/media/ImageGallery",["module","exports","react","./Media","./Text","lib/jquery/dist/jquery.min","storymaps/tpl/utils/UniteGallery"],function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=o(n),c=o(r),d=o(i),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),p(t,[{key:"componentDidMount",value:function(){$(this.galleryContainer).unitegallery({gallery_theme:"tiles",gallery_control_keyboard:!1,tiles_type:"justified",tile_enable_action:!1,tile_enable_overlay:!1,tiles_justified_row_height:150,theme_preloading_height:150,tiles_justified_space_between:10})}},{key:"renderImages",value:function(){var e=this;return this.props.media.images.map(function(t,n){var r=e.addToken(t.url);return u.default.createElement("img",{key:e.props.blockKey+"-img"+n,alt:"",src:r,"data-index":n,"data-image":r,"data-width":t.width,"data-height":t.height})})}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"media-wrapper gallery"},u.default.createElement("div",{id:"gallery-"+this.props.blockKey,ref:function(t){e.galleryContainer=t}},this.renderImages()),u.default.createElement(d.default,{text:this.props.media.caption,tag:"figcaption"}))}}]),t}(c.default);t.default=h,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/Sequence",[],function(){}),define("storymaps-react/tpl/print/section/Sequence",["module","exports","react","../media/MediaFactory","../media/ImageGallery","../media/Text","./SectionNumber","lib-build/less!../styles/Sequence"],function(e,t,n,r,i,o,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),h=s(i),f=s(o),m=s(a),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),g(t,[{key:"renderBlock",value:function(e,t){if(e.alternate&&e.alternate.type&&this.props.useAltMedia)return this.renderBlock(e.alternate,t);var n=this.props.sectionKey+"-block-"+t;return"text"===e.type?d.default.createElement(f.default,{key:n,text:e.text.value}):"image-gallery"===e.type?d.default.createElement(h.default,{key:n,blockKey:n,media:e["image-gallery"]}):d.default.createElement(p.default,{media:e,key:n,themeClass:this.props.appThemeClass})}},{key:"render",value:function(){var e=this.props.section.foreground.blocks,t=e.map(this.renderBlock.bind(this));return d.default.createElement("div",{className:"sequence"},d.default.createElement(m.default,{num:this.props.index}),t)}}]),t}(n.Component);t.default=v,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/Immersive",[],function(){}),define("storymaps-react/tpl/print/section/Immersive",["module","exports","react","../media/MediaFactory","../media/ImageBlock","../media/ImageBackground","../media/Video","../media/Webmap","../media/Webscene","../media/Text","./SectionNumber","lib-build/less!../styles/Immersive"],function(e,t,n,r,i,o,a,s,l,u,c){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var m=d(n),g=d(r),v=d(i),y=d(o),b=d(a),_=d(s),w=d(l),C=d(u),E=d(c),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),x(t,[{key:"renderTitle",value:function(e){return e&&e.length&&e[0].foreground&&e[0].foreground.title?m.default.createElement("div",{className:"title-immersive"},e[0].foreground.title.value):null}},{key:"renderText",value:function(e,t){return m.default.createElement(C.default,{key:t,text:e,tag:"div"})}},{key:"renderForegroundImage",value:function(e,t,n){return m.default.createElement(v.default,{key:n,themeClass:t,media:e})}},{key:"renderForegroundVideo",value:function(e,t,n){return m.default.createElement(b.default,{key:n,themeClass:t,media:e})}},{key:"areBackgroundsDuplicate",value:function(e,t){return!!(e&&t&&e.type&&t.type&&e.type===t.type)&&((e[e.type].id||e[e.type].url)===(t[t.type].id||t[t.type].url)&&("image"===e.type?y.default.isDuplicate(e.image,t.image):"webmap"===e.type?_.default.isDuplicate(e.webmap,t.webmap):"webscene"!==e.type||w.default.isDuplicate(e.webscene,t.webscene)))}},{key:"renderBackground",value:function(e,t,n){var r=n[t-1]?n[t-1].background:null,i=e.background;if(this.areBackgroundsDuplicate(r,i))return null;var o=i.type,a=i[o]||i;return"empty"!==a&&a?(a.options=a.options||{},Object.assign(a.options,{size:"background"}),m.default.createElement(g.default,{media:a,useAltMedia:this.props.useAltMedia,themeClass:this.props.appThemeClass})):m.default.createElement(y.default,{media:null,themeClass:null})}},{key:"renderPanelBlock",value:function(e,t,n,r){var i=n+"-block-"+t,o=e.type;if("text"===o)return m.default.createElement(C.default,{key:i,text:e.text.value,tag:"div"});var a=e[o];return m.default.createElement(g.default,{media:a,themeClass:r,key:i,useAltMedia:this.props.useAltMedia})}},{key:"renderViews",value:function(e){var t=this;return e.map(function(n,r){var i=t.props.sectionKey+"-view-"+r,o=t.renderBackground(n,r,e),a=n.foreground.panels[0].settings.theme,s=n.foreground.panels[0].blocks.map(function(e,n){return t.renderPanelBlock(e,n,i,a)});return m.default.createElement("div",{className:"immersive-view",key:i},o,m.default.createElement("div",{className:"immersive-panel"},s))})}},{key:"render",value:function(){var e=this.props.section.views
;return m.default.createElement("div",{className:"immersive"},m.default.createElement(E.default,{num:this.props.index}),this.renderTitle(e),this.renderViews(e))}}]),t}(n.Component);t.default=T,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/Credits",[],function(){}),define("storymaps-react/tpl/print/section/Credits",["module","exports","react","../media/Text","./SectionNumber","lib-build/less!../styles/Credits"],function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=o(n),c=o(r),d=o(i),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),p(t,[{key:"renderText",value:function(e){return e&&e.blocks?e.blocks.map(function(e,t){return e.text?u.default.createElement(c.default,{text:e.text.value,key:"credits-"+t}):null}):null}},{key:"renderCredits",value:function(e){return e&&e.credits?e.credits.map(function(e,t){var n=void 0;return n=e.link?u.default.createElement("div",{className:"credit-link"},u.default.createElement("a",{href:e.link,target:"_blank"},e.source)):u.default.createElement("div",{className:"credit-link"},e.source),u.default.createElement("div",{className:"credit-row",key:"credits-"+t},u.default.createElement("div",{className:"credit-text"},e.label),u.default.createElement("div",{className:"credit-pipe"}),n)}):null}},{key:"render",value:function(){var e=this.props.section.foreground.panels;return u.default.createElement("div",{className:"credits"},u.default.createElement(d.default,{num:this.props.index}),this.renderText(e[0]),this.renderCredits(e[1]))}}]),t}(n.Component);t.default=h,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/PrintSettings",[],function(){}),define("storymaps-react/tpl/print/section/PrintSettings",["module","exports","react","lib-build/i18n!resources/tpl/viewer/nls/app","lib-build/less!../styles/PrintSettings"],function(e,t,n,r){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){return e&&e.__esModule?e:{default:e}}(n),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=r.print.settings,d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=e.settings,n.handleInputChange=n.handleInputChange.bind(n),n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.settings,n={};!t.sectionStart&&0!==t.sectionStart||t.sectionStart===this.state.sectionStart||Object.assign(n,{sectionStart:t.sectionStart}),!t.sectionEnd&&0!==t.sectionEnd||t.sectionEnd===this.state.sectionEnd||Object.assign(n,{sectionEnd:t.sectionEnd}),this.setState(n)}},{key:"handleInputChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=e.target.name,o=i({},r,n);r.match("section")||this.props.onChange(o),this.setState(o)}},{key:"prepUrlParamChange",value:function(){this.props.triggerUrlParamChange({sectionStart:this.state.sectionStart,sectionEnd:this.state.sectionEnd})}},{key:"prepUrlParamReset",value:function(){this.props.triggerUrlParamReset(["sectionStart","sectionEnd"])}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"print-settings"},l.default.createElement("div",{className:"print-warning"},c.pleaseWait),l.default.createElement("div",{className:"instructions"},c.printNotes),l.default.createElement("div",{className:"flex-wrapper"},l.default.createElement("div",{className:"options"},l.default.createElement("div",{className:"heading"},c.printOptions),l.default.createElement("div",{className:"black-text"},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",name:"blackText",value:"black",checked:this.state.blackText,onChange:this.handleInputChange}),c.makeTextBlack)),l.default.createElement("div",{className:"links"},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",name:"links",value:"inline",checked:this.state.links,onChange:this.handleInputChange}),c.showLinks)),l.default.createElement("div",{className:"page-breaks"},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",name:"pageBreaks",value:"section",checked:this.state.pageBreaks,onChange:this.handleInputChange}),c.pageBreaks)),l.default.createElement("div",{className:"alt-media"},l.default.createElement("label",null,l.default.createElement("input",{type:"checkbox",name:"useAltMedia",value:"alt",checked:this.state.useAltMedia,onChange:this.handleInputChange}),c.useAltMedia))),l.default.createElement("div",{className:"section-numbers"},l.default.createElement("div",{className:"heading"},c.printRange),l.default.createElement("div",{className:"section-range"},l.default.createElement("label",null,c.sectionStart,"Â ",l.default.createElement("input",{type:"textbox",name:"sectionStart",value:this.state.sectionStart,onChange:this.handleInputChange})),l.default.createElement("label",null,"â",l.default.createElement("input",{type:"textbox",name:"sectionEnd",value:this.state.sectionEnd,onChange:this.handleInputChange})),l.default.createElement("button",{className:"btn-apply btn btn-sm btn-primary",onClick:function(){return e.prepUrlParamChange()}},c.go),l.default.createElement("button",{className:"btn-reset btn btn-link",onClick:function(){return e.prepUrlParamReset()}},c.reset))),l.default.createElement("div",{className:"print-btn-wrapper"},l.default.createElement("button",{className:"btn print-btn btn-sm btn-primary",onClick:function(){return window.print()}},c.print))))}}]),t}(n.Component);t.default=d,e.exports=t.default}),define("lib-build/less!storymaps-react/tpl/print/styles/PrintView",[],function(){}),define("storymaps-react/tpl/print/PrintViewReact",["module","exports","react","storymaps/tpl/utils/CommonHelper","./section/Cover","./section/Title","./section/Sequence","./section/Immersive","./section/Credits","./section/PrintSettings","lib-build/i18n!resources/tpl/viewer/nls/app","lib-build/less!./styles/PrintView.less"],function(e,t,n,r,i,o,a,s,l,u,c){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var g=d(n),v=d(r),y=d(i),b=d(o),_=d(a),w=d(s),C=d(l),E=d(u),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=c.print.page,S=function(e){function t(e){h(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r={appSections:null,appSettings:{},printSettings:{blackText:!1,links:!1,sectionStart:0,sectionEnd:0,useAltMedia:!1,pageBreaks:!1}};return Object.assign(r,{appSections:e.props.appSections,appSettings:e.props.appSettings,printSettings:Object.assign(r.printSettings,e.props.printSettings)}),n.state=r,n}return m(t,e),x(t,[{key:"componentDidMount",value:function(){var e=v.default.getUrlParams(),t=["print","sectionStart","sectionEnd"];Object.keys(e).forEach(function(n){t.indexOf(n)>=0&&delete e[n]});var n=this.constructSearchArrFromParamsObj(e),r=window.location.origin+window.location.pathname;n.length&&(r+="?"+n.join("&")),this.getAndSetShortenedUrl(r)}},{key:"getAndSetShortenedUrl",value:function(e){var t=this;$.getJSON("https://arcg.is/prod/shorten?callback=?",{longUrl:e},function(n){var r=e;n&&n.data&&n.data.url&&(r=n.data.url),t.shortLink.innerHTML=r,$(t.shortLink).attr("href",r)})}},{key:"getAppTheme",value:function(){var e=this.state.appSettings.theme,t=e&&(e=e.colors)&&(e=e.themeMajor)?"bg-"+e:"";return"bg-dark"!==t&&"bg-light"!==t?"bg-custom":t}},{key:"renderSections",value:function(){var e=this;if(!this.state.appSections)return null;var t=this.state.printSettings.useAltMedia,n=this.getAppTheme();return this.state.appSections.map(function(r,i){var o=i+e.state.printSettings.sectionStart,a="section-"+i;return"cover"===r.type?g.default.createElement(y.default,{index:o,section:r,header:e.state.appSettings.header,key:a,sectionKey:a,useAltMedia:t,appThemeClass:n}):"sequence"===r.type?g.default.createElement(_.default,{index:o,section:r,key:a,sectionKey:a,useAltMedia:t,appThemeClass:n}):"title"===r.type?g.default.createElement(b.default,{index:o,section:r,key:a,sectionKey:a,appThemeClass:n}):"immersive"===r.type?g.default.createElement(w.default,{index:o,section:r,key:a,sectionKey:a,useAltMedia:t,appThemeClass:n}):"credits"===r.type?g.default.createElement(C.default,{index:o,section:r,key:a,sectionKey:a}):g.default.createElement("div",{key:a,style:{backgroundColor:"fuchsia"}},"MISSING: Section ",r.type)})}},{key:"changePrintSettings",value:function(e){this.setState({printSettings:Object.assign({},this.state.printSettings,e)})}},{key:"changeUrlParams",value:function(e){var t=v.default.getUrlParams();t.print=!0;var n=!1;Object.keys(e).forEach(function(r){e[r]!=t[r]&&(Object.assign(t,p({},r,e[r])),n=!0)}),n&&this.reloadPage(t)}},{key:"resetUrlParams",value:function(e){var t=v.default.getUrlParams();t.print=!0;var n=!1;e.forEach(function(e){t.hasOwnProperty(e)&&(delete t[e],n=!0)}),n&&this.reloadPage(t)}},{key:"constructSearchArrFromParamsObj",value:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})}},{key:"reloadPage",value:function(e){var t=this.constructSearchArrFromParamsObj(e);window.location.search="?"+t.join("&")}},{key:"renderAppTagline",value:function(){var e=this,t=T.appTagline.split(/\$\{(.+?)\}/),n=t.map(function(e,t){var n="tag-"+t;return"CASCADE_LINK_TEXT"===e?g.default.createElement("a",{key:n,target:"_blank",href:app.cfg.HELP_URL},T.cascadeLinkText):g.default.createElement("span",{key:n},e)}),r=T.readItOnline.split(/\$\{(.+?)\}/),i=r.map(function(t,n){var r="readit-"+n;return"STORY_URL"===t?g.default.createElement("a",{key:r,target:"_blank",ref:function(t){e.shortLink=t}}):g.default.createElement("span",{key:r},t)});return g.default.createElement("div",{className:"app-tagline"},g.default.createElement("div",null,n),g.default.createElement("div",null,i))}},{key:"renderCustomStyles",value:function(){var e=this.state.appSettings,t=[];return e&&(e=e.theme)&&(e=e.fonts)&&(e.titleFont&&t.push("h1, h2, h3, h4, h5, h6 { font-family: "+e.titleFont.fontFamily+";}"),e.titleFont&&t.push("body { font-family: "+e.bodyFont.fontFamily+";}")),"bg-custom"===this.getAppTheme()&&(e=this.state.appSettings)&&(e=e.theme)&&(e=e.colors)&&(e=e.bgMain)&&t.push(".bg-custom:not(figure), .bg-custom img { background: "+e+";}"),t.length?g.default.createElement("style",{dangerouslySetInnerHTML:{__html:t.join(" ")}}):null}},{key:"render",value:function(){var e="casc-print",t=this.state.printSettings;return t.blackText&&(e+=" black-text"),t.links&&(e+=" links-inline"),t.pageBreaks&&(e+=" page-breaks"),g.default.createElement("div",{className:e,key:"print"},this.renderCustomStyles(),g.default.createElement(E.default,{settings:this.state.printSettings,onChange:this.changePrintSettings.bind(this),triggerUrlParamChange:this.changeUrlParams.bind(this),triggerUrlParamReset:this.resetUrlParams.bind(this)}),this.renderAppTagline(),this.renderSections())}}]),t}(n.Component);t.default=S,e.exports=t.default}),define("storymaps-react/tpl/print/PrintViewWrapper",["module","exports","react","react-dom","esri/urlUtils","storymaps-react/tpl/core/Controller","./PrintViewReact"],function(e,t,n,r,i,o,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d=s(n),p=s(r),h=s(i),f=s(o),m=s(a),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $("body").addClass("print-view"),app.Controller=f.default,n}return c(t,e),g(t,[{key:"appInitComplete",value:function(){if(!app.data||!app.data.appItem)return void console.warn("No app data",app);var e=h.default.urlToObject(window.location.href).query,t=app.data.appItem.data.values,n=t.sections,r=n,i=1,o=n.length;e&&(i=parseInt(e.sectionStart||i,10),o=parseInt(e.sectionEnd||o,10),r=n.slice(i-1,o));var a=n[0];a&&(a=a.foreground)&&(a=a.title)&&(document.title=a);var s={allSections:n,appSections:r,appSettings:t.settings,printSettings:{sectionStart:i,sectionEnd:o}};this.render(s),this.hideLoadingOverlay()}},{key:"hideLoadingOverlay",value:function(){$("#loadingIndicator, #loadingMessage").addClass("fadeOut").fadeOut(300),$("#loadingOverlay").fadeOut(600)}},{key:"init",value:function(){return!0}},{key:"isStoryBlank",value:function(){return app.Controller.isStoryBlank()}},{key:"render",value:function(e){p.default.render(d.default.createElement(m.default,{props:e}),document.getElementById("print-wrapper"))}}]),t}(n.Component);t.default=v,e.exports=t.default}),require(["storymaps/tpl/core/Core","storymaps-react/tpl/print/PrintViewWrapper"],function(){}),define("storymaps/tpl/BuildConfigPrint",function(){});